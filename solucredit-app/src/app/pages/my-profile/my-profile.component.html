<div class="row">
    <div class="col-md-9">
        <app-stepper [selectedId]="currentProcessStep" [configuration]="stepperConfiguration" id="step1"
            (changeStep)="changeStep($event)"></app-stepper>
        <!-- STATUS SECTION -->
        <div class="row" *ngIf="false">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">

                        <ul class="wizard-navbar">

                            <div class="liner"></div>

                            <li class="active flex-fill">
                                <!-- Ingresa tus documentos, DPI y carta de consentimiento -->
                                <a [ngClass]="(initialRelation && (initialRelation.status == 1 || initialRelation.status == 4) && formList.length == 0) || currentProcessStep == 0 ? 'nav-link active' : 'nav-link' "
                                    uiSrefActive="active" uiSref="step1" data-toggle="tab"
                                    title="Documentación de inicio de relación">
                                    <span
                                        [ngClass]="currentProcessStep > 0 ? 'solucredit-client-process-step-done' : ''"
                                        class="round-tabs hover-blue one" (click)="changeStep(0)"
                                        style="cursor: pointer;">
                                        <i class="icon-user-following"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="flex-fill">
                                <!-- Ve a FORMULARIOS y completalos -->
                                <a [ngClass]="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 1 ? 'nav-link active' : 'nav-link' "
                                    uiSrefActive="active" uiSref="step2" data-toggle="tab2"
                                    title="Ingreso de datos de formularios">
                                    <span
                                        [ngClass]="step2Done && !((initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 1) ? 'solucredit-client-process-step-done' : ''"
                                        class="round-tabs hover-blue two" (click)="changeStep(1)"
                                        style="cursor: pointer;">
                                        <i class="icon-note"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="flex-fill">
                                <!-- Ve a la sección requisitos y sube los archivo necesarios para completarlos -->
                                <a [ngClass]="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 2 ? 'nav-link active' : 'nav-link' "
                                    uiSrefActive="active" uiSref="step3" data-toggle="tab3"
                                    title="Ingreso de requisitos">
                                    <span
                                        [ngClass]="step3Done && !((initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 2) ? 'solucredit-client-process-step-done' : ''"
                                        class="round-tabs hover-blue three" (click)="changeStep(2)"
                                        style="cursor: pointer;">
                                        <i class="icon-book-open"></i>
                                    </span>
                                </a>
                            </li>

                            <li class="flex-fill">
                                <!-- Sube los formularios llenos y firmados -->
                                <a [ngClass]="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 3 ? 'nav-link active' : 'nav-link'"
                                    uiSrefActive="active" uiSref="step4" data-toggle="tab4"
                                    title="Subir formularios llenos y firmados">
                                    <span
                                        [ngClass]="step4Done && !((initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 3) ? 'solucredit-client-process-step-done' : ''"
                                        class="round-tabs hover-blue four" (click)="changeStep(3)"
                                        style="cursor: pointer;">
                                        <i class="icon-cloud-upload"></i>
                                    </span>
                                </a>
                            </li>

                        </ul>
                        <!-- INICIO DE RELACION -->
                        <h4 class="text-center"
                            *ngIf="(initialRelation && initialRelation.status == 1) || (currentProcessStep == 0 && initialRelation && initialRelation.status != 4)">
                            Paso 1: Documentación de Inicio de Relación
                        </h4>
                        <h5 class="text-center text-muted"
                            *ngIf="(initialRelation && initialRelation.status == 1) || (currentProcessStep == 0 && initialRelation && initialRelation.status != 4)">
                            Ingresa tus documentos: DPI y Carta de Consentimiento
                        </h5>
                        <div class="text-center"
                            *ngIf="(initialRelation && initialRelation.status == 1) || (currentProcessStep == 0 && initialRelation && initialRelation.status != 4)">
                            <button (click)="EditDoc()" class="btn btn-large text-white custom_btn1">
                                IR A MIS DOCUMENTOS
                            </button>
                        </div>

                        <!-- RELACION COMPLETADA -->
                        <h4 *ngIf="(initialRelation && initialRelation.status == 4 && formList.length == 0) && currentProcessStep == 0"
                            class="text-center">
                            Paso 1: Completado, tus datos estan en revisión, pronto te notificaremos el resultado.
                        </h4>
                        <h4 *ngIf="(initialRelation && initialRelation.status == 4 && formList.length > 0) && currentProcessStep == 0"
                            class="text-center">
                            Paso 1: Documentación de inicio de relación se ha completado.
                        </h4>

                        <!-- FASE 2 - FORMULARIOS -->
                        <h4 class="text-center"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 1">
                            Paso 2: Ingreso de datos de formularios
                        </h4>
                        <h5 class="text-center text-muted"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 1">
                            Entra a cada formulario e ingresa los datos necesarios para completarlos.
                        </h5>
                        <!-- FASE 3 - REQUISITOS -->
                        <h4 class="text-center"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 2">
                            Paso 3: Ingreso de requisitos
                        </h4>
                        <h5 class="text-center text-muted"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 2">
                            Sube los archivo necesarios para completar cada requisito.
                        </h5>

                        <!-- FASE 4 - SUBIR FORMULARIOS -->
                        <h4 class="text-center"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 3">
                            Paso 4: Subir formularios
                        </h4>
                        <h5 class="text-center text-muted"
                            *ngIf="(initialRelation && initialRelation.status >= 2 && formList.length > 0) && currentProcessStep == 3">
                            Sube los formularios llenos y firmados
                        </h5>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="lastrequest">
            <app-directive class='alert-custom-normal' [request_id]="lastrequest.request_id" [spinner]="this.spinner"
                *ngIf="dataCustomer" [customer_type]="dataCustomer.type" (showViews)="getShowViews($event)">
            </app-directive>
        </div>

        <!--  -->
        <!-- FORMS SECTION -->
        <div class="row" #formssection>
            <div class="col-12">
                <div class="card">
                    <div class="card-body p-r-0 p-l-0 p-t-0 " style="background: #fff;">
                        <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                            <ngb-tab *ngIf="currentProcessStep==0">
                                <ng-template ngbTabTitle>
                                    <b>DATOS GENERALES</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div *ngIf="dataCustomer&&dataCustomer.type == 1">
                                        <br>
                                        <div class="header" style="text-align: center;">
                                            <h4>Información de la empresa</h4>
                                        </div>
                                    </div>
                                    <div class="container">
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-lg-12 text-center ">
                                                        <div>
                                                            <img *ngIf="dataCustomer && dataCustomer.logotipo!=''&&dataCustomer.logotipo!=null"
                                                                [hidden]="dataCustomer.logotipo === null"
                                                                [src]="dataCustomer.logotipo" alt="logo"
                                                                style="max-height: 120px;" class="rounded-circle">
                                                            <img *ngIf="dataCustomer && dataCustomer.type == 0 && dataCustomer.logotipo==''&&dataCustomer.logotipo==null"
                                                                width="100" class="rounded-circle"
                                                                src="assets/images/user.png" />
                                                            <img *ngIf="dataCustomer && dataCustomer.type == 1 && dataCustomer.logotipo==''&&dataCustomer.logotipo==null"
                                                                width="100" class="rounded-circle"
                                                                src="assets/images/users.png" />
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12 text-center">
                                                        <h3 class="card-title m-t-10" *ngIf="dataCustomer">
                                                            {{dataCustomer.type === 0 ?
                                                            dataCustomer.name:(dataCustomer.commercialname?dataCustomer.commercialname:dataCustomer.businessname)}}
                                                        </h3>
                                                        <!-- <h6 class="card-subtitle" *ngIf="dataCustomer">
                                                                    {{dataCustomer.address1}} {{dataCustomer.address2}}
                                                                </h6> -->
                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-lg-4 text-right">
                                                        <label class="">
                                                            <b>Correo:</b>
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-8 text-left">
                                                        <div class="input-group col-sm-12 ">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text" id="basic-addon1">
                                                                    <i class="fas fa-map-marker-alt"></i>
                                                                </span>
                                                            </div>
                                                            <input class="form-control" disabled
                                                                [value]="dataCustomer?(dataCustomer.email?dataCustomer.email:'Sin asignar'):'Cargando...'">
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-lg-4 text-right">
                                                        <label class="">
                                                            <b>{{dataCustomer?.type==1?'NIT de la empresa':'NIT'}}:</b>
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-8 text-left">
                                                        <div class="input-group col-sm-12 ">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text" id="basic-addon1">
                                                                    <i class="fas fa-id-card"></i>
                                                                </span>
                                                            </div>
                                                            <input class="form-control" disabled
                                                                [value]="dataCustomer?(dataCustomer.nit?dataCustomer.nit:'Sin asignar'):'Cargando...'">
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-lg-4 text-right">
                                                        <label class="">
                                                            <b>DPI:</b>
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-8 text-left">
                                                        <div class="input-group col-sm-12 ">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text" id="basic-addon1">
                                                                    <i class="fas fa-id-card"></i>
                                                                </span>
                                                            </div>
                                                            <input class="form-control" disabled
                                                                [value]="dataCustomer?(dataCustomer.DPI?dataCustomer.DPI:'Sin asignar'):'Cargando...'">
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="row mb-3">
                                                    <div class="col-lg-4 text-right">
                                                        <label class="">
                                                            <b>Celular:</b>
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-8 text-left">
                                                        <div class="input-group col-sm-12 ">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text" id="basic-addon1">
                                                                    <i class="fas fa-phone"></i>
                                                                </span>
                                                            </div>
                                                            <input class="form-control" disabled
                                                                [value]="dataCustomer?(dataCustomer.phone?dataCustomer.phone:'Sin asignar'):'Cargando...'">
                                                        </div>

                                                    </div>

                                                </div>
                                                <div class="row m-b3">
                                                    <div class="col-lg-4 text-right">
                                                        <label class="">
                                                            <b>Dirección de la ubicación de la empresa:</b>
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-8 text-left">
                                                        <div class="input-group col-sm-12 ">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text" id="basic-addon1">
                                                                    <i class="fas fa-map-marker-alt"></i>
                                                                </span>
                                                            </div>
                                                            <input class="form-control" disabled
                                                                [value]="dataCustomer?(dataCustomer.address2?dataCustomer.address2:'Sin asignar dirección comercial'):'Cargando...'">
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-footer" style="background-color: white;">
                                                <div class="form-group m-b-0 text-right">
                                                    <button type="submit" class="btn btn-raised mr-1 text-white"
                                                        (click)="openEdit(editar2)" style="background-color: #3473da;">
                                                        <i class="fas fa-user"></i>
                                                        {{showAlertInformation?' Confirmar datos':' Actualizar datos'}}
                                                    </button>
                                                    <button type="button" class="btn btn-raised mr-1 text-white"
                                                        style="background-color: #3473da;" *ngIf="!showAlertInformation"
                                                        (click)="changeStep(1)">
                                                        <i class="fas fa-step-forward"></i>
                                                        Siguiente
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                            </ngb-tab>
                            <ngb-tab
                                *ngIf="(initialRelation && initialRelation.status >= 1) && currentProcessStep == 1">
                                <ng-template ngbTabTitle>
                                    <b>INFORMACIÓN GENERAL</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div>
                                        <ngb-tabset [justify]="currentJustify">
                                            <ngb-tab>
                                                <ng-template ngbTabTitle>MIS DOCUMENTOS</ng-template>
                                                <ng-template ngbTabContent>
                                                    <!-- <div class="main-part" *ngIf="disableView(User_Tab_Documents)">
                                                        <app-access-denied-page></app-access-denied-page>
                                                    </div> -->
                                                    <div class="card-img-overlay"
                                                        style="position: relative; margin-top:25px">

                                                        <div class="row">
                                                            <div class="col-lg-6 pb-3">
                                                                <div class="card pb-0 h-100" *ngIf="initialRelation"
                                                                    style="background-color: #b3c7d1; color: white;">
                                                                    <div class="card-body">
                                                                        <div class="d-flex flex-row">
                                                                            <div>
                                                                                <img *ngIf="dataCustomer && dataCustomer.type == 0"
                                                                                    width="100" class="rounded-circle"
                                                                                    src="assets/images/user.png" />
                                                                                <img *ngIf="dataCustomer && dataCustomer.type == 1"
                                                                                    width="100" class="rounded-circle"
                                                                                    src="assets/images/users.png" />
                                                                            </div>
                                                                            <div class="p-l-20">
                                                                                <h4 class="font-medium">
                                                                                    {{dataCustomer.type==1?dataCustomer.businessname:dataCustomer.name}}
                                                                                </h4>
                                                                                <h6
                                                                                    *ngIf="dataCustomer && dataCustomer.type == 0">
                                                                                    Cliente Individual</h6>
                                                                                <h6
                                                                                    *ngIf="dataCustomer && dataCustomer.type == 1">
                                                                                    Cliente Jurídico</h6>
                                                                                <button
                                                                                    [disabled]="initialRelation.DPI_key == null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocu(viewdocuments,'InicioRelacion',initialRelation.DPI_name,initialRelation.id)">
                                                                                    {{(dataCustomer &&
                                                                                    dataCustomer.type)=== 0 ? 'Ver DPI'
                                                                                    :
                                                                                    'Ver Acta'}}
                                                                                </button>
                                                                                <button
                                                                                    [disabled]="initialRelation.letter_of_consent_key == null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocu(viewdocuments,'InicioRelacion',initialRelation.letter_of_consent_name,initialRelation.id)">
                                                                                    Consentimiento
                                                                                </button>
                                                                                <div *ngIf="initialRelation&&initialRelation.status_doc===1"
                                                                                    class="mt-3">
                                                                                    <a (click)="EditDoc()"
                                                                                        class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                            _ngcontent-taf-c215=""
                                                                                            class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                                class="mdi mdi-alert-circle-outline"></i></span>
                                                                                        <h5 _ngcontent-taf-c215=""
                                                                                            class="mb-0 ml-1 text-dark">
                                                                                            Rechazado </h5>
                                                                                    </a>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 pb-3" *ngFor="let person of persons">
                                                                <div class="solucredit-base-card card  pb-0 h-100">
                                                                    <div class="card-body">
                                                                        <div class="d-flex flex-row">
                                                                            <div><img src="assets/images/user.png"
                                                                                    alt="user" width="100"
                                                                                    class="rounded-circle"></div>
                                                                            <div class="p-l-20">
                                                                                <h4 class="font-medium">
                                                                                    {{person.name}}
                                                                                </h4>
                                                                                <h6 *ngIf="person.representative_id">
                                                                                    Representante legal</h6>
                                                                                <h6 *ngIf="person.member_id">Socio</h6>
                                                                                <button
                                                                                    [disabled]="person.DPI_key===null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocu(viewdocuments,'InicioRelacion',person.DPI_name, person.id)">
                                                                                    DPI
                                                                                </button>
                                                                                <button
                                                                                    [disabled]="person.letter_of_consent_key===null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocu(viewdocuments,'InicioRelacion',person.letter_of_consent_name, person.id)">
                                                                                    Consentimiento
                                                                                </button>
                                                                                <div *ngIf="person.status_doc===1"
                                                                                    class="mt-3">
                                                                                    <a (click)="EditDoc()"
                                                                                        class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                            _ngcontent-taf-c215=""
                                                                                            class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                                class="mdi mdi-alert-circle-outline"></i></span>
                                                                                        <h5 _ngcontent-taf-c215=""
                                                                                            class="mb-0 ml-1 text-dark">
                                                                                            Rechazado </h5>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 pb-3">
                                                                <div (click)="EditDoc()"
                                                                    class="card pb-0 h-100 card-btn"
                                                                    style="background-color: #eef5f9;">
                                                                    <div class="card-body text-center mt-2 pt-5">
                                                                        <div class="row">
                                                                            <div class="col-3 text-right">
                                                                                <i class="display-6 icon-pencil"></i>
                                                                            </div>
                                                                            <div class="col-9 text-left">
                                                                                <h3 class="font-medium m-b-0">
                                                                                    Ingresa aquí toda la información de
                                                                                    tu empresa y avales
                                                                                </h3>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab>
                                                <ng-template ngbTabTitle><b>DOCUMENTOS DE AVALES</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <!-- <div class="main-part" *ngIf="disableView(User_Tab_Documents)">
                                                        <app-access-denied-page></app-access-denied-page>
                                                    </div> -->
                                                    <div class="card-img-overlay" style="position: relative;">
                                                        <div class="row">
                                                            <div class="col-lg-6 pb-3"
                                                                *ngFor="let fiducia of dataFiduciary">
                                                                <div class="solucredit-base-card card pb-0 h-100">
                                                                    <div class="card-body">
                                                                        <div class="d-flex flex-row">
                                                                            <div><img src="assets/images/user.png"
                                                                                    alt="user" width="100"
                                                                                    class="rounded-circle"></div>
                                                                            <div class="p-l-20">
                                                                                <h4 class="font-medium"
                                                                                    *ngIf="fiducia.type == 1">
                                                                                    {{fiducia.businessname}}</h4>
                                                                                <h4 class="font-medium"
                                                                                    *ngIf="fiducia.type == 0 || fiducia.type == 2 || fiducia.type == 3">
                                                                                    {{fiducia.name}}</h4>
                                                                                <h6 *ngIf="fiducia.type == 0">Aval
                                                                                    Individual</h6>
                                                                                <h6 *ngIf="fiducia.type == 1">Aval
                                                                                    Juridico</h6>
                                                                                <h6 *ngIf="fiducia.type == 2">
                                                                                    Representante de Aval
                                                                                    {{fiducia.businessname}}</h6>
                                                                                <h6 *ngIf="fiducia.type == 3">Socio de
                                                                                    Aval {{fiducia.businessname}}</h6>
                                                                                <button
                                                                                    [disabled]="fiducia.DPI_key===null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.DPI_name, fiducia.id_fiduciary)">
                                                                                    DPI
                                                                                </button>
                                                                                <button
                                                                                    [disabled]="fiducia.letter_of_consent_key===null"
                                                                                    class="btn btn-sm custom_btn1 text-white"
                                                                                    (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.letter_of_consent_name, fiducia.id_fiduciary)">
                                                                                    Consentimiento
                                                                                </button>
                                                                                <div *ngIf="fiducia.status_doc===1"
                                                                                    class="mt-3">
                                                                                    <a (click)="EditDoc()"
                                                                                        class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                            _ngcontent-taf-c215=""
                                                                                            class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                                class="mdi mdi-alert-circle-outline"></i></span>
                                                                                        <h5 _ngcontent-taf-c215=""
                                                                                            class="mb-0 ml-1 text-dark">
                                                                                            Rechazado </h5>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 pb-3">
                                                                <div (click)="EditDoc()"
                                                                    class="card pb-0 h-100 card-btn"
                                                                    style="background-color: #eef5f9;">
                                                                    <div class="card-body text-center mt-2 pt-5">
                                                                        <div class="row">
                                                                            <div class="col-3 text-right">
                                                                                <i class="display-6 icon-pencil"></i>
                                                                            </div>
                                                                            <div class="col-9 text-left">
                                                                                <h3 class="font-medium m-b-0">
                                                                                    Ingresa aquí toda la información de
                                                                                    tu empresa y avales
                                                                                </h3>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab>
                                                <ng-template ngbTabTitle><b>DOCUMENTOS ADICIONALES</b>
                                                    <span *ngIf="notifications.aditional_documents.count>0"
                                                        class="badge my-badge">{{notifications.aditional_documents.count}}</span>
                                                </ng-template>
                                                <ng-template ngbTabContent>

                                                    <div class="card-img-overlay" style="position: relative;">
                                                        <div class="row">
                                                            <h6 *ngIf="aditional.length < 1">No hay documentos
                                                                adicionales</h6>

                                                            <div class="col-12" *ngFor="let request of aditional">
                                                                <div class="solucredit-base-card card">
                                                                    <div class="card-body">
                                                                        <h4>
                                                                            {{getNameAditionalDocument(request)}}
                                                                            <span *ngIf="request.status==0"
                                                                                class="badge my-badge">*</span>
                                                                        </h4>
                                                                        <h6 class="card-title">{{request.subject}}</h6>
                                                                        <p class="card-text">{{request.details}}</p>
                                                                        <button class="btn mb-2 text-white custom_btn1"
                                                                            (click)="do(request)"> Adjuntar </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>

                                    </div>
                                </ng-template>
                            </ngb-tab>
                            <ngb-tab *ngIf="(initialRelation) && currentProcessStep == 2">
                                <ng-template ngbTabTitle>
                                    <b>FORMULARIOS</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div class="main-part" *ngIf="formList.length==0">
                                        <app-access-denied-page></app-access-denied-page>
                                    </div>
                                    <div *ngIf="formList.length > 0">
                                        <ngb-tabset [justify]="currentJustify">
                                            <ngb-tab *ngFor="let dat of formList;let i = index ">
                                                <ng-template ngbTabTitle><b>{{dat.name}}</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="main-part" *ngIf="disableView(User_Forms)">
                                                        <app-access-denied-page></app-access-denied-page>
                                                    </div>
                                                    <div *ngIf="!disableView(User_Forms)" class="card-img-overlay"
                                                        style="position: relative;margin-top:25px">
                                                        <!-- <button *ngIf="dat.requirements" class="btn mb-2 text-white btn-avals-from" (click)="EditRequisitos(requirementModal, dat)" style="margin-right: 1rem;">Subir requisitos</button> -->
                                                        <div class="row">

                                                            <div class="col-lg-12"
                                                                *ngFor="let data of dat.subjects; let j = index">
                                                                <ng-template
                                                                    [ngIf]="(data.owner!=null&&data.owner!=undefined&& formsAvailable(i,j))"
                                                                    [ngIfElse]="elseBlockOwner">

                                                                    <div class="solucredit-base-card card">
                                                                        <div class="card-body">

                                                                            <div class="row">
                                                                                <div class="col-lg-6 my-auto">
                                                                                    <div
                                                                                        class="d-flex d-inline-flex flex-row">
                                                                                        <h4 class="d-inline my-auto">{{j
                                                                                            + 1}}</h4>
                                                                                        <div class="d-inline ml-4">
                                                                                            <span
                                                                                                [ngClass]="getStatusClass(data.status)"
                                                                                                ngbTooltip="Estado">{{getStatusText(data.status)}}</span>
                                                                                        </div>
                                                                                        <h4 class="d-inline my-auto ml-3 font-medium"
                                                                                            ngbTooltip="Nombre">
                                                                                            {{data.name}}</h4>
                                                                                        <h6 class="d-inline my-auto ml-3"
                                                                                            ngbTooltip="Tipo">
                                                                                            {{data.subject_name}}</h6>
                                                                                        <h6 class="d-inline my-auto ml-3 text-muted"
                                                                                            ngbTooltip="Última Edición">
                                                                                            {{data.lastmod| date:
                                                                                            'dd/MM/yyyy HH:mm a'}}</h6>

                                                                                    </div>
                                                                                </div>

                                                                                <div
                                                                                    class="col-lg-3 text-right my-auto">
                                                                                    <div
                                                                                        class="ml-auto text-right my-auto">
                                                                                        <div
                                                                                            class="d-flex flex-row-reverse align-items-center border-left custom-card-list-link">
                                                                                            <button
                                                                                                class="btn mb-2 text-white custom_btn1"
                                                                                                (click)="goToForm(i,j)">
                                                                                                <i
                                                                                                    class="fas fa-edit"></i>
                                                                                                Ingresar datos</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div
                                                                                    class="col-lg-3 text-right my-auto">
                                                                                    <div
                                                                                        class="ml-auto text-right my-auto">
                                                                                        <div
                                                                                            class="d-flex flex-row-reverse align-items-center border-left custom-card-list-link">
                                                                                            <button
                                                                                                class="btn mb-2 text-white custom_btn1"
                                                                                                (click)="goToOwnerForm(i,j)">
                                                                                                <i
                                                                                                    class="fas fa-edit"></i>
                                                                                                Ingresar datos de
                                                                                                FEIC</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-template>
                                                                <ng-template #elseBlockOwner>
                                                                    <div class="solucredit-base-card card">
                                                                        <div class="card-body">
                                                                            <div class="row">
                                                                                <div class="col-lg-9 my-auto">
                                                                                    <div
                                                                                        class="d-flex d-inline-flex flex-row">
                                                                                        <h4 class="d-inline my-auto">{{j
                                                                                            + 1}}</h4>
                                                                                        <div class="d-inline ml-4">
                                                                                            <span
                                                                                                [ngClass]="getStatusClass(data.status)"
                                                                                                ngbTooltip="Estado">{{getStatusText(data.status)}}</span>
                                                                                        </div>
                                                                                        <h4 class="d-inline my-auto ml-3 font-medium"
                                                                                            ngbTooltip="Nombre">
                                                                                            {{getSubjectName(data)}}
                                                                                        </h4>
                                                                                        <h6 class="d-inline my-auto ml-3"
                                                                                            ngbTooltip="Tipo">

                                                                                            {{data.subject_name}}</h6>
                                                                                        <h6 class="d-inline my-auto ml-3 text-muted"
                                                                                            ngbTooltip="Última Edición">
                                                                                            {{data.lastmod| date:
                                                                                            'dd/MM/yyyy HH:mm a'}}</h6>
                                                                                    </div>
                                                                                </div>

                                                                                <div
                                                                                    class="col-lg-3 text-right my-auto">
                                                                                    <div
                                                                                        class="ml-auto text-right my-auto">
                                                                                        <div
                                                                                            class="d-flex flex-row-reverse align-items-center border-left custom-card-list-link">
                                                                                            <button
                                                                                                class="btn mb-2 text-white custom_btn1"
                                                                                                (click)="goToForm(i,j)">
                                                                                                <i
                                                                                                    class="fas fa-edit"></i>
                                                                                                Ingresar datos</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-template>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </ng-template>
                            </ngb-tab>
                            <ngb-tab *ngIf="(initialRelation  ) && currentProcessStep == 3">
                                <ng-template ngbTabTitle>
                                    <b>REQUISITOS</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div class="main-part" *ngIf="formList.length==0">
                                        <app-access-denied-page></app-access-denied-page>
                                    </div>
                                    <div *ngIf="formList.length > 0">
                                        <ngb-tabset [justify]="currentJustify">
                                            <ngb-tab *ngFor="let dat of formList;let i = index ">
                                                <ng-template ngbTabTitle><b>{{dat.name}}</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="main-part" *ngIf="disableView(User_Requirements)">
                                                        <app-access-denied-page></app-access-denied-page>
                                                    </div>
                                                    <div *ngIf="!disableView(User_Requirements)"
                                                        class="card-img-overlay"
                                                        style="position: relative;margin-top:25px">
                                                        <!-- <button *ngIf="dat.requirements" class="btn mb-2 text-white btn-avals-from" (click)="EditRequisitos(requirementModal, dat)" style="margin-right: 1rem;">Subir requisitos</button> -->
                                                        <div class="row">
                                                            <div class="col-lg-12" *ngIf="dat.requirements">
                                                                <div class="solucredit-base-card card">
                                                                    <div class="card-body">
                                                                        <div class="row">
                                                                            <div class="col-lg-6 my-auto">
                                                                                <h4
                                                                                    class="d-inline my-auto ml-4 font-medium">
                                                                                    REQUISITOS</h4>
                                                                            </div>
                                                                            <div class="col-lg-6 text-right my-auto">
                                                                                <div class="ml-auto text-right my-auto">
                                                                                    <div class="d-flex flex-row-reverse align-items-center border-left custom-card-list-link"
                                                                                        (click)="EditRequisitos(requirementModal, dat)">
                                                                                        <i
                                                                                            class="display-6 icon-arrow-right ml-3"></i>
                                                                                        <h4 class="ml-3 my-auto">
                                                                                            SUBIR REQUISITOS
                                                                                        </h4>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </ng-template>
                            </ngb-tab>


                            <ngb-tab *ngIf="(initialRelation  ) && currentProcessStep == 4">
                                <ng-template ngbTabTitle>
                                    <b>FORMULARIOS FIRMADOS</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div class="main-part" *ngIf="formList.length==0">
                                        <app-access-denied-page></app-access-denied-page>
                                    </div>
                                    <div *ngIf="formList.length > 0">
                                        <ngb-tabset [justify]="currentJustify">

                                            <ngb-tab *ngFor="let dat of formList;let i = index ">
                                                <ng-template ngbTabTitle><b>{{dat.name}}</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="main-part" *ngIf="disableView(User_Upload_Forms)">
                                                        <app-access-denied-page></app-access-denied-page>
                                                    </div>
                                                    <div 
                                                        class="card-img-overlay"
                                                        style="position: relative;margin-top:25px">
                                                        <!-- <button *ngIf="dat.requirements" class="btn mb-2 text-white btn-avals-from" (click)="EditRequisitos(requirementModal, dat)" style="margin-right: 1rem;">Subir requisitos</button> -->
                                                        <div class="row">

                                                            <div class="col-lg-12"
                                                                *ngFor="let data of dat.subjects; let j = index">
                                                                <div class="solucredit-base-card card">
                                                                    <div class="card-body">
                                                                        <div class="row">
                                                                            <div class="col-lg-9 my-auto">
                                                                                <div
                                                                                    class="d-flex d-inline-flex flex-row">
                                                                                    <h4 class="d-inline my-auto">{{j +
                                                                                        1}}</h4>
                                                                                    <div class="d-inline ml-4">
                                                                                        <span
                                                                                            [ngClass]="getStatusClass(data.status)"
                                                                                            ngbTooltip="Estado">{{getStatusText(data.status)}}</span>
                                                                                    </div>
                                                                                    <h4 class="d-inline my-auto ml-3 font-medium"
                                                                                        ngbTooltip="Nombre">
                                                                                        {{data.tape==1?data.businessname:data.name}}</h4>
                                                                                    <h6 class="d-inline my-auto ml-3"
                                                                                        ngbTooltip="Tipo">
                                                                                        {{data.subject_name}}</h6>
                                                                                    <h6 class="d-inline my-auto ml-3 text-muted"
                                                                                        ngbTooltip="Última Edición">
                                                                                        {{data.lastmod| date:
                                                                                        'dd/MM/yyyy HH:mm a'}}</h6>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-3 text-right my-auto">
                                                                                <div class="ml-auto text-right my-auto">
                                                                                    <div
                                                                                        class="d-flex flex-row-reverse align-items-center border-left custom-card-list-link">
                                                                                        <button
                                                                                            class="btn mb-2 text-white btn-color-solucredit-secondary"
                                                                                            ngbTooltip="Descargar"
                                                                                            [disabled]="data.form_id === null"
                                                                                            (click)="openFormsModal(i,j,formsModal)">
                                                                                            <i
                                                                                                class="fas fa-download"></i>
                                                                                            Descargar y Subir
                                                                                            formularios
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </ng-template>
                            </ngb-tab>
                            <!-- FORMS OLD -->
                            <!-- <ngb-tab>
                                <ng-template ngbTabTitle>
                                    <b>FORMULARIOS</b>
                                </ng-template>
                                <ng-template ngbTabContent>
                                    <div *ngIf="formList.length > 0">
                                        <ngb-tabset [justify]="currentJustify">
                                            <ngb-tab *ngFor="let dat of formList;let i = index ">
                                                <ng-template ngbTabTitle><b>{{dat.name}}</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                                        <button *ngIf="dat.requirements" class="btn mb-2 text-white btn-avals-from" (click)="EditRequisitos(requirementModal, dat)" style="margin-right: 1rem;">Subir requisitos</button>
                                                        <div class="table-responsive table-bordered bitacora-layout " style="background-color: #fff !important; ">
                                                            <table class="table table-striped mb-0 no-wrap v-middle ">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col ">#</th>
                                                                        <th scope="col ">Nombre</th>
                                                                        <th scope="col ">Tipo</th>
                                                                        <th scope="col ">Estado</th>
                                                                        <th scope="col ">Ultima Edicion</th>
                                                                        <th scope="col ">Acciones</th>
        
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr class="table-hover " *ngFor="let data of dat.subjects;let j = index">
                                                                        <td>
                                                                            {{j+1}}
                                                                        </td>
                                                                        <td>{{data.name}}</td>
                                                                        <td>{{data.subject_name}}</td>
                                                                        <td>
                                                                            <div><span [ngClass]="getStatusClass(data.status)">{{getStatusText(data.status)}}</span></div>
                                                                        </td>
                                                                        <td>
                                                                            {{data.lastmod| date: 'dd/MM/yyyy HH:mm a'}}
                                                                        </td>
                                                                        <td>
                                                                            <button class="btn mb-2 text-white custom_btn1" (click)="goToForm(i,j)">Ingresar datos</button>
                                                                            <button class="btn mb-2 text-white btn-color-solucredit-secondary" [disabled]="data.form_id === null" (click)="openFormsModal(i,j,formsModal)">Descargar</button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </ng-template>
                            </ngb-tab> -->
                            <!-- END FORMS OLD -->
                        </ngb-tabset>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card" style="position: fixed; margin-right: 1rem; top: 5rem;">
            <div class="card-body p-r-0 p-l-0 p-t-0 p-b-1" style="background: #fff;">
                <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs" id="customerinformation">
                    <ngb-tab>
                        <ng-template ngbTabContent>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="text-white text-right pt-1" >
                                        <button class="btn btn-circle btn-outline-info"  id="editcustomerbutton" (click)="openEdit(editar2)">
                                            <i class="icon-pencil"></i>
                                        </button>
                                    </div>
                                    <br>
                                    <div class="text-center" style="margin-top: -35px;">

                                        <img *ngIf="dataCustomer" [hidden]="dataCustomer.logotipo === null"
                                            [src]="dataCustomer.logotipo" alt="logo" style="max-height: 120px;"
                                            class="rounded-circle">

                                        <h3 class="card-title m-t-10" *ngIf="dataCustomer">
                                            {{dataCustomer.type === 0 ? dataCustomer.name:
                                            dataCustomer.businessname}}
                                        </h3>
                                        <h6 class="card-subtitle" *ngIf="dataCustomer">
                                            {{dataCustomer.address1}} {{dataCustomer.address2}}
                                        </h6>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <div class="card-img-overlay" style="position: relative;">
                                        <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#759ee0"
                                            type="ball-scale-multiple">
                                            <p style="font-size: 20px; color:#fff">Cargando Información...</p>
                                        </ngx-spinner>
                                        <div class="row text-center justify-content-md-center">
                                            <div class="col-6 mb-2" *ngIf="dataCustomer">
                                                <a href="javascript:void(0)" class="link" ngbTooltip="Celular">
                                                    <i class="icon-phone m-r-10"></i> {{dataCustomer.phone}} </a>
                                            </div>
                                            <div class="col-6 mb-2">
                                                <a href="javascript:void(0)" class="link" ngbTooltip="Estado">
                                                    <i class="icon-user-following m-r-10"></i>
                                                    <span *ngIf="dataCustomer && dataCustomer.status_id === 0">
                                                        <b>
                                                            <span
                                                                class="label label-success font-weight-100">Activo</span>
                                                        </b>
                                                    </span>
                                                    <span *ngIf="dataCustomer && dataCustomer.status_id === 2">
                                                        <b>
                                                            <span
                                                                class="label label-danger font-weight-100">Inactivo</span>
                                                        </b>
                                                    </span>
                                                </a>
                                            </div>
                                            <div class="col-6 mb-2">
                                                <a href="javascript:void(0)" class="link" ngbTooltip="Tipo de Negocio">
                                                    <i *ngIf="dataCustomer && dataCustomer.type === 0"
                                                        class="icon-user m-r-10"></i>
                                                    <i *ngIf="dataCustomer && dataCustomer.type === 1"
                                                        class="icon-people m-r-10"></i>
                                                    <span
                                                        *ngIf="dataCustomer && dataCustomer.type === 0">Individual</span>
                                                    <span
                                                        *ngIf="dataCustomer && dataCustomer.type === 1">Juridico</span>
                                                </a>
                                            </div>
                                            <div class="col-6 mb-2">
                                                <a href="javascript:void(0)" class="link"
                                                    ngbTooltip="Última actualización">
                                                    <i class="mdi mdi-update m-r-10"></i>
                                                    <span
                                                        *ngIf="initialRelation && initialRelation.modification_date">{{initialRelation.modification_date
                                                        | date: 'dd/MM/yyyy'}}</span>
                                                </a>
                                            </div>
                                        </div>
                                        <hr />
                                        <div class="row text-black" id="relationstatus">
                                            <div class="col-lg-12 mb-3" *ngIf="showAlertInformation">
                                                <nz-alert nzType="warning" nzMessage="Advertencia" nzContent
                                                    [nzDescription]="editInformationMessage" nzShowIcon nzCloseable>
                                                </nz-alert>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="card border-bottom"
                                                    [ngClass]="'border-' + userInitialRelationStatusColor"
                                                    style="background-color: #eef5f9; cursor: pointer;">
                                                    <div class="card-body">
                                                        <div class="d-flex no-block align-items-center">
                                                            <div>
                                                                <h4>{{ userInitialRelationStatusName }}</h4>
                                                                <h6
                                                                    [ngClass]="'text-' + userInitialRelationStatusColor">
                                                                    Estado de la relación</h6>
                                                            </div>
                                                            <div class="ml-auto"><span class="display-6"
                                                                    [ngClass]="'text-' + userInitialRelationStatusColor"><i
                                                                        class="ti-user"></i></span></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="card border-bottom"
                                                    [ngClass]="'border-' + userRequestStatusColor"
                                                    style="background-color: #eef5f9; cursor: pointer;">
                                                    <div class="card-body ">
                                                        <div class="d-flex no-block align-items-center">
                                                            <div>
                                                                <h4>{{ userRequestStatusName }}</h4>
                                                                <h6 [ngClass]="'text-' + userRequestStatusColor">Estado
                                                                    de última solicitud</h6>
                                                            </div>
                                                            <div class="ml-auto"><span class="display-6"
                                                                    [ngClass]="'text-' + userRequestStatusColor"><i
                                                                        class="ti-clipboard"></i></span></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" class="text-black" *ngIf="formList.length > 0">
                                            <div class="col-sm-12 col-lg-12 col-md-12">
                                                <div>
                                                    <ngb-alert [dismissible]="false" type="success" class="text-center" >
                                                        Querido cliente, has llegado a la segunda fase del proceso de
                                                        factoraje por lo tanto, necesitamos puedas completar la
                                                        <button
                                                        
                                                            style="border: none; background: transparent; color: #2962ff;"
                                                            (click)="scroll()">siguiente información</button> , si
                                                        necesitas ayuda no dudes en comunicarte con nosotros por
                                                        Whatsapp o via
                                                        telefónica 2301-4400
                                                    </ngb-alert>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row" class="text-black" *ngIf="FiduciaryinOnu == true">
                                            <div class="col-sm-12 col-lg-12 col-md-12">
                                                <div>
                                                    <ngb-alert [dismissible]="false" type="danger" class="text-center">
                                                        Querido cliente, se le informa que un aval se encuentra en la
                                                        lista ONU.
                                                    </ngb-alert>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
</div>



<ng-template #modalChangePassword let-modal>

    <div class="modal-header border-bottom-0">
        <h4 class="modal-title">Cambiar contraseña</h4>
        <button type="button" class="close" aria-label="Close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <form class="form-horizontal" [formGroup]="editPassword">
            <div class="form-group row">
                <label for="fname" class="col-sm-3 text-right control-label col-form-label">Nueva Contraseña:</label>
                <div class="col-sm-9">
                    <div class="input-group col-sm-12">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">
                                <i class="fas fa-lock"></i>
                            </span>
                        </div>
                        <input formControlName="newPassword" class="form-control" id="realnew"
                            placeholder="nueva contraseña" type="password" autocomplete="current-password"
                            (keyup)="validate_auth0.checkPasswordRules($event.target.value)">
                    </div>
                    <small class="form-text text-danger"
                        *ngIf="!editPassword.controls.newPassword.valid && (editPassword.controls.newPassword.dirty || editPassword.controls.newPassword.touched)">Ingresa
                        una contraseña.</small>
                    <div class="progress col-sm-12 mt-2">
                        <div id="password-strength" class="progress-bar" role="progressbar" aria-valuenow="40"
                            aria-valuemin="0" aria-valuemax="100" [style]="validate_auth0.getProgress()">
                        </div>
                    </div>
                    <div class="row col-sm-12 mt-2" style="justify-content:flex-end; ">
                        <label for="fname" class="control-label"
                            [style]="validate_auth0.getProgress(true)">{{validate_auth0.statusProgressBar}}</label>
                    </div>

                </div>
            </div>
            <div class="form-group row">
                <label for="lname" class="col-sm-3 text-right control-label col-form-label">Confirmar
                    contraseña:</label>
                <div class="col-sm-9">
                    <div class="input-group col-sm-12">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="basic-addon1">
                                <i class="fa fa-lock"></i>
                            </span>
                        </div>
                        <input formControlName="confirm" class="form-control" id="fconfirm"
                            placeholder="confirmar nueva contraseña" type="password">
                    </div>
                    <small class="form-text text-danger"
                        *ngIf="(editPassword.controls.confirm.dirty || editPassword.controls.confirm.touched)&&editPassword.getError('mismatch')">Las
                        contraseñas no coinciden.</small>
                    <ul class="list-unstyled mt-5">
                        <li *ngFor="let item of validate_auth0.checkrules">
                            <span class="lower-upper-case">
                                <div style="font-size: 1rem;">
                                    <i [ngClass]="item.status?'fas icon-check':'fas icon-close'"
                                        [style]="item.status?'color:green;':'color: red;'" aria-hidden="true"></i>
                                    {{item.rule}}
                                </div>
                            </span>
                        </li>
                    </ul>
                </div>
            </div>

        </form>
    </div>

    <div class="modal-footer border-top-0">
        <button [disabled]="!editPassword.valid ||(validate_auth0.getRulesCorrect()==false)||editPassword.errors
        ||editPassword.controls.confirm.value != editPassword.controls.newPassword.value" type="button"
            (click)="changePassword()" class="btn btn btn-info ml-auto h-25 btn-color-solucredit">Cambiar</button>
        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
            (click)="closeBtnClick()">Cancelar</button>
    </div>
</ng-template>



<ng-template #requirementModal let-modal>
    <div class="modal-header">
        <h3 class="modal-title" id="editUserLabel">Requerimientos</h3>

        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-12">


                <div class="table-responsive" style="height: 50vh;">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th scope="col">Nombre del requisito</th>
                                <th spope="col">Comentario</th>
                                <th scope="col">Estado</th>
                                <th scope="col">Subir archivos</th>
                                <th scope="col">Archivos</th>
                                <!-- <th scope="col">Acciones</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let req of currentAval.requirements.requirements |req_disable_reqs; let i = index">
                                <td width="50" class="text-center" scope="row">{{i+1}}</td>
                                <td>
                                    <p class="mb-1" style="font-weight: 600; font-size: 16px;">
                                        {{req.req_name}}
                                    </p>
                                    <small class="text-truncate" style="width: 400px; display: block;">
                                        {{req.req_type|req_requirements_type}}
                                    </small>
                                </td>
                                <td>
                                    <div *ngIf="getObservation(req)!=null">
                                        <p class="mb-1" style="font-weight: 600; font-size: 16px;">
                                            {{getObservation(req).title}}
                                        </p>
                                        <small class="text-truncate" style="width: 400px; display: block;">
                                            {{getObservation(req).comment}}
                                        </small>
                                    </div>

                                </td>
                                <td class="text-center" width="150">
                                    <ngx-spinner [name]="'cs'+ i" bdColor="rgba(0, 0, 0, 0.8) " size="medium "
                                        color="#759ee0 " type="ball-atom " [fullScreen]="false ">
                                        <p style="color: white "> Cambiando Estatus ... </p>
                                    </ngx-spinner>
                                    <!-- *ngIf="canCompleteForms()" -->
                                    <span [ngClass]="req.state == 0?'label label-warning':'label label-success'">{{
                                        req.state == 0?'No aprobado':'Aprobado' }}</span>
                                </td>
                                <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                    <ngx-spinner [name]="'s'+i" bdColor="rgba(0, 0, 0, 0.8)" size="medium"
                                        color="#759ee0" type="ball-atom" [fullScreen]="false">
                                        <p style="color: white"> Subiendo Documento ... </p>
                                    </ngx-spinner>
                                    <fieldset class="form-group">
                                        <input type="file" (change)="uploadImage($event,req,'s'+i)"
                                            accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.xls,.xlsx,.pdf,image/*"
                                            [disabled]="isDPI(req.req_name)">
                                    </fieldset>
                                </td>

                                <td>
                                    <div *ngFor="let doc of req.docs">
                                <td>{{doc.name | slice:0:8}}...</td>
                                <td *ngIf="doc.is_visible == 1"><i style="cursor: pointer;" class="icon-eye"
                                        (click)="ViewReqDoc(viewdocuments, doc)"></i></td>
                                <td><i style="cursor: pointer;" class="icon-cloud-download"
                                        (click)="DownloadReqDoc(doc)"></i></td>
                                <td *ngIf="req.state == 0 || req.state == null"><i style="cursor: pointer;color:red"
                                        (click)="DeleteReqDoc(req,doc)" class="icon-trash"></i></td>
                </div>

                </td>


                </tr>



                </tbody>
                </table>
            </div>

        </div>

    </div>
    </div>
</ng-template>

<ng-template #formsModal let-modal>


    <ngx-spinner #spinnerbit name="spinnerbit " bdColor="rgba(0, 0, 0, 0.8) " size="medium " color="#759ee0 "
        type="ball-atom " [fullScreen]="false ">
        <p style="color: white "> Cargando formularios.. </p>
    </ngx-spinner>

    <div class="modal-header">

        <h4 class="modal-title">Formularios de {{currentSubject.name}}</h4>

        <button type="button " class="close " (click)="closeBtnClick() " aria-label="Close ">
            <span aria-hidden="true ">&times;</span>
        </button>

    </div>

    <div>

        <div class="modal-body">
            <div class="table-responsive table-bordered " style="background-color: #fff !important; ">
                <table class="table table-striped mb-0 no-wrap v-middle" style="width: 580px;">
                    <thead>
                        <tr>
                            <th style="width: 40%;">Nombre formulario</th>
                            <th style="width: 20%;">Descargar</th>
                            <th style="width: 20%;">Subir Formulario</th>
                            <th style="width: 20%;">Archivos</th>
                        </tr>
                    </thead>
                    <tbody>


                        <tr *ngFor="let form of currentSubject.forms | req_subject_disable_forms; let i = index">
                            <ng-container>
                                <!-- id="customRadio1" [name]="'type' + i"  -->

                                <td>{{form.name}}</td>
                                <td>
                                    <!-- <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div ngbDropdown>
                                                <button class="btn mr-0 btn-outline-secondary dropdown-toggle" type="button" ngbDropdownToggle>Descargar</button>
                                                <div class="dropdown-menu" ngbDropdownMenu>
                                                    <button class="dropdown-item button-drop" (click)="Download(form.name,currentSubject.form_id, dataCustomer.type == 1?dataCustomer.businessname:dataCustomer.name)" ngbDropdownItem *ngIf="form.name=='CARTA DIRIGIDA A BANCO INTERNACIONAL' || form.name=='PUNTO DE ACTA' ">Word</button>
                                                    <button class="dropdown-item button-drop" (click)="Download(form.name,currentSubject.form_id, dataCustomer.type == 1?dataCustomer.businessname:dataCustomer.name)" ngbDropdownItem *ngIf="form.name!=='CARTA DIRIGIDA A BANCO INTERNACIONAL' && form.name !=='PUNTO DE ACTA'">Excel</button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>-->
                                    <ngx-spinner [name]="'cs'+ i" bdColor="rgba(0, 0, 0, 0.8) " size="medium "
                                        color="#759ee0 " type="ball-atom " [fullScreen]="false ">
                                        <p style="color: white "> Generando formulario ... </p>
                                    </ngx-spinner>
                                    <!--<button (click)="Download(formname,currentForm.idForm)" class="btn mb-2 text-white custom_btn1 ">Descargar</button>-->
                                    <button
                                        (click)="Download(form.name,currentSubject.form_id, dataCustomer.type == 1?dataCustomer.businessname:dataCustomer.name,'cs'+i)"
                                        ngbDropdownItem
                                        *ngIf="form.name=='CARTA DIRIGIDA A BANCO INTERNACIONAL' || form.name=='PUNTO DE ACTA'"
                                        class="btn mb-2 text-white custom_btn1 ">Descargar</button>
                                    <button
                                        (click)="Download(form.name,currentSubject.form_id, dataCustomer.type == 1?dataCustomer.businessname:dataCustomer.name,'cs'+i)"
                                        ngbDropdownItem
                                        *ngIf="form.name!=='CARTA DIRIGIDA A BANCO INTERNACIONAL' && form.name !=='PUNTO DE ACTA'"
                                        class="btn mb-2 text-white custom_btn1 ">Descargar</button>

                                </td>
                                <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                    <ngx-spinner [name]="'s'+i" bdColor="rgba(0, 0, 0, 0.8)" size="medium"
                                        color="#759ee0" type="ball-atom" [fullScreen]="false">
                                        <p style="color: white"> Subiendo Documento ... </p>
                                    </ngx-spinner>
                                    <fieldset class="form-group">
                                        <input type="file" class="" id="exampleInputFile"
                                            (change)="UploadForm($event,form,'s'+i)"
                                            accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.xls,.xlsx,.pdf,image/*">
                                    </fieldset>
                                </td>
                                <td>
                                    <div *ngFor="let doc of form.docs">
                                <td [ngbTooltip]="form.name_s3">{{doc.name_s3 }}...</td>
                                <!-- <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td> -->
                                <td *ngIf="doc.is_visible == 1"><i style="cursor: pointer;" class="icon-eye"
                                        (click)="ViewFormDoc(viewdocuments, doc)"></i></td>
                                <td><i style="cursor: pointer;" class="icon-cloud-download"
                                        (click)="DownloadFormDoc(doc)"></i></td>
                                <td><i style="cursor: pointer;color:red" (click)="DeleteFormDoc(doc)"
                                        class="icon-trash"></i></td>
            </div>

            </td>
            </ng-container>

            </tr>




            </tbody>
            </table>
        </div>


    </div>


    </div>


</ng-template>

<ng-template #estadosolicitud let-modal>
    <div class="modal-header ">
        <h3 class="modal-title " id="editUserLabel ">Proceso de la solicitud</h3>
        <button type="button " class="close " (click)="closeBtnClick() " aria-label="Close ">
            <span aria-hidden="true ">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
        <div class="table-responsive table-bordered " style="background-color: #fff !important; ">
            <table class="table table-striped mb-0 no-wrap v-middle customtp ">
                <thead>
                    <tr>
                        <th scope="col ">Estado</th>
                        <th scope="col ">Descripción</th>
                        <th scope="col ">Área responsable</th>
                        <th scope="col ">Fecha de transición</th>
                        <th scope="col "></th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-hover " *ngFor="let logrequest of logdataRequest ">
                        <td>
                            <ngb-highlight [result]="logrequest.message ">
                            </ngb-highlight>
                        </td>
                        <td style="max-width: 220px; white-space: pre-wrap; ">
                            {{logrequest.description}}
                        </td>
                        <td>
                            <ngb-highlight [result]="logrequest.employee_email ">
                            </ngb-highlight>
                        </td>
                        <td>
                            {{logrequest.date | date:'dd/mm/yy HH:mm a'}}
                        </td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0 "><span
                                    _ngcontent-taf-c215=" "
                                    class="badge badge-success badge-pill px-3 font-weight-bold font-14 "><i class="mdi mdi-check
                                    "></i></span>
                                <h5 _ngcontent-taf-c215=" " class="mb-0 ml-1 text-dark "> Completo </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info " [hidden]="lastrequest && lastrequest.status>= 0">
                        <td>Solicitud Creada</td>
                        <td></td>
                        <td>supervizor.solucredit@gmail.com</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 1">
                        <td>Validar verificaciones </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 1">
                        <td>Validar verificaciones </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 2">
                        <td>Validar garantías</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 2">
                        <td>Validar garantías</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 3">
                        <td>Envío de formularios </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 3">
                        <td>Envío de formularios </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 4">
                        <td>Ingreso Datos Formularios</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 4">
                        <td>Ingreso Datos Formularios</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 5">
                        <td>Validar formularios</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 5">
                        <td>Validar formularios</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 6">
                        <td>Análisis Legal</td>
                        <td></td>
                        <td>Área Legal (Validación de papelería)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 6">
                        <td>Análisis Legal</td>
                        <td></td>
                        <td>Área Legal (Validación de papelería)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 7">
                        <td>Visitas de negocio</td>
                        <td></td>
                        <td>Gerencia Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 7">
                        <td>Visitas de negocio</td>
                        <td></td>
                        <td>Gerencia Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 8">
                        <td>Análisis de cumplimiento</td>
                        <td></td>
                        <td>Oficial de Cumplimiento</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 8">
                        <td>Análisis de cumplimiento</td>
                        <td></td>
                        <td>Oficial de Cumplimiento</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 9">
                        <td>Revisión de Expediente</td>
                        <td></td>
                        <td>Gerencia de Operaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 9">
                        <td>Revisión de Expediente</td>
                        <td></td>
                        <td>Gerencia de Operaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 10">
                        <td>Aprobación Comité Créditos</td>
                        <td></td>
                        <td>Área de Negociaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 10">
                        <td>Aprobación Comité Créditos</td>
                        <td></td>
                        <td>Área de Negociaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 11">
                        <td>Envío de informe de negociación</td>
                        <td></td>
                        <td>Prospecto (Envío de papelería)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 11">
                        <td>Envío de informe de negociación</td>
                        <td></td>
                        <td>Prospecto (Envío de papelería)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 12">
                        <td>Confirmación de negociación</td>
                        <td></td>
                        <td>Área de negociaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 12">
                        <td>Confirmación de negociación</td>
                        <td></td>
                        <td>Área de negociaciones</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 13">
                        <td>Aprobación Gerencial</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 13">
                        <td>Aprobación Gerencial</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5>
                            </a>
                        </td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 14">
                        <td>Activación de cliente</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <!-- <tr *ngIf="lastrequest && lastrequest.status == 14">
                        <td>Activación de cliente</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                    </tr> -->
                    <!-- <tr *ngFor="let singlerelation of loginitialRelation">
                        <td>
                            <ngb-highlight [result]="singlerelation.message">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.description" >
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.employee_email">
                            </ngb-highlight>
                        </td>
                    </tr> -->
                </tbody>
            </table>
        </div>
    </div>
</ng-template>

<ng-template #estadorelacion let-modal>
    <div class="modal-header">
        <h3 class="modal-title" id="editUserLabel">Bitácora de flujo de trabajo</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="table-responsive table-bordered" style="background-color: #fff !important;">
            <table class="table table-striped mb-0 no-wrap v-middle customtp" cellspacing="0" cellpadding="0">
                <thead>
                    <tr>
                        <th scope="col">Estado</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Área responsable</th>
                        <th scope="col">Fecha de transición</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-hover" *ngFor="let singlerelation of loginitialRelation">
                        <td>
                            <ngb-highlight [result]="singlerelation.message">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.description">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.employee_email">
                            </ngb-highlight>
                        </td>
                        <td>
                            {{singlerelation.date | date:'MM/dd/yy, h:mm a'}}
                        </td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-check"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Completo </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 0">
                        <td>Creación de prospecto </td>
                        <td></td>
                        <td>supervizor.solucredit@gmail.com</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 1">
                        <td>Inicio de relación</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 2">
                        <td>Validación datos prospecto</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 3">
                        <td>Validación de datos rechazada</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 4">
                        <td>Validación de datos aceptada</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                    _ngcontent-taf-c215=""
                                    class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                        class="mdi mdi-alert-circle-outline"></i></span>
                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5>
                            </a>
                        </td>
                    </tr>
                    <!-- <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 5">
                        <td>Verificación datos prospecto</td>
                        <td>pendiente</td>
                        <td>sin asignar</td>
                    </tr> -->
                </tbody>
            </table>
        </div>
    </div>
</ng-template>

<app-documentmodal [imgsrcbase64]="imgsrcbase64" [pdfsrcbase64]="pdfsrcbase64"></app-documentmodal>

<ng-template #editar2 let-modal>
    <div class="modal-header" *ngIf="dataCustomer.type == 0" style="text-align: center;">
        <h3 class="modal-title" id="editUserLabel">Editar mis Datos</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-header" *ngIf="dataCustomer.type == 1" style="text-align: center;">
        <h3 class="modal-title" id="editUserLabel">Editar Datos del Propietario</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="card-body">
        <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#759ee0" type="ball-scale-multiple">
            <p style="font-size: 20px; color:#fff">Cargando Información...</p>
        </ngx-spinner>
        <ng-container [ngSwitch]="dataCustomer.type">
            <div class="card-block" *ngSwitchCase="0">
                <form [formGroup]="updateCustomer" (ngSubmit)="saveChanges(updateCustomer)" class="form-horizontal">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <app-custominput label="Primer nombre" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('name1')" id="name1"
                                    [placeholder]="placeHolders.firstname" iconclass="far fa-user" mode="top"
                                    type="text" [errorMessages]="errorMessages.firstnameErrorMessages">
                                </app-custominput>
                                <!-- <div class="form-group row">
                                    <label for="name" class="col-sm-12">Primer nombre<app-asteriskrequired></app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name1"
                                            formControlName="name1" required placeholder="Ej. Roberto">
                                    </div>

                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Segundo nombre</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name2"
                                            formControlName="name2" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Tercer nombre</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name3"
                                            formControlName="name3" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <app-custominput label="Primer apellido" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('lastname1')" id="lastname1"
                                    [placeholder]="placeHolders.lastname1" iconclass="far fa-user" mode="top"
                                    type="text" [errorMessages]="errorMessages.lastnameErrorMessages"></app-custominput>
                                <!-- <div class="form-group row">
                                    <label for="name" class="col-sm-12">Primer apellido<app-asteriskrequired></app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname1"
                                            formControlName="lastname1" required placeholder="Ej. Roberto">
                                    </div>

                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Segundo apellido

                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname2"
                                            formControlName="lastname2" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Apellido de casada</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname3"
                                            formControlName="lastname3" placeholder="Apellido de casada">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <app-custominput [label]="'NIT'" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('nit')" id="nit" [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card" mode="top" type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages" [maxLength]="13"></app-custominput>

                            </div>
                            <div class="col-sm-12 col-md-6">
                                <app-custominput label="DPI" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('DPI')" id="dpi" [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card" mode="top" type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages" [maxLength]="13"></app-custominput>

                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="phone" class="col-sm-12">Número de Teléfono</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-mobile-alt"></i>
                                            </span>
                                        </div>
                                        <input type="text" size="8" maxlength="8" class="form-control" id="phone"
                                            formControlName="phone" required placeholder="Ej. 45826578">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('phone').valid && (updateCustomer.get('phone').dirty || updateCustomer.get('phone').touched)">El
                                        número de celular es requerido.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <app-custominput label="Correo electrónico" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('email')" id="email"
                                    [placeholder]="placeHolders.email" iconclass="far fa-envelope" mode="top"
                                    type="email" [errorMessages]="errorMessages.emailErrorMessages"></app-custominput>
                                <!-- <div class="form-group row">
                                    <label for="email" class="col-sm-12">Correo Electrónico<app-asteriskrequired></app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                        </div>
                                        <input type="email" class="form-control" id="email" formControlName="email"
                                            required placeholder="Ej. email@email.com">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('email').valid && (updateCustomer.get('email').dirty || updateCustomer.get('email').touched)">Ingresar
                                        un correo electrónico válido.</small>
                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="inputPais" class="col-sm-12">Seleccionar país
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="form-control custom-select" [(ngModel)]="selecionCountry"
                                            formControlName="inputPais" [ngModelOptions]="{standalone: true}"
                                            (change)="onCountrySelected($event.target.value,updateCustomer)">
                                            <option>Selecione una opcion</option>
                                            <option *ngFor="let order of optionsCountries" [value]="order.id">
                                                {{order.name}}</option>
                                        </select>

                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('inputPais').valid && (updateCustomer.get('inputPais').dirty || updateCustomer.get('inputPais').touched)">El
                                        país es requerido.</small>
                                </div>
                            </div>

                            <div class="col-sm-12 col-md-6" *ngIf="updateCustomer.get('inputDepartamento').enabled">
                                <div class="form-group row">
                                    <label for="inputDepartamento" class="col-sm-12">Seleccionar Departamento
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="form-control custom-select" [(ngModel)]="selecionDepartment"
                                            [ngModelOptions]="{standalone: true}" formControlName="inputDepartamento"
                                            (change)="onDepartmentSelected($event.target.value,updateCustomer)">
                                            <option>Selecione una opcion</option>
                                            <option *ngFor="let order of optionsDepartments" [value]="order.id">
                                                {{order.name}}</option>
                                        </select>

                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('inputDepartamento').valid && (updateCustomer.get('inputDepartamento').dirty || updateCustomer.get('inputDepartamento').touched)">El
                                        departamento es requerido.</small>
                                </div>
                            </div>

                            <div class="col-sm-12 col-md-6" *ngIf="updateCustomer.get('inputDepartamento').enabled">
                                <div class="form-group row">
                                    <label for="municipality_id" class="col-sm-12">Seleccionar Municipio
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>

                                        <select class="form-control custom-select" [(ngModel)]="selecionMunicipality"
                                            [ngModelOptions]="{standalone: true}" formControlName="municipality_id"
                                            (change)="onMunicipalitySelected($event.target.value,updateCustomer)">
                                            <option>Selecione una opcion</option>
                                            <option *ngFor="let muni of optionsMunicipalities" [value]="muni.id">
                                                {{muni.name}}</option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger  col-sm-12"
                                        *ngIf="!updateCustomer.get('municipality_id').valid && (updateCustomer.get('municipality_id').dirty || updateCustomer.get('municipality_id').touched)">El
                                        municipio es requerido.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6" *ngIf="updateCustomer.get('inputDepartamento').enabled">
                                <div class="form-group row">
                                    <label for="address2" class="col-sm-12">Zona</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="number" class="form-control" id="zone" formControlName="zone"
                                            placeholder="Ej. 10">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('zone').valid && (updateCustomer.get('zone').dirty || updateCustomer.get('zone').touched)">La
                                        zona es requerida.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <app-custominput label="Dirección Fiscal" [isrequired]="true"
                                    [formcontrol]="updateCustomer.get('address1')" id="address1"
                                    [placeholder]="placeHolders.address" iconclass="far fa-address-book" mode="top"
                                    type="text" [errorMessages]="errorMessages.addressErrorMessages"></app-custominput>
                                <!-- <div class="form-group row">
                                    <label for="address1" class="col-sm-12">Dirección 1
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" id="address1" formControlName="address1"
                                            placeholder="Ej. 8va. calle 35-40 zona 4">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('address1').valid && (updateCustomer.get('address1').dirty || updateCustomer.get('address1').touched)">La
                                        dirección es requerida.</small>
                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <div class="form-group row">
                                    <label for="address2" class="col-sm-12">Dirección Comercial</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" id="address2" formControlName="address2"
                                            placeholder="Ej. Ciudad Vieja, Guatemala">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer.get('address2').valid && (updateCustomer.get('address2').dirty || updateCustomer.get('address2').touched)">La
                                        dirección es requerida.</small>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-lg-6 p-b-40">
                                <div class="form-group row">
                                    <label for="municipality_id" class="col-sm-12">Seleccionar logo</label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-images"></i></label></div>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="inputlogo"
                                                (change)="showPreviewImage($event)">
                                            <img [src]="localUrl" *ngIf="localUrl" class="imgPlaceholder">
                                            <label class="custom-file-label" for="inputlogo">Selecciona una
                                                imagen</label>
                                        </div>
                                    </div>
                                    <!-- <small class="form-text text-danger  col-sm-12"
                                                                    *ngIf="!createCustomer.get('municipality_id').valid && (createCustomer.get('municipality_id').dirty || createCustomer.get('municipality_id').touched)">El
                                                                    municipio es requerido.</small> -->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-6 p-b-40">
                                <button type="button"
                                    class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
                                    (click)="OpenChangePassword(modalChangePassword)">Cambiar contraseña</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer" style="background-color: white;">
                        <div class="form-group m-b-0 text-right">
                            <button type="submit" class="btn btn-raised mr-1 text-white"
                                style="background-color: #3473da;"
                                [disabled]="updateCustomer.invalid">Actualizar</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-block" *ngSwitchCase="1">
                <form [formGroup]="updateCustomer2" (ngSubmit)="saveChanges(updateCustomer2)" class="form-horizontal">
                    <div class="card-body">
                        <div class="row align-items-end">
                            <div class="col-sm-12 col-md-3" *ngIf="dataCustomer.type == 1">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Razón social y nombre comercial
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-building"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="businessname"
                                            id="businessname" formControlName="businessname" required
                                            placeholder="Ej. Solucredit S.A.">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('businessname').valid && (updateCustomer2.get('businessname').dirty || updateCustomer2.get('businessname').touched)">La
                                        razón social y nombre comercial son requeridos.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Nombre comercial</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-building"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="branchoffice"
                                            id="commercialname" formControlName="commercialname"
                                            placeholder="Ej. Empresa">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('commercialname').valid && (updateCustomer2.get('commercialname').dirty || updateCustomer2.get('commercialname').touched)">El
                                        nombre comercial se solicita</small>
                                </div>
                            </div>
                            <!-- <div class="col-sm-12 col-md-3" *ngIf="dataCustomer.type == 1">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Nombre de la central, sucursal o agencia donde
                                        se solicita
                                        el producto o servicio</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-warehouse"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="branchoffice"
                                            id="branchoffice" formControlName="branchoffice" placeholder="Ej. Central">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('branchoffice').valid && (updateCustomer2.get('branchoffice').dirty || updateCustomer2.get('branchoffice').touched)">El
                                        nombre donde se solicita el producto o servicio es requerido.</small>
                                </div>
                            </div> -->
                            <!-- <div class="col-sm-12 col-md-3" *ngIf="dataCustomer.type == 1">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Código de la agencia o sucursal</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-barcode"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="branchofficecode"
                                            id="branchofficecode" formControlName="branchofficecode"
                                            placeholder="Ej. S23">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('branchofficecode').valid && (updateCustomer2.get('branchofficecode').dirty || updateCustomer2.get('branchofficecode').touched)">El
                                        codigo de la agencia o sucursal es requerido.</small>
                                </div>
                            </div> -->
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Primer nombre<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name1"
                                            formControlName="name1" required placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Segundo nombre</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name2"
                                            formControlName="name2" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                        </div>
                        <div class="row">

                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Tercer nombre</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="name3"
                                            formControlName="name3" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Primer apellido<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname1"
                                            formControlName="lastname1" required placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Segundo apellido</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname2"
                                            formControlName="lastname2" placeholder="Ej. Roberto">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Apellido de casada</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-user"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" aria-label="Username" id="lastname3"
                                            formControlName="lastname3" placeholder="Apellido de casada">
                                    </div>
                                    <!--
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createCustomer.get('name1').valid && (createCustomer.get('name1').dirty || createCustomer.get('name1').touched)">El
                                        primer apellido es requerido.</small>-->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-3">
                                <app-custominput label="NIT de la empresa" [isrequired]="true"
                                    [formcontrol]="updateCustomer2.get('nit')" id="nit" [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card" mode="top" type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages" [maxLength]="13"></app-custominput>
                                <!-- <div class="form-group row">
                                    <label for="nit" class="col-sm-12">NIT<app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-address-card"></i>
                                            </span>
                                        </div>
                                        <input type="tel" class="form-control" id="nit" formControlName="nit"
                                            placeholder="Ej. 12345678" maxlength="13" minlength="8">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('nit').valid && (updateCustomer2get('nit').dirty || updateCustomer2.get('nit').touched)">El
                                        nit es requerido.</small>
                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <app-custominput label="DPI" [isrequired]="true"
                                    [formcontrol]="updateCustomer2.get('DPI')" id="dpi" [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card" mode="top" type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages" [maxLength]="13"></app-custominput>

                                <!-- <div class="form-group row">
                                    <label for="nit" class="col-sm-12">DPI<app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="far fa-address-card"></i>
                                            </span>
                                        </div>
                                        <input type="text" size="13" class="form-control" id="dpi" formControlName="DPI"
                                            placeholder="Ej. 2057309840101" maxlength="13">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('DPI').valid && (updateCustomer2.get('DPI').dirty || updateCustomer2.get('DPI').touched)">
                                        El DPI es requerido.</small>
                                </div> -->
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="phone" class="col-sm-12">Número de Teléfono<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-mobile-alt"></i>
                                            </span>
                                        </div>
                                        <input type="number" size="8" class="form-control" id="phone"
                                            formControlName="phone" required placeholder="Ej. 45826578" maxlength="8">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('phone').valid && (updateCustomer2.get('phone').dirty || updateCustomer2.get('phone').touched)">El
                                        número de celular es requerido.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="email" class="col-sm-12">Correo Electrónico<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-envelope"></i>
                                            </span>
                                        </div>
                                        <input type="email" class="form-control" id="email" formControlName="email"
                                            required placeholder="Ej. email@email.com">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('email').valid && (updateCustomer2.get('email').dirty || updateCustomer2.get('email').touched)">Ingresar
                                        un correo electrónico válido.</small>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="inputPais" class="col-sm-12">Seleccionar País<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="form-control custom-select" [(ngModel)]="selecionCountry"
                                            [ngModelOptions]="{standalone: true}"
                                            (change)="onCountrySelected($event.target.value,updateCustomer2)"
                                            formControlName="inputPais">
                                            <option>Selecione una opcion</option>
                                            <option *ngFor="let order of optionsCountries" [value]="order.id">
                                                {{order.name}}
                                            </option>
                                        </select>

                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('inputPais').valid && (updateCustomer2.get('inputPais').dirty || updateCustomer2.get('inputPais').touched)">El
                                        país es requerido.</small>
                                </div>
                            </div>

                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="inputDepartamento" class="col-sm-12">Seleccionar Departamento
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="form-control custom-select" [(ngModel)]="selecionDepartment"
                                            [ngModelOptions]="{standalone: true}" formControlName="inputDepartamento"
                                            (change)="onDepartmentSelected($event.target.value,updateCustomer2)">
                                            <option>Selecione una opcion</option>
                                            <option *ngFor="let order of optionsDepartments" [value]="order.id">
                                                {{order.name}}</option>
                                        </select>

                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('inputDepartamento').valid && (updateCustomer2.get('inputDepartamento').dirty || updateCustomer2.get('inputDepartamento').touched)">El
                                        departamento es requerido.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="municipality_id" class="col-sm-12">Seleccionar Municipio
                                        <app-asteriskrequired></app-asteriskrequired>
                                    </label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-id-card"></i></label>
                                        </div>

                                        <select class="form-control custom-select" [(ngModel)]="selecionMunicipality"
                                            [ngModelOptions]="{standalone: true}" formControlName="municipality_id"
                                            (change)="onMunicipalitySelected($event.target.value,updateCustomer2)">
                                            <option>Selecione una Opción</option>
                                            <option *ngFor="let muni of optionsMunicipalities" [value]="muni.id">
                                                {{muni.name}}</option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger  col-sm-12"
                                        *ngIf="!updateCustomer2.get('municipality_id').valid && (updateCustomer2.get('municipality_id').dirty || updateCustomer2.get('municipality_id').touched)">El
                                        municipio es requerido.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="address2" class="col-sm-12">Zona<app-asteriskrequired>
                                        </app-asteriskrequired></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="number" class="form-control" id="zone" formControlName="zone"
                                            placeholder="Ej. 10">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('zone').valid && (updateCustomer2.get('zone').dirty || updateCustomer2.get('zone').touched)">La
                                        zona es requerida.</small>
                                </div>
                            </div>

                        </div>
                        <div class="row">

                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="address1" class="col-sm-12">Dirección Fiscal</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" id="address1" formControlName="address1"
                                            placeholder="Ej. 8va. calle 35-40 zona 4">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('address1').valid && (updateCustomer2.get('address1').dirty || updateCustomer2.get('address1').touched)">La
                                        dirección es requerida.</small>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-3">
                                <div class="form-group row">
                                    <label for="address2" class="col-sm-12">Dirección Comercial</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class=" far fa-address-book"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" id="address2" formControlName="address2"
                                            placeholder="Ej. Ciudad Vieja, Guatemala">
                                    </div>
                                    <small class="form-text text-danger col-sm-12"
                                        *ngIf="!updateCustomer2.get('address2').valid && (updateCustomer2.get('address2').dirty || updateCustomer2.get('address2').touched)">La
                                        dirección es requerida.</small>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-md-6 p-b-40">
                                <div class="form-group row">
                                    <label for="municipality_id" class="col-sm-12">Seleccionar logo</label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label
                                                _ngcontent-bpb-c164="" for="inputGroupSelect01"
                                                class="input-group-text"><i class="far fa-images"></i></label></div>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="inputlogo"
                                                (change)="showPreviewImage($event)">
                                            <img [src]="localUrl" *ngIf="localUrl" class="imgPlaceholder">
                                            <label class="custom-file-label" for="inputlogo">Selecciona una
                                                imagen</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-6 p-b-40">
                                <button type="button"
                                    class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
                                    (click)="OpenChangePassword(modalChangePassword)">Cambiar contraseña</button>
                            </div>
                        </div>


                    </div>

                    <div class="card-footer" style="background-color: white;">
                        <div class="form-group m-b-0 text-right">
                            <button type="submit" class="btn btn-raised mr-1 text-white"
                                style="background-color: #3473da;"
                                [disabled]="!updateCustomer2.valid">Actualizar</button>

                        </div>
                    </div>
                </form>
            </div>
        </ng-container>
    </div>

</ng-template>

<ng-template #editar let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Editar mis Datos</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <form [formGroup]="updateCustomer" (ngSubmit)="saveChanges()">
        <div class="modal-body">
            <div class="row">
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nombre Completo<code
                                style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="far fa-user"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Username" id="name"
                                formControlName="name" required placeholder="Ej. Roberto">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('name').valid && (updateCustomer.get('name').dirty || updateCustomer.get('name').touched)">El
                            El nombre es requerido.</small>
                    </div>
                </div>
                <!--
            <div class="row">
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Primer Nombre<app-asteriskrequired></app-asteriskrequired></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Username" id="name1" formControlName="name1" required placeholder="Ej. Roberto">
                        </div>
                        <small class="form-text text-danger col-sm-12" *ngIf="!updateCustomer.get('name1').valid && (updateCustomer.get('name1').dirty || updateCustomer.get('name1').touched)">El
                                primer apellido es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Segundo Nombre</label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Username" id="name2" formControlName="name2" placeholder="Ej. Elias">
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Otro nombre</label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Username" id="name3" formControlName="name3" placeholder="Ej. Roberto Elias">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Primer Apellido<app-asteriskrequired></app-asteriskrequired></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Last Name" id="lastname1" formControlName="lastname1" required placeholder="Ej.Perez ">
                        </div>
                        <small class="form-text text-danger col-sm-12" *ngIf="!updateCustomer.get('lastname1').valid && (updateCustomer.get('lastname1').dirty || updateCustomer.get('lastname1').touched)">El
                                primer apellido es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Segundo Apellido<app-asteriskrequired></app-asteriskrequired></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="second Last name" id="lastname2" formControlName="lastname2" required placeholder="Ej. Ramirez">
                        </div>
                        <small class="form-text text-danger col-sm-12" *ngIf="!updateCustomer.get('lastname2').valid && (updateCustomer.get('lastname2').dirty || updateCustomer.get('lastname2').touched)">El
                                segundo apellido es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-lg-4">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Apellido de casada</label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="far fa-user"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" aria-label="Last name" id="lastname3" formControlName="lastname3" placeholder="Ej. Ramirez">
                        </div>
                    </div>
                </div>
            </div>
            
                <div class="row">
                    <div class="col-sm-12 col-lg-4">
                        <div class="form-group row">
                            <label for="inputPais" class="col-sm-12">Seleccionar país<app-asteriskrequired></app-asteriskrequired></label>
                            <div class="input-group col-sm-12">
                                <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164=""
                                        for="inputGroupSelect01" class="input-group-text"><i class="far fa-id-card"></i></label>
                                </div>
                                <select #mySelect class="custom-select col-sm-12" id="inputPais" formControlName="inputPais"
                                    [(ngModel)]="selecionCountry" (change)='onCountriSelected(mySelect.value)'>
                                    <option value="" selected disabled>Seleccionar...</option>
                                    <option *ngFor="let order of optionsCountries; let i = index"
                                        [value]="optionsCountries[i].id">{{optionsCountries[i].name}}</option>
                                </select>
                            </div>
                            <small class="form-text text-danger col-sm-12"
                                *ngIf="!updateCustomer.get('inputPais').valid && (updateCustomer.get('inputPais').dirty || updateCustomer.get('inputPais').touched)">El
                                país es requerido.</small>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="form-group row">
                            <label for="inputDepartamento" class="col-sm-12">Seleccionar departamento<app-asteriskrequired></app-asteriskrequired></label>
                            <div class="input-group col-sm-12">
                                <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164=""
                                        for="inputGroupSelect01" class="input-group-text"><i class="far fa-id-card"></i></label>
                                </div>
                                <select #mySelectDepartment class="custom-select col-sm-12" id="inputDepartamento"
                                    formControlName="inputDepartamento" [(ngModel)]="selecionDepartment"
                                    (change)='onDepartmentSelected(mySelectDepartment.value)'>
                                    <option value="" selected disabled>Selecionar...</option>
                                    <ng-container *ngFor="let order of optionsDepartments; let i = index">
                                        <option *ngIf="selecionCountry==optionsDepartments[i].country"
                                            [value]="optionsDepartments[i].id">{{optionsDepartments[i].name}}
                                        </option>
                                    </ng-container>
                                </select>
                            </div>
                            <small class="form-text text-danger col-sm-12"
                                *ngIf="!updateCustomer.get('inputDepartamento').valid && (updateCustomer.get('inputDepartamento').dirty || updateCustomer.get('inputDepartamento').touched)">El
                                departamento es requerido.</small>
                        </div>
                    </div>

                    <div class="col-sm-12 col-lg-4">
                        <div class="form-group row">
                            <label for="municipality_id" class="col-sm-12">Seleccionar Municipio<app-asteriskrequired></app-asteriskrequired></label>
                            <div class="input-group col-sm-12">
                                <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164=""
                                        for="inputGroupSelect01" class="input-group-text"><i class="far fa-id-card"></i></label>
                                </div>
                                <select class="custom-select col-sm-12" id="municipality_id" formControlName="municipality_id"
                                    [(ngModel)]="selecionMunicipality">
                                    <option value="" selected disabled>Selecionar...</option>
                                    <ng-container *ngFor="let order of optionsMunicipalities; let i = index">
                                        <option *ngIf="selecionDepartment==optionsMunicipalities[i].department"
                                            [value]="optionsMunicipalities[i].id">
                                            {{optionsMunicipalities[i].name}}</option>
                                    </ng-container>
                                </select>
                            </div>
                            <small class="form-text text-danger  col-sm-12"
                                *ngIf="!updateCustomer.get('municipality_id').valid && (updateCustomer.get('municipality_id').dirty || updateCustomer.get('municipality_id').touched)">El
                                municipio es requerido.</small>
                        </div>
                    </div>
                </div>-->

                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="address2" class="col-sm-12">Zona<code
                                style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class=" far fa-address-book"></i>
                                </span>
                            </div>
                            <input type="number" class="form-control" id="zone" formControlName="zone"
                                placeholder="Ej. 10">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('zone').valid && (updateCustomer.get('zone').dirty || updateCustomer.get('zone').touched)">La
                            zona es requerida.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="address1" class="col-sm-12">Dirección 1<code
                                style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class=" far fa-address-book"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" id="address1" formControlName="address1" required
                                placeholder="Ej. 8va. calle 35-40 zona 4">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('address1').valid && (updateCustomer.get('address1').dirty || updateCustomer.get('address1').touched)">La
                            dirección es requerida.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="address2" class="col-sm-12">Dirección 2</label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class=" far fa-address-book"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" id="address2" formControlName="address2"
                                placeholder="Ej. Ciudad Vieja, Guatemala">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('address2').valid && (updateCustomer.get('address2').dirty || updateCustomer.get('address2').touched)">La
                            dirección es requerida.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="nit" class="col-sm-12">NIT<app-asteriskrequired></app-asteriskrequired></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="far fa-address-card"></i>
                                </span>
                            </div>
                            <input type="number" class="form-control" id="nit" formControlName="nit" required
                                placeholder="Ej. 12345678" maxlength="13" minlength="8">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('nit').valid && (updateCustomer.get('nit').dirty || updateCustomer.get('nit').touched)">El
                            nit es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="nit" class="col-sm-12">DPI<app-asteriskrequired></app-asteriskrequired></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="far fa-address-card"></i>
                                </span>
                            </div>
                            <input type="number" class="form-control" id="dpi" formControlName="DPI" required
                                placeholder="Ej. 2057309840101" maxlength="13">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('DPI').valid && (updateCustomer.get('DPI').dirty || updateCustomer.get('DPI').touched)">
                            El DPI es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="phone" class="col-sm-12">Número de Teléfono<code
                                style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-mobile-alt"></i>
                                </span>
                            </div>
                            <input type="text" size="8" class="form-control" id="phone" formControlName="phone" required
                                placeholder="Ej. 45826578" maxlength="8">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('phone').valid && (updateCustomer.get('phone').dirty || updateCustomer.get('phone').touched)">El
                            número de celular es requerido.</small>
                    </div>
                </div>
                <div class="col-sm-12 col-md-6">
                    <div class="form-group row">
                        <label for="email" class="col-sm-12">Correo electrónico<code
                                style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-envelope"></i>
                                </span>
                            </div>
                            <input [enabled]="false" type="email" class="form-control" id="email"
                                formControlName="email" required placeholder="Ej. email@email.com">
                        </div>
                        <small class="form-text text-danger col-sm-12"
                            *ngIf="!updateCustomer.get('email').valid && (updateCustomer.get('email').dirty || updateCustomer.get('email').touched)">Ingresar
                            un correo electrónico válido.</small>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-lg-6 p-b-40">
                    <div class="form-group row">
                        <label class="col-sm-12">Seleccionar logo</label>
                        <div class="input-group col-sm-12">
                            <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164=""
                                    for="inputGroupSelect01" class="input-group-text"><i
                                        class="far fa-images"></i></label></div>
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="inputlogo"
                                    (change)="showPreviewImage($event)" accept="image/*">
                                <img [src]="localUrl" *ngIf="localUrl" class="imgPlaceholder">
                                <label class="custom-file-label" for="inputlogo">Selecciona una imagen</label>
                            </div>
                        </div>
                        <!-- <small class="form-text text-danger  col-sm-12"
                                                            *ngIf="!updateCustomer.get('municipality_id').valid && (updateCustomer.get('municipality_id').dirty || updateCustomer.get('municipality_id').touched)">El
                                                            municipio es requerido.</small> -->
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-lg-6 p-b-40">
                    <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
                        (click)="OpenChangePassword(modalChangePassword)">Cambiar contraseña</button>
                </div>
            </div>
        </div>
        <div class="modal-footer border-top-0">
            <button type="submit" [disabled]="!updateCustomer.valid" class="btn btn-raised mr-1 text-white"
                style="background-color: #3473da;">Actualizar</button>
            <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
                (click)="closeBtnClick()">Cancelar</button>
        </div>
    </form>

</ng-template>

<ng-template #aditionalRequest let-modal>
    <div class="modal-header">

        <h5 class="modal-title" id="editUserLabel"> {{actualRequest.subject}} </h5>

        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-12">

                <div *ngIf="actualRequest">
                    <ngb-alert [dismissible]="false" type="success" *ngIf="actualRequest && actualRequest.status === 3">
                        <strong>Nota!</strong> Los documentos ya fueron enviados, estos documentos seran verificados por
                        Solucredit.
                    </ngb-alert>
                    <ngb-alert [dismissible]="false" type="danger" *ngIf="actualRequest && actualRequest.status === 1">
                        <strong>Nota!</strong> Los documentos fueron rechazados, porfavor vuelva a subir nuevos
                        documentos.
                    </ngb-alert>
                </div>


                <p>
                    {{actualRequest.details}}
                </p>
            </div>
        </div>
        <div class="table-responsive table-bordered" style="background-color: #fff !important;">
            <table class="table table-striped mb-0 no-wrap v-middle">
                <thead>
                    <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Subir documento</th>
                        <th scope="col">Ver documento</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let doc of Docs.controls, index as i">
                        <ng-container [formGroup]="doc">
                            <td>
                                {{i+1}}
                            </td>
                            <td>
                                <div class="custom-file">
                                    <input type="file" accept=".pdf, .jpeg, .jpg, .png" id="inputGroupFile03"
                                        class="custom-file-input" formControlName="scr"
                                        (change)="showPreviewImage3($event,'aditionalDocument',doc.controls.id.value)">
                                    <label for="inputGroupFile03" class="custom-file-label">Seleccionar
                                        documento</label>
                                </div>
                            </td>
                            <td>
                                <button *ngIf="doc.controls.id.value != ''" class="btn mb-2 text-white custom_btn1"
                                    (click)="ViewDocuAditional(showDoc, 'aditionalRelation', doc.controls.id.value)">
                                    Ver documento </button>
                            </td>

                        </ng-container>

                    </tr>
                </tbody>
            </table>
        </div>



        <div class="card-body div-con-flex-col div-confirmation">
            <button type="button" class="btn text-white custom_add1" (click)="completarReq()" *ngIf="Docss.length!==0"
                [disabled]="actualRequest.status==2 || actualRequest.status==3"><i
                    class="fas fa-check text-white m-r-10"></i>Completar Requerimiento</button>
            <button type="button" class="btn btn-raised mr-1 text-white  custom_btn1" (click)="agregarRequest()">Agregar
                otro documento</button>
            <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary"
                (click)="closeBtnClick()">Cancelar</button>
        </div>
    </div>
</ng-template>


<ng-template #verrepresentantes let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Ver representantes</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card mb-0">
            <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                <ngb-tabset type="pills" [justify]="currentJustify">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>REPRESENTANTES</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card">
                                <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                                    <div class="row ml-0 mr-0 m-b-20 " style="background: white;padding: 40px 15px;">
                                        <div class="col-sm-12 col-lg-5" style="display: inline-flex;">
                                            Buscar: <input class="form-control ml-2" placeholder="Buscar representante"
                                                type="text" [(ngModel)]="searchTerm" />
                                        </div>
                                        <div class="col-sm-12 col-lg-7 text-right">
                                            <button class="btn text-white custom_add1" (click)="addnewPerson()"><i
                                                    class="fas fa-user-plus text-white m-r-10"></i> Agregar un nuevo
                                                representante.</button>
                                        </div>
                                    </div>
                                    <div class="table-responsive table-bordered" style="background: #fff;">
                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Nombre Completo</th>
                                                    <th scope="col">Correo Electrónico</th>
                                                    <th scope="col">Dirección</th>
                                                    <th scope="col">Celular</th>
                                                    <th scope="col">Telefono de oficina</th>
                                                    <th scope="col">Telefono de casa</th>
                                                    <th scope="col">Acciones</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr
                                                    *ngFor="let client of dataPersonsRepresentative | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                                    <td>
                                                        <ngb-highlight
                                                            [result]="client.first_name +' '+ client.last_name"
                                                            [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.email" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.address" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.mobile_phone"
                                                            [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.office_home === null"
                                                            [result]="client.office_home" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.home_phone === null"
                                                            [result]="client.home_phone" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <button class="btn mb-2 text-white custom_btn1"
                                                            (click)="viewPerson(client.person_id)">Ver</button>
                                                        <button class="btn mb-2 text-white custom_btn1"
                                                            (click)="editPerson(client.person_id)">Editar</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="d-flex justify-content-center p-2">
                                            <ngb-pagination *ngIf="dataPersonsRepresentative" [maxSize]="5"
                                                [collectionSize]="dataPersonsRepresentative.length" [(page)]="page"
                                                [pageSize]="pageSize">
                                            </ngb-pagination>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
</ng-template>