<div class="row row-eq-height">
    <div class="col-lg-3">
        <div class="card m-b-0 bg-white h-100" style="object-fit: cover;min-height: 180px;">
            <!--<img class="card-img-top " src="assets/images/background/weatherbg.jpg" alt="Card image cap" style="object-fit: cover;max-height: 350px;background-color: #3473da;">-->
            <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #fff;">
                <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>DATOS DE CLIENTE</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card-img-overlay pb-0" style="position: relative;">
                                <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#759ee0" type="ball-scale-multiple">
                                    <p style="font-size: 20px; color:#fff">Cargando Información...</p>
                                </ngx-spinner>
                                <div class="row" class="text-black">
                                    <div class="col-sm-12 col-lg-12 float-left">
                                        <div *ngIf="initialRelation && initialRelation.status === 4 && !lastrequest">
                                            <ngb-alert [dismissible]="false" type="success" class="text-center">
                                                <strong>Nota!</strong> El siguiente paso es realizar una solicitud, clic en boton "Crear Solicitud".
                                            </ngb-alert>
                                        </div>

                                        <div *ngIf="initialRelation && initialRelation.has_internet_references === 1 ">
                                            <ngb-alert [dismissible]="false" type="danger" class="text-center">
                                                <strong>Precaución!</strong> se encontraron referencias negativas del prospecto en los buscadores de internet.
                                            </ngb-alert>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-white text-right">
                                    <button class="btn btn-circle btn-outline-info" (click)="editCustomer()">
                                        <i class="icon-pencil"></i>
                                    </button>
                                </div>

                               
                                <!-- <div class="col-sm-12 col-lg-12 float-left">
                                    <img *ngIf="dataCustomer" [hidden]="dataCustomer.logotipo === null"
                                        [src]="dataCustomer.logotipo" alt="logo" class="logotipo_customer">
                                </div> -->

                                <div class="text-center">
                                    <img *ngIf="dataCustomer" [hidden]="dataCustomer.logotipo === null" [src]="dataCustomer.logotipo" alt="logo" style="max-height: 120px;" class="rounded-circle">
                                    <!--NOMBRE CLIENTE INDIVIDUAL-->
                                    <h4 class="card-title m-t-10" *ngIf="dataCustomer && dataCustomer.type === 0">                                        
                                        {{dataCustomer.name}}
                                    </h4>
                                    <!--NOMBRE CLIENTE JURÍDICO-->
                                    <h4 class="card-title m-t-10" *ngIf="dataCustomer && dataCustomer.type === 1">
                                        {{dataCustomer.businessname}}
                                    </h4>
                                    <!--DIRECCIÓN 1 Y 2-->
                                    <h6 class="card-subtitle" *ngIf="dataCustomer">
                                        {{dataCustomer.address1}} {{dataCustomer.address2}}
                                    </h6>
                                    <br/>
                                    <!--TELÉFONO-->
                                    <div class="row text-center justify-content-md-center">
                                        <div class="col-4" *ngIf="dataCustomer">
                                            <a href="javascript:void(0)" class="link" ngbTooltip="Celular">
                                                <i class="icon-phone m-r-10"></i> {{dataCustomer.phone}} </a>
                                        </div>
                                        <!--ESTATUS DEL CLIENTE-->
                                        <div class="col-4">
                                            <a href="javascript:void(0)" class="link" ngbTooltip="Estado de cliente">
                                                <i class="icon-user-following m-r-10"></i>
                                                <span *ngIf="dataCustomer && dataCustomer.status_id === 0">
                                                    <b>
                                                        <span class="label label-success font-weight-100">Activo</span>
                                                </b>
                                                </span>
                                                <span *ngIf="dataCustomer && dataCustomer.status_id === 1">
                                                    <b>
                                                        <span class="label label-danger font-weight-100">Bloqueado</span>
                                                </b>
                                                </span>
                                                <span *ngIf="dataCustomer && dataCustomer.status_id === 2">
                                                    <b>
                                                        <span class="label label-danger font-weight-100">Inactivo</span>
                                                </b>
                                                </span>
                                            </a>
                                        </div>
                                        <!--FECHA DE ACTUALIZACIÓN-->
                                        <div class="col-4">
                                            <a href="javascript:void(0)" class="link" ngbTooltip="Última actualización">
                                                <i class="mdi mdi-update m-r-10"></i>
                                                <span *ngIf="initialRelation && initialRelation.modification_date">{{initialRelation.modification_date
                                                    | date: 'dd/MM/yyyy'}}</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <hr/>
                                </div>

                                <div class="row">
                                    <div class="col-6">
                                        <small class="text-muted text-center">Tipo de Negocio </small>
                                        <h6 *ngIf="dataCustomer && dataCustomer.type === 0">
                                            <div class="text-center">Individual</div>
                                        </h6>
                                        <h6 *ngIf="dataCustomer && dataCustomer.type === 1">
                                            <div class="text-center">Juridico</div>
                                        </h6>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Tipo de Cliente </small>
                                        <h6 class="text-center" *ngIf="dataCustomer && dataCustomer.category_id === 1">Prospecto</h6>
                                        <h6 class="text-center" *ngIf="dataCustomer && dataCustomer.category_id === 2">VIP</h6>
                                        <h6 class="text-center" *ngIf="dataCustomer && dataCustomer.category_id === 3">Tradicional</h6>
                                        <h6 class="text-center" *ngIf="dataCustomer && dataCustomer.category_id === 4">Otros</h6>
                                        <h6 class="text-center" *ngIf="dataCustomer && dataCustomer.category_id === 5">Cliente Tradicional</h6>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">
                                            Estado de la relación:
                                        </small>
                                        <p>
                                            <span *ngIf="initialRelation && initialRelation.status === 0" class="label label-danger font-weight-100">
                                                Sin Relación 
                                            </span>
                                            <span *ngIf="initialRelation && initialRelation.status === 1" class="label label-warning font-weight-100">
                                                En Proceso
                                            </span>
                                            <span *ngIf="initialRelation && initialRelation.status === 2" class="label label-warning font-weight-100">
                                                Verificando Documentos
                                            </span>
                                            <span *ngIf="initialRelation && initialRelation.status === 3" class="label label-danger font-weight-100">
                                                Documentos rechazados
                                            </span>
                                            <span *ngIf="initialRelation && initialRelation.status === 4" class="label label-success font-weight-100">
                                                Completa
                                            </span>

                                            <button class="btn px-1 mx-0" (click)="openModalSR(estadorelacion)" ngbTooltip="Ver el proceso del estado de la relación">
                                                <i class="icon-eye"></i>
                                            </button>
                                        </p>
                                    </div>
                                    <div class="col-6" *ngIf="initialRelation && initialRelation.status === 4 && lastrequest"></div>
                                    <div [class]="!lastrequest?'col-6':'col-12'" *ngIf="initialRelation && initialRelation.status === 4 ">
                                        <small class="text-muted">
                                            Estado de última solicitud:
                                        </small>
                                        <p>
                                            <span *ngIf="!lastrequest" class="label label-danger font-weight-100">
                                                Solicitud no iniciada
                                            </span>
                                            <span *ngIf="lastrequest" class="label label-success font-weight-30">
                                                {{lastrequest.aux}}
                                            </span>
                                            <!-- <span *ngIf="lastrequest && lastrequest.status == 0" class="label label-success font-weight-100">
                                                Solicitud Creada 
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 1" class="label label-danger font-weight-100">
                                                Validando verificaciones
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 2" class="label label-danger font-weight-100">
                                                Validando garantías 
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 3" class="label label-danger font-weight-100">
                                                Enviando formularios 
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 4" class="label label-danger font-weight-100">
                                                Ingreso de datos a los formularios 
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 5" class="label label-danger font-weight-100">
                                                Validando formularios
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 6" class="label label-danger font-weight-100">
                                                Análisis Legal
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 7" class="label label-danger font-weight-100">
                                                Visitas de negocio
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 8" class="label label-danger font-weight-100">
                                                Análisis de cumplimiento 
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 9" class="label label-danger font-weight-100">
                                                Revisión de Expediente
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 10" class="label label-danger font-weight-100">
                                                Aprobación Comité Créditos
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 11" class="label label-danger font-weight-100">
                                                Envío de informe de negociación
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 12" class="label label-danger font-weight-100">
                                                Aprobación Gerencial
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 13" class="label label-danger font-weight-100">
                                                Activación de cliente
                                            </span>
                                            <span *ngIf="lastrequest && lastrequest.status == 14" class="label label-success font-weight-100">
                                                Completa
                                            </span> -->
                                            <!-- <button class="btn px-1 mx-0" (click)="openModalSR(estadosolicitud)" ngbTooltip="Ver el proceso de la solicitud">
                                                <i class="icon-eye"></i>
                                            </button> -->
                                        </p>
                                    </div>
                                </div>

                               <!--  <div class="p-25 border-top m-t-15" *ngIf="dataCustomer && dataCustomer.type === 1">
                                    <div class="row text-center">
                                        <div class="col-6 border-right">
                                            <a type="button" (click)="openModalSR(verrepresentantes)" ngbTooltip="Agregar Representantes" class="link d-flex align-items-center justify-content-center font-medium btn-hover-gray">
                                                <i class="mdi mdi-account font-20 m-r-5"></i>Representantes
                                            </a>
                                        </div>
                                        <div class="col-6">
                                            <a type="button" (click)="openModalSR(versocios)" class="link d-flex align-items-center justify-content-center font-medium btn-hover-gray" ngbTooltip="Agregar Socios">
                                                <i class="mdi mdi-account-multiple font-20 m-r-5"></i>Socios
                                            </a>
                                        </div>
                                    </div>
                                </div> -->
                                <div class="row" *ngIf="initialRelation && initialRelation.status === 0 || !initialRelation">
                                    <div class="col">
                                        <button *ngIf="canInitRelation() && dataCustomer && dataCustomer.type === 1" class="btn btn-block text-white custom_add1  m-b-10" (click)="openModalSR(this.iniciarrelacion)"><i
                                            class="fas fa-book text-white m-r-10"></i> Inicio de relación</button>

                                        <!-- <button *ngIf="canInitRelation() && dataCustomer && dataCustomer.type === 1 && dataPersons.length <= 0" class="btn text-white custom_add1" (click)="openModalSR(this.iniciarrelacionsinrepresentates)"><i
                                                class="fas fa-book text-white m-r-10"></i> Inicio de relación</button> -->

                                        <button *ngIf="canInitRelation() && dataCustomer && dataCustomer.type === 0" class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR(this.iniciarrelacion)"><i
                                                class="fas fa-book text-white m-r-10"></i> Inicio de relación</button>

                                        <button *ngIf="canAddAval() && dataCustomer && dataCustomer.type === 0" class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR2(this.createfiduciary)"><i
                                                class="fas fa-book text-white m-r-10"></i> Agregar un aval <span class="badge my-badge">{{getSizeAvals()}}</span> </button>

                                        <button *ngIf="canAddAval() && dataCustomer && dataCustomer.type === 1" class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR2(this.createfiduciary)"><i
                                                class="fas fa-book text-white m-r-10"></i> Agregar un aval   <span class="badge my-badge">{{getSizeAvals()}}</span> </button>
                                    </div>
                                </div>
                                

                                <div class="row" *ngIf="initialRelation && initialRelation.status === 1">
                                    <div class="col">
                                        <button class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR(this.iniciarrelacionrenvio)"><i
                                                class="fas fa-book text-white m-r-10"></i>Reenvio de correo para iniciar
                                            relación</button>

                                        <button class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR2(this.createfiduciary)"><i
                                                class="fas fa-book text-white m-r-10"></i> Agregar un aval <span class="badge my-badge">{{getSizeAvals()}}</span>
                                            </button>
                                    </div>
                                </div>
                                <div class="row" *ngIf="initialRelation && initialRelation.status === 4">
                                    <div class="col">

                                        <button class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalSR2(this.createfiduciary)"
                                        *ngIf="canAddAval()"
                                        ><i
                                                class="fas fa-book text-white m-r-10"></i> Agrega un aval <span class="badge my-badge">{{getSizeAvals()}}</span>
                                            </button>
                                    </div>
                                </div>
                                <div class="row" *ngIf="dataCustomer && dataCustomer.type === 1">
                                    <div class="col">
                                        <button class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalXXL(verrepresentantes)">
                                            <i class="mdi mdi-account text-white m-r-10"></i>Representantes <span class="badge my-badge">{{getSizeRepresentatives()}}</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="row" *ngIf="dataCustomer && dataCustomer.type === 1">
                                    <div class="col">
                                        <button class="btn btn-block text-white custom_add1 m-b-10" (click)="openModalXXL(versocios)">
                                            <i class="mdi mdi-account-multiple text-white m-r-10"></i>Socios <span class="badge my-badge">{{getSizeMembers()}}</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
    <div class="col-lg-9">
        <div class="row h-100">
            <div class="col-12">
                <div class="card h-100">
                    <div class="card-body  p-r-0 p-l-0 p-t-0">
                        <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                            <ngb-tab>
                                <ng-template ngbTabTitle><b>INFORMACIÓN GENERAL</b></ng-template>
                                <ng-template ngbTabContent>
                                    <ngb-tabset [justify]="currentJustify">
                                        <ngb-tab *ngIf="initialRelation && initialRelation.status >= 0">
                                            <ng-template ngbTabTitle><b>DOCUMENTOS DE INICIO DE RELACIÓN</b></ng-template>
                                            <ng-template ngbTabContent>
                                                <div class="card-img-overlay" style="position: relative;">
                                                    <div class="m-b-20" style="background: white;">
                                                        <div class="col-sm-12 col-lg-12 text-right">

                                                            <button class="btn text-white custom_add1" (click)="openModalRelation(this.cambiaedr,4)" *ngIf="dataCustomer && dataCustomer.type === 0 && initialRelation && initialRelation.DPI_key && initialRelation.letter_of_consent_key && initialRelation.status_doc == 2"
                                                                [hidden]="initialRelation && initialRelation.status === 4"><i
                                                                    class="fas fa-check text-white "></i> Completar Relación.</button>

                                                            <button class="btn text-white btn-danger" (click)="openModalRelation(this.cambiaedr,3)" *ngIf="dataCustomer && dataCustomer.type === 0 && initialRelation && initialRelation.DPI_key && initialRelation.letter_of_consent_key && initialRelation.status_doc == 2"
                                                                [hidden]="initialRelation && initialRelation.status === 4"><i
                                                                    class="fas fa-file-excel text-white "></i> Rechazar
                                                                Relación.</button>

                                                            <button class="btn text-white custom_add1" (click)="openModalRelation(this.cambiaedr,4)" *ngIf="dataCustomer && dataCustomer.type === 1 && personsdata && personsdata.length === countadicionaldocumentinitial && completdocinitial > 0 && completeadicionaldocinitial === countadicionaldocumentinitial"
                                                                [hidden]="initialRelation && initialRelation.status === 4"><i
                                                                    class="fas fa-check text-white "></i> Completar Relación.</button>

                                                            <button class="btn text-white btn-danger" (click)="openModalRelation(this.cambiaedr,3)" *ngIf="dataCustomer && dataCustomer.type === 1 && personsdata && personsdata.length === countadicionaldocumentinitial && completdocinitial > 0 && completeadicionaldocinitial === countadicionaldocumentinitial"
                                                                [hidden]="initialRelation && initialRelation.status === 4"><i
                                                                    class="fas fa-file-excel text-white "></i> Rechazar
                                                                Relación.</button>
                                                        </div>
                                                    </div>
                                                    <div class="table-responsive table-bordered" style="background-color: #fff !important;">

                                                        <table class="table table-striped mb-0 no-wrap v-middle" *ngIf="dataCustomer && dataCustomer.type === 0">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" style="text-align: center">Estado</th>
                                                                    <th scope="col" style="text-align: center">Nombre</th>
                                                                    <th scope="col" style="text-align: center">DPI</th>
                                                                    <th scope="col" style="text-align: center">Carta de consentimiento</th>
                                                                    <th scope="col" style="text-align: center">Acciones</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody style="text-align: center">
                                                                <tr *ngIf="initialRelation">
                                                                    <td *ngIf="initialRelation && initialRelation.status_doc === 0">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                                espera </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="initialRelation && initialRelation.status_doc === 3||( !anyDeclined(initialRelation)&&!allDocumentsAccept(initialRelation)&& initialRelation.status_doc!=0)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                            _ngcontent-taf-c215=""
                                                                            class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                class="mdi mdi-check"></i></span>
                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                            Revisión </h5>
                                                                    </a>

                                                                    </td>
                                                                    <td *ngIf="initialRelation && anyDeclined(initialRelation)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-alert-circle-outline"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Rechazado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="initialRelation && allDocumentsAccept(initialRelation)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Aceptado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        {{dataCustomer.name}}
                                                                    </td>
                                                                    <td> 
                                                                        <button [disabled]="initialRelation.DPI_key == null || initialRelation.DPI_key == ''" class="btn mb-2 text-white custom_add1 btn-block " (click)="ViewDocuRelation(viewdocuments,'InicioRelacion',initialRelation.DPI_name)">
                                                                            <i class="far fa-id-card text-white"></i>
                                                                            Ver
                                                                            DPI</button>
                                                                    </td>
                                                                    <td>
                                                                        <button [disabled]="initialRelation.letter_of_consent_key == null || initialRelation.letter_of_consent_key == ''" class="btn mb-2 text-white custom_add1 btn-block" (click)="ViewDocuRelation(viewdocuments,'InicioRelacion',initialRelation.letter_of_consent_key, initialRelation.letter_of_consent_key)">
                                                                            <i class="fas fa-file text-white"></i> 
                                                                            Ver
                                                                            consentimiento</button>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        <button [disabled]="initialRelation && initialRelation.status_doc === 2" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,0,initialRelation.id,['DPI','Carta de consentimiento'],'accept',initialRelation)" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null"><i
                                                                                class="fas fa-check text-white"></i> Aprobar</button>

                                                                        <button [disabled]="initialRelation && initialRelation.status_doc === 2" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null" class="btn text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,0,initialRelation.id,['DPI','Carta de consentimiento'])"><i
                                                                                class="fas fa-file-excel text-white "></i> Rechazar</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                        <table class="table table-striped mb-0 no-wrap v-middle" *ngIf="dataCustomer && dataCustomer.type === 1">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" style="text-align: center">Estado</th>
                                                                    <th scope="col" style="text-align: center">Nombre</th>
                                                                    <th scope="col" style="text-align: center">Documento de Identificación</th>
                                                                    <th scope="col" style="text-align: center">Carta de consentimiento</th>
                                                                    <th scope="col" style="text-align: center" colspan="2">Acciones de documento</th>
                                                                    
                                                                </tr>
                                                            </thead>
                                                            <tbody style="text-align: center">
                                                                <tr *ngIf="initialRelation">
                                                                    <td *ngIf="initialRelation && initialRelation.status_doc === 0">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                                espera </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="initialRelation && initialRelation.status_doc === 3 ||( !anyDeclined(initialRelation)&&!allDocumentsAccept(initialRelation)&& initialRelation.status_doc!=0)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                            _ngcontent-taf-c215=""
                                                                            class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                class="mdi mdi-check"></i></span>
                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                            Revisión </h5>
                                                                    </a>

                                                                    </td>
                                                                    <td *ngIf="initialRelation && anyDeclined(initialRelation)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-alert-circle-outline"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Rechazado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="initialRelation && allDocumentsAccept(initialRelation)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Aceptado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        {{dataCustomer.businessname}}
                                                                    </td>

                                                                    <td>
                                                                        <button [disabled]="initialRelation.DPI_key === null" class="btn mb-2 text-white custom_add1 btn-block" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',initialRelation.DPI_name,initialRelation.id)"><i class="fas fa-file text-white"></i> Acta de Nombramiento</button>
                                                                    </td>
                                                                    <td>
                                                                        <button [disabled]="initialRelation.letter_of_consent_key === null" class="btn mb-2 text-white custom_add1 btn-block " (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',initialRelation.letter_of_consent_key+'/'+initialRelation.letter_of_consent_name,initialRelation.id)"><i class="fas fa-file text-white"></i> Consentimiento</button>
                                                                    </td>
                                                                    <td >
                                                                        <button [disabled]="initialRelation && initialRelation.status_doc === 2" class="btn text-white custom_add1  " (click)="openModalStatusDoc(this.docjuridico,2,0,initialRelation.id,['Acta de Nombramiento','Carta de consentimiento'],'accept',initialRelation)" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null"><i
                                                                                class="fas fa-check text-white"></i> Aprobar
                                                                        </button>

                                                                        <button [disabled]="initialRelation && initialRelation.status_doc === 2" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null" class="btn text-white btn-danger " (click)="openModalStatusDoc(this.docjuridico,1,0,initialRelation.id,['Acta de Nombramiento','Carta de consentimiento'])"><i
                                                                                class="fas fa-file-excel text-white "></i> Rechazar
                                                                        </button>
                                                                        
                                                                    </td>
                                                                    <td></td>
                                                                </tr>
                                                                <tr *ngFor="let person of personsdata">
                                                                    <td *ngIf="person.status_doc === 0">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                                espera </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="person.status_doc === 3||(!anyDeclined(person)&&!allDocumentsAccept(person)&&person.status_doc!=0)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En
                                                                                Revisión </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="anyDeclined(person)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-alert-circle-outline"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Rechazado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="allDocumentsAccept(person)">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">
                                                                                Aceptado </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        {{person.name}} <br><h5>
                                                                        <strong>{{getTypePerson(person)}}</strong></h5>
                                                                    </td>

                                                                    <td>
                                                                        <button [disabled]="person.DPI_key===null" class="btn mb-2 text-white custom_add1  btn-block" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',person.DPI_name, person.id)">  
                                                                            <i class="far fa-id-card text-white"></i> DPI </button>
                                                                    </td>
                                                                    <td>
                                                                        <button [disabled]="person.letter_of_consent_key===null" class="btn mb-2 text-white custom_add1  btn-block" 
                                                                        (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',person.letter_of_consent_key, person.id)"><i class="fas fa-file text-white"></i> Consentimiento </button>
                                                                    </td>
                                                                    <td>
                                                                        <button [disabled]="person && person.status_doc === 2"
                                                                            *ngIf="person.letter_of_consent_key!==null && person.DPI_key!==null" class="btn text-white custom_add1  "
                                                                            (click)="openModalStatusDoc(this.docjuridico,2,person.id,initialRelation.id,['DPI','Carta de consentimiento'],'accept',person)"><i
                                                                                class="fas fa-check text-white"></i> Aprobar </button>
                                                                        <button [disabled]="person && person.status_doc === 2"
                                                                            *ngIf="person.letter_of_consent_key!==null && person.DPI_key!==null" class="btn text-white btn-danger "
                                                                            (click)="openModalStatusDoc(this.docjuridico,1,person.id,initialRelation.id,['DPI','Carta de consentimiento'])"><i
                                                                                class="fas fa-file-excel text-white "></i> Rechazar</button>
                                                                      
                                                                    </td>
                                                                    <td >
                                                                        <button [disabled]="person && person.status_doc === 2" class="btn text-white btn-danger"
                                                                            (click)="openModalDeleteMembers(this.deletecustomermember,person)">
                                                                            <i class="fas fa-trash-alt text-white "></i> Eliminar
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </ng-template>
                                        </ngb-tab>
                                        <ngb-tab *ngIf="initialRelation && initialRelation.status >= 0 && dataFiduciary && dataFiduciary.length > 0">
                                            <ng-template ngbTabTitle><b>DOCUMENTOS DE AVALES</b></ng-template>
                                            <ng-template ngbTabContent>
                                                <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                                    <div class="row">
                                                        <div class="col-lg-12" *ngFor="let fiducia of getChilds(dataFiduciary, null)">
                                                            <div class="solucredit-base-card card">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">
                                                                            <div class="d-flex flex-row">
                                                                                <!-- <div class="d-inline my-auto">
                                                                                    <img *ngIf="fiducia.type == 0 || fiducia.type == 2 || fiducia.type == 3" width="50" class="rounded-circle" src="assets/images/user.png"/>
                                                                                    <img *ngIf="fiducia.type == 1" width="50" class="rounded-circle" src="assets/images/users.png"/>
                                                                                </div> -->
                                                                                <div class="d-inline my-auto col-md-2">
                                                                                    <!-- <h3>
                                                                                      <i class="fa fa-times text-warning" *ngIf="initialRelation.DPI_key == null && initialRelation.letter_of_consent_key == null"></i>
                                                                                      <i class="fa fa-check text-success" *ngIf="initialRelation.DPI_key != null && initialRelation.letter_of_consent_key != null"></i>
                                                                                    </h3> -->
                                                                                    <a *ngIf="fiducia.status_doc === 0" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                        <span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14">
                                                                                            <i class="mdi mdi-check"></i>
                                                                                        </span>
                                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5>
                                                                                    </a>
                                                                                    <a *ngIf="fiducia.status_doc === 3 ||( !anyDeclined(fiducia)&&!allDocumentsAccept(fiducia)&&fiducia.status_doc!=0)" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                        <span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14">
                                                                                            <i class="mdi mdi-check"></i>
                                                                                        </span>
                                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Revisión </h5>
                                                                                    </a>
                                                                                    <a *ngIf="fiducia && anyDeclined(fiducia)" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                        <span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14">
                                                                                            <i class="mdi mdi-alert-circle-outline"></i>
                                                                                        </span>
                                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5>
                                                                                    </a>
                                                                                    <a *ngIf="fiducia && allDocumentsAccept(fiducia)" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                        <span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14">
                                                                                            <i class="mdi mdi-check"></i>
                                                                                        </span>
                                                                                        <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">Aceptado </h5>
                                                                                    </a>
                                                                                </div>
                                                                                <div class="text-left col-md-4 my-auto" >
                                                                                    <h5 *ngIf="fiducia.type == 0" class="d-inline my-auto  " >{{fiducia.name}}   <br><strong>Aval Individual</strong></h5>
                                                                                    <h5 *ngIf="fiducia.type == 1" class="d-inline my-auto">{{fiducia.businessname != null? fiducia.businessname: fiducia.name}} <br> <strong>Aval Jurídico</strong></h5>
                                                                                    <h5 *ngIf="fiducia.type == 2" class="d-inline my-auto ">{{fiducia.businessname}} <br> <strong>Representante de Aval</strong></h5>
                                                                                    <h5 *ngIf="fiducia.type == 3" class="d-inline my-auto">{{fiducia.name}} <br> <strong>Socio de Aval</strong></h5> 
                                                                                </div>
                                                                            
                                                                                <div class="d-inline my-auto col-md-2 text-right ">
                                                                                    <button [disabled]="fiducia.DPI_key===null" class="btn text-white custom_add1 btn-block" (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.DPI_name, fiducia.id_fiduciary)"><i [class]="fiducia.type==1?'fas fa-file text-white':'far fa-id-card text-white'"></i>  {{fiducia.type == 1?'Acta de Nombramiento':'DPI'}}</button>
                                                                                    <button [disabled]="fiducia.letter_of_consent_key===null" class="btn text-white custom_add1 btn-block " (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.letter_of_consent_key, fiducia.id_fiduciary)"><i class="fas fa-file text-white"></i> Consentimiento</button>
                                                                                </div>
                                                                                <div class="d-inline my-auto mr-0 col-md-4 text-right">
                                                                                    <div class="row">
                                                                                        <div class="col-sm-8">
                                                                                            <button [disabled]="fiducia && fiducia.status_doc === 2" *ngIf="fiducia.letter_of_consent_key!==null && fiducia.DPI_key!==null" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,fiducia.id_fiduciary,'fiduciary',[fiducia.type==1?'Acta de Nombramiento':'DPI','Carta de consentimiento'],'accept',fiducia)">
                                                                                                <i class="fas fa-check text-white"></i> Aprobar
                                                                                            </button>
                                                                                            <button [disabled]="fiducia && fiducia.status_doc === 2" *ngIf="fiducia.letter_of_consent_key!==null && fiducia.DPI_key!==null" class="btn text-white btn-danger " (click)="openModalStatusDoc(this.docjuridico,1,fiducia.id_fiduciary,'fiduciary',[fiducia.type==1?'Acta de Nombramiento':'DPI','Carta de consentimiento'])">
                                                                                                <i class="fas fa-file-excel text-white "></i> Rechazar
                                                                                            </button>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            <button class="btn text-white btn-danger "  (click)="openModalDeleteDoc(this.deletecustomer,1,fiducia.id_fiduciary,'fiduciary')"  >
                                                                                                <i class="fas fa-trash-alt text-white "></i> Eliminar
                                                                                            </button>
                                                                                        </div>
                                                                                    </div>
                                                                                    
                                                        
                                                                                  
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <ul class="timeline timeline-left ml-5" *ngIf="getChilds(dataFiduciary, fiducia.id_fiduciary).length > 0">
                                                                <li class="timeline-inverted timeline-item" *ngFor="let child of getChilds(dataFiduciary, fiducia.id_fiduciary); index as i;">
                                                                    <div class="timeline-badge text-white">
                                                                        <img *ngIf="child.type == 0 || child.type == 2 || child.type == 3" width="50" class="img-fluid" src="assets/images/user.png" />
                                                                        <img *ngIf="child.type == 1" width="50" class="img-fluid" src="assets/images/users.png" />
                                                                    </div>
                                                                    <div class="timeline-panel solucredit-base-card" style="border-radius: 10px !important;">
                                                                        <!-- <div class="timeline-heading">
                                                                      <h5 *ngIf="child.type == 0" class="timeline-title">{{ child.name || '' }}</h5>
                                                                      <h5 *ngIf="child.type == 1" class="timeline-title">{{ child.businessname }}</h5>
                                                                      <h5 *ngIf="child.type == 2 || child.type == 3" class="timeline-title">{{ child.name || ''}}</h5>
                                                        
                                                                      <p>
                                                                        <small *ngIf="child.type == 0" class="text-muted">Aval Individual</small>
                                                                        <small *ngIf="child.type == 1" class="text-muted">Aval Juridico</small>
                                                                        <small *ngIf="child.type == 2" class="text-muted">Representante de Aval {{child.businessname}}</small>
                                                                        <small *ngIf="child.type == 3" class="text-muted">Socio de Aval {{child.businessname}}</small>
                                                                      </p>
                                                                    </div>             -->
                                                                        <div class="timeline-body">
                                                                            <div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="d-flex justify-content-between flex-row">
                                                                                        <div class="d-inline my-auto">
                                                                                            <a *ngIf="child.status_doc === 0" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                                <span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14">
                                                                                        <i class="mdi mdi-check"></i>
                                                                                    </span>
                                                                                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5>
                                                                                            </a>
                                                                                            <a *ngIf="child.status_doc === 3||( !anyDeclined(child)&&!allDocumentsAccept(child)&&child.status_doc!=0) " class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                                <span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14">
                                                                                        <i class="mdi mdi-check"></i>
                                                                                    </span>
                                                                                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Revisión </h5>
                                                                                            </a>
                                                                                            <a *ngIf="child&&anyDeclined(child)" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                                <span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14">
                                                                                        <i class="mdi mdi-alert-circle-outline"></i>
                                                                                    </span>
                                                                                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5>
                                                                                            </a>
                                                                                            <a *ngIf="child && allDocumentsAccept(child)" class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0">
                                                                                                <span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14">
                                                                                        <i class="mdi mdi-check"></i>
                                                                                    </span>
                                                                                                <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark">Aceptado </h5>
                                                                                            </a>
                                                                                        </div>
                                                                                        <h5 *ngIf="child.type == 0" class="d-inline my-auto mx-2">{{ child.name || '' }}    </h5>
                                                                                        <h5 *ngIf="child.type == 1" class="d-inline my-auto mx-2">{{ child.businessname }}</h5>
                                                                                        <h5 *ngIf="child.type == 2 || child.type == 3" class="d-inline my-auto mx-2">{{ child.name || ''}} </h5>

                                                                                        <h6 *ngIf="child.type == 0" class="d-inline my-auto mx-2 text-muted">Aval Individual</h6>
                                                                                        <h6 *ngIf="child.type == 1" class="d-inline my-auto mx-2 text-muted">Aval Juridico</h6>
                                                                                        <h6 *ngIf="child.type == 2" class="d-inline my-auto mx-2 text-muted"><b>Representante</b></h6>
                                                                                        <!--  de Aval {{child.businessname}} -->

                                                                                        <h6 *ngIf="child.type == 3" class="d-inline my-auto mx-2 text-muted"><b>Socio</b></h6>
                                                                                        <!-- de Aval {{child.businessname}} -->

                                                                                        <div class="d-inline my-auto mx-2">
                                                                                            <button [disabled]="child.DPI_key===null" class="btn btn-block text-white custom_add1 mb-2"
                                                                                                (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',child.DPI_name, child.id_fiduciary)">
                                                                                                <i class="far fa-id-card text-white"></i>
                                                                                                Ver
                                                                                                DPI</button>
                                                                                            <button [disabled]="child.letter_of_consent_key===null" class="btn btn-block text-white custom_add1"
                                                                                                (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',child.letter_of_consent_key, child.id_fiduciary)">
                                                                                                <i class="fas fa-file text-white"></i>
                                                                                                Ver
                                                                                                consentimiento</button>
                                                                                        </div>
                                                                                        <div class="d-inline my-auto mx-2 mr-0">
                                                                                            <button [disabled]="child && child.status_doc === 2" *ngIf="child.letter_of_consent_key!==null && child.DPI_key!==null" class="btn btn-block text-white custom_add1 mb-2" (click)="openModalStatusDoc(this.docjuridico,2,child.id_fiduciary,'fiduciary',['DPI','Carta de consentimiento'],'accept',child)">
                                                                                    <i class="fas fa-check text-white"></i> Aprobar
                                                                                </button>
                                                                                            <button [disabled]="child && child.status_doc === 2" *ngIf="child.letter_of_consent_key!==null && child.DPI_key!==null" class="btn btn-block text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,child.id_fiduciary,'fiduciary',['DPI','Carta de consentimiento'])">
                                                                                    <i class="fas fa-file-excel text-white "></i> Rechazar
                                                                                </button>
                                                                                <button class="btn btn-block text-white btn-danger"  (click)="openModalDeleteDoc(this.deletecustomer,1,child.id_fiduciary,'fiduciary')"  >
                                                                                    <i class="fas fa-trash-alt text-white "></i> Eliminar
                                                                                </button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </li>
                                                            </ul>

                                                        </div>
                                                    </div>
                                                
                                                </div>
                                            </ng-template>
                                        </ngb-tab>
                                        <ngb-tab *ngIf="initialRelation && initialRelation.status >= 0">
                                            <ng-template ngbTabTitle><b>SOLICITUDES ADICIONALES</b></ng-template>
                                            <ng-template ngbTabContent>
                                                <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                                    <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col"></th>
                                                                    <th scope="col">
                                                                        <div style="display: flex;">
                                                                            INFORNET <a target="blank_" [href]="getLink('INFORNET')">(Visitar
                                                                            Sitio)</a>
                                                                            <div class="d-flex flex-row-reverse align-items-center ml-3 border-left custom-card-list-link">
                                                                                <button class="btn mb-2 text-white  btn-xs" 
                                                                                    [ngClass]="infornetFiles.length>0?'btn-success':'btn-color-solucredit-secondary'"
                                                                                ngbTooltip="Documentos infornet" (click)="openInfornetModal(infornetDocs)"> 
                                                                               <i class="fas fa-download"></i> Descargar y Subir documentos
                                                                            </button>
                                                                            </div>

                                                                        </div>

                                                                    </th>
                                                                    <th scope="col">Referencias en internet
                                                                        <a target="blank_" href="https://www.google.com/">(Buscar en
                                                                            google)</a>
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <th> Solicitar información adicional </th>
                                                                    <td>
                                                                        <!-- Infornet -->
                                                                        <form [formGroup]="typeadicionalDoc" class="form-horizontal">
                                                                            <div class="row form-group ">
                                                                                <div class="col-lg-4 col-md-4 col-sm-12">
                                                                                    <div class="custom-control custom-radio">
                                                                                        <input type="radio" id="customRadio1" name="typeadicional" value="0" class="custom-control-input" formControlName="typeadicional" (change)="chageTypeAdicionalDoc()">
                                                                                        <label class="custom-control-label custom-label" for="customRadio1">No</label>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-lg-4 col-md-4 col-sm-12">
                                                                                    <div class="custom-control custom-radio">
                                                                                        <input type="radio" id="customRadio2" name="typeadicional" value="1" class="custom-control-input" formControlName="typeadicional" (change)="chageTypeAdicionalDoc()">
                                                                                        <label class="custom-control-label custom-label" for="customRadio2">Si</label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </form>
                                                                    </td>
                                                                    <td>
                                                                        <!-- References -->
                                                                        <form [formGroup]="referencesForm" class="form-horizontal">
                                                                            <div class="row form-group ">
                                                                                <div class="col-lg-4 col-md-4 col-sm-12">
                                                                                    <div class="custom-control custom-radio">
                                                                                        <input type="radio" id="has1" name="has" value="0" class="custom-control-input" formControlName="has" (change)="chageReferences()">
                                                                                        <label class="custom-control-label custom-label" for="has1">No</label>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-lg-4 col-md-4 col-sm-12">
                                                                                    <div class="custom-control custom-radio">
                                                                                        <input type="radio" id="has2" name="has" value="1" class="custom-control-input" formControlName="has" (change)="chageReferences()">
                                                                                        <label class="custom-control-label custom-label" for="has2">Si</label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </form>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <th>Acciones</th>
                                                                    <td>
                                                                        <div class="col-sm-12 col-lg-12 text-right">
                                                                            <button class="btn text-white custom_add1" *ngIf="initialRelation" [hidden]="initialRelation && initialRelation.status === 4" (click)="openModalRelation(this.solicitardocadicionales)" [disabled]="typeAdicionalDoc">
                                                                                <i class="fas fa-check text-white "></i> Solicitar
                                                                                documentos adicionales.</button>
                                                                        </div>
                                                                    </td>
                                                                    <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                        <ngx-spinner name="s18s" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                            <p style="color: white"> Subiendo Documento ... </p>
                                                                        </ngx-spinner>
                                                                        <fieldset class="form-group">
                                                                            <input type="file" class="" (change)="uploadInternetImage($event,s18s)" accept=".pdf,image/*">
                                                                        </fieldset>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <th> Archivos </th>
                                                                    <td>
                                                                    </td>
                                                                    <td>
                                                                        <!--  -->
                                                                        <div *ngFor="let doc of internetFiles">
                                                                            <td>{{doc.name_s3|namefile }}</td>
                                                                            <td *ngIf="doc.is_visible == 1"><i style="cursor: pointer;" class="icon-eye" (click)="ViewReqDoc(viewdocuments, doc)"></i></td>
                                                                            <td><i style="cursor: pointer;" class="icon-cloud-download" (click)="DownloadInternetFile(doc)"></i></td>
                                                                            <td><i style="cursor: pointer;color:red" (click)="DeleteInternetFile(doc)" class="icon-trash"></i>
                                                                            </td>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </ngb-tab>
                                        <ngb-tab *ngIf="initialRelation && initialRelation.status >= 0 && aditionalrequest && aditionalrequest.length > 0">
                                            <ng-template ngbTabTitle><b>DOCUMENTOS ADICIONALES</b></ng-template>
                                            <ng-template ngbTabContent>
                                                <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                                    <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col">Estado</th>
                                                                    <th scope="col">Asunto</th>
                                                                    <th scope="col">Detalle</th>
                                                                    <th scope="col">Acciones de documento</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let request of aditionalrequest">
                                                                    <td *ngIf="request && request.status === 0">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera
                                                                            </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="request && request.status === 3">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Revisión
                                                                            </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="request && request.status === 1">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-alert-circle-outline"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado
                                                                            </h5>
                                                                        </a>
                                                                    </td>
                                                                    <td *ngIf="request && request.status === 2">
                                                                        <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span
                                                                                _ngcontent-taf-c215=""
                                                                                class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i
                                                                                    class="mdi mdi-check"></i></span>
                                                                            <h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Aceptado
                                                                            </h5>
                                                                        </a>
                                                                    </td>

                                                                    <td>
                                                                        {{request.subject}}
                                                                    </td>
                                                                    <td style="max-width: 400px; white-space: pre-wrap;">
                                                                        <span *ngIf="request.details">{{request.details}}</span>
                                                                        <span *ngIf="request.details == null || request.details == ''">Pendiente</span>
                                                                    </td>
                                                                    <td>
                                                                        <!-- <button class="btn mb-2 text-white custom_btn1" (click)="do(request)"> Adjuntar </button> -->
                                                                        <button class="btn  text-white custom_add1" (click)="OpenAdicionalDocModal(showDocaditionalrequest, 'aditionalRelation', request.id_aditional_request)">
                                                                            <i class="fas fa-eye"></i>
                                                                            Ver documento </button>
                                                                        <button [hidden]="request && request.status === 2" class="btn text-white custom_add1" (click)="openModalAdicionalDoc(this.docadicionales,2, request.id_aditional_request,request.subject)"><i
                                                                                class="fas fa-check text-white"></i> Aprobar</button>
                                                                        <button [hidden]="request && request.status === 2" class="btn text-white btn-danger" (click)="openModalAdicionalDoc(this.docadicionales,1,request.id_aditional_request,request.subject)"><i
                                                                                class="fas fa-file-excel text-white "></i> Rechazar</button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </ngb-tab>
                                    </ngb-tabset>
                                </ng-template>
                            </ngb-tab>
                        </ngb-tabset>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- <div class="card-body p-r-0 p-l-0 p-t-0 m-t-20" style="background: #fff;" *ngIf="initialRelation && initialRelation.status >= 1">
                <ngb-tabset type="pills" [justify]="currentJustify">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>DOCUMENTOS DE INICIO DE RELACIÓN</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                <div class="m-b-20" style="background: white;">
                                    <div class="col-sm-12 col-lg-12 text-right">

                                        <button class="btn text-white custom_add1" (click)="openModalRelation(this.cambiaedr,4)" *ngIf="dataCustomer && dataCustomer.type === 0 && initialRelation && initialRelation.DPI_key && initialRelation.letter_of_consent_key && initialRelation.status_doc == 2" [hidden]="initialRelation && initialRelation.status === 4"><i
                                                class="fas fa-check text-white "></i> Completar Relación.</button>

                                        <button class="btn text-white btn-danger" (click)="openModalRelation(this.cambiaedr,3)" *ngIf="dataCustomer && dataCustomer.type === 0 && initialRelation && initialRelation.DPI_key && initialRelation.letter_of_consent_key && initialRelation.status_doc == 2" [hidden]="initialRelation && initialRelation.status === 4"><i
                                                class="fas fa-file-excel text-white "></i> Rechazar Relación.</button>

                                        <button class="btn text-white custom_add1" (click)="openModalRelation(this.cambiaedr,4)" *ngIf="dataCustomer && dataCustomer.type === 1 && personsdata && personsdata.length === countadicionaldocumentinitial && completdocinitial > 0 && completeadicionaldocinitial === countadicionaldocumentinitial" [hidden]="initialRelation && initialRelation.status === 4"><i
                                                class="fas fa-check text-white "></i> Completar Relación.</button>
    
                                        <button class="btn text-white btn-danger" (click)="openModalRelation(this.cambiaedr,3)" *ngIf="dataCustomer && dataCustomer.type === 1 && personsdata && personsdata.length === countadicionaldocumentinitial && completdocinitial > 0 && completeadicionaldocinitial === countadicionaldocumentinitial" [hidden]="initialRelation && initialRelation.status === 4"><i
                                                class="fas fa-file-excel text-white "></i> Rechazar Relación.</button>
                                    </div>
                                </div>
                                <div class="table-responsive table-bordered" style="background-color: #fff !important;">

                                    <table class="table table-striped mb-0 no-wrap v-middle" *ngIf="dataCustomer && dataCustomer.type === 0">
                                        <thead>
                                            <tr>
                                                <th scope="col">Documento Personal de Identificacion (DPI)</th>
                                                <th scope="col">Carta de consentimiento</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngIf="initialRelation">
                                                <td>
                                                    <button [disabled]="initialRelation.DPI_key == null || initialRelation.DPI_key == ''" class="btn mb-2 text-white custom_add1" (click)="ViewDocuRelation(viewdocuments,'InicioRelacion',initialRelation.DPI_key)">Ver DPI</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="initialRelation.letter_of_consent_key == null || initialRelation.letter_of_consent_key == ''" class="btn mb-2 text-white custom_add1" (click)="ViewDocuRelation(viewdocuments,'InicioRelacion',initialRelation.letter_of_consent_key)" >Ver consentimiento</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="initialRelation && initialRelation.status_doc === 2" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,0,initialRelation.id)" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null"><i
                                                    class="fas fa-check text-white" ></i> Completar Documentos.</button>
                                                    
                                                    <button [disabled]="initialRelation && initialRelation.status_doc === 2" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null" class="btn text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,0,initialRelation.id)"><i class="fas fa-file-excel text-white "></i> Rechazar Documentos.</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <table class="table table-striped mb-0 no-wrap v-middle" *ngIf="dataCustomer && dataCustomer.type === 1">
                                        <thead>
                                            <tr>
                                                <th scope="col">Estado</th>
                                                <th scope="col">Nombre Completo</th>
                                                <th scope="col">Documento Personal de Identificacion (DPI)</th>
                                                <th scope="col">Carta de consentimiento</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngIf="initialRelation">
                                                 <td *ngIf="initialRelation && initialRelation.status_doc === 0">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5></a>
                                                </td>
                                                <td *ngIf="initialRelation && initialRelation.status_doc === 3">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Revisión </h5></a>
                                                </td>
                                                <td *ngIf="initialRelation && initialRelation.status_doc === 1">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5></a>
                                                </td>
                                                <td *ngIf="initialRelation && initialRelation.status_doc === 2">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Aceptado </h5></a>
                                                </td>
                                                <td>
                                                    {{dataCustomer.businessname}}
                                                </td>

                                                <td>
                                                    <button [disabled]="initialRelation.DPI_key === null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',initialRelation.DPI_key,initialRelation.id)">Ver DPI</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="initialRelation.letter_of_consent_key === null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',initialRelation.letter_of_consent_key,initialRelation.id)">Ver consentimiento</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="initialRelation && initialRelation.status_doc === 2" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,0,initialRelation.id)" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null"><i
                                                    class="fas fa-check text-white" ></i> Completar Documentos.</button>
                                                    
                                                    <button [disabled]="initialRelation && initialRelation.status_doc === 2" *ngIf="initialRelation.letter_of_consent_key!==null && initialRelation.DPI_key!==null" class="btn text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,0,initialRelation.id)"><i class="fas fa-file-excel text-white "></i> Rechazar Documentos.</button>
                                                </td>
                                            </tr>
                                            <tr *ngFor="let person of personsdata" >
                                                 <td *ngIf="person.status_doc === 0">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5></a>
                                                </td>
                                                <td *ngIf="person.status_doc === 3">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Revisión </h5></a>
                                                </td>
                                                <td *ngIf="person.status_doc === 1">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5></a>
                                                </td>
                                                <td *ngIf="person.status_doc === 2">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Aceptado </h5></a>
                                                </td>
                                                <td>
                                                    {{person.first_name}} {{person.last_name}}
                                                </td>

                                                <td>
                                                    <button [disabled]="person.DPI_key===null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',person.DPI_key, person.id)">Ver DPI</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="person.letter_of_consent_key===null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuCustomer(viewdocuments,'InicioRelacion',person.letter_of_consent_key, person.id)">Ver consentimiento</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="person && person.status_doc === 2" *ngIf="person.letter_of_consent_key!==null && person.DPI_key!==null" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,person.person_id,initialRelation.id)" ><i
                                                    class="fas fa-check text-white" ></i> Completar Documentos.</button>
                                                    <button [disabled]="person && person.status_doc === 2" *ngIf="person.letter_of_consent_key!==null && person.DPI_key!==null" class="btn text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,person.person_id,initialRelation.id)"><i class="fas fa-file-excel text-white "></i> Rechazar Documentos.</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div> -->
<!-- <div class="card-body p-r-0 p-l-0 p-t-0 m-t-20" style="background: #fff;" *ngIf="initialRelation && initialRelation.status >= 1 && dataFiduciary && dataFiduciary.length > 0">
                <ngb-tabset type="pills" [justify]="currentJustify">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>DOCUMENTOS DE AVALES</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                    <table class="table table-striped mb-0 no-wrap v-middle">
                                        <thead>
                                            <tr>
                                                <th scope="col">Estado</th>
                                                <th scope="col">Nombre</th>
                                                <th scope="col">Documento Personal de Identificacion (DPI)</th>
                                                <th scope="col">Carta de consentimiento</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let fiducia of dataFiduciary" >
                                                 <td *ngIf="fiducia.status_doc === 0">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5></a>
                                                </td>
                                                <td *ngIf="fiducia.status_doc === 3">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Revisión </h5></a>
                                                </td>
                                                <td *ngIf="fiducia.status_doc === 1">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5></a>
                                                </td>
                                                <td *ngIf="fiducia.status_doc === 2">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Aceptado </h5></a>
                                                </td>
                                                <td>
                                                    {{fiducia.name1}} {{fiducia.lastname1}}
                                                </td>

                                                <td>
                                                    <button [disabled]="fiducia.DPI_key===null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.DPI_key, fiducia.id_fiduciary)">Ver DPI</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="fiducia.letter_of_consent_key===null" class="btn mb-2 text-white custom_add1" (click)="ViewDocuFidu(viewdocuments,'Fiduciarios',fiducia.letter_of_consent_key, fiducia.id_fiduciary)">Ver consentimiento</button>
                                                </td>
                                                <td>
                                                    <button [disabled]="fiducia && fiducia.status_doc === 2" *ngIf="fiducia.letter_of_consent_key!==null && fiducia.DPI_key!==null" class="btn text-white custom_add1" (click)="openModalStatusDoc(this.docjuridico,2,fiducia.id_fiduciary,'fiduciary')" ><i
                                                    class="fas fa-check text-white" ></i> Completar Documentos.</button>
                                                    <button [disabled]="fiducia && fiducia.status_doc === 2" *ngIf="fiducia.letter_of_consent_key!==null && fiducia.DPI_key!==null" class="btn text-white btn-danger" (click)="openModalStatusDoc(this.docjuridico,1,fiducia.id_fiduciary,'fiduciary')"><i class="fas fa-file-excel text-white "></i> Rechazar Documentos.</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div> -->
<!-- <div class="card-body p-r-0 p-l-0 p-t-0 m-t-20" style="background: #fff;" *ngIf="countadicionaldocumentinitial > 0">
                <ngb-tabset type="pills" [justify]="currentJustify">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>SOLICITUDES ADICIONALES</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                    <table class="table table-striped mb-0 no-wrap v-middle">
                                        <thead>
                                            <tr>
                                                <th scope="col">Detalle</th>
                                                <th scope="col">Solicitar información adicional</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>INFORNET <a target="blank_" href="https://left.infor.net/clientes/webbuspersonas.php">(Visitar Sitio)</a>
                                                </td>
                                                <td>
                                                    <form [formGroup]="typeadicionalDoc" class="form-horizontal" >
                                                    <div class="row form-group ">
                                                        <div class="col-lg-4 col-md-4 col-sm-12">
                                                            <div class="custom-control custom-radio">
                                                                <input type="radio" id="customRadio1" name="typeadicional" value="0" class="custom-control-input" formControlName="typeadicional" (change)="chageTypeAdicionalDoc()">
                                                                <label class="custom-control-label custom-label" for="customRadio1">No</label>
                                                            </div>
                                                        </div>
                                
                                                        <div class="col-lg-4 col-md-4 col-sm-12">
                                                            <div class="custom-control custom-radio">
                                                                <input type="radio" id="customRadio2" name="typeadicional" value="1" class="custom-control-input" formControlName="typeadicional" (change)="chageTypeAdicionalDoc()">
                                                                <label class="custom-control-label custom-label" for="customRadio2">Si</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </form>
                            
                                                </td>
                                                <td>
                                                    <div class="col-sm-12 col-lg-12 text-right" *ngIf="initialRelation" [hidden]="initialRelation && initialRelation.status === 4">
                                                        <button class="btn text-white custom_add1" (click)="openModalRelation(this.solicitardocadicionales)" [disabled]="typeAdicionalDoc">
                                                            <i class="fas fa-check text-white "></i> Solicitar documentos adicionales.</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div> -->
<!-- <div class="card-body p-r-0 p-l-0 p-t-0 m-t-20" style="background: #fff;" *ngIf="initialRelation && initialRelation.status >= 1 && aditionalrequest && aditionalrequest.length > 0">
                <ngb-tabset type="pills" [justify]="currentJustify">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>DOCUMENTOS ADICIONALES</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card-img-overlay" style="position: relative;margin-top:25px">
                                <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                    <table class="table table-striped mb-0 no-wrap v-middle">
                                        <thead>
                                            <tr>
                                                <th scope="col">Estado</th>
                                                <th scope="col">Asunto</th>
                                                <th scope="col">Detalle</th>
                                                <th scope="col">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let request of aditionalrequest" >
                                                <td *ngIf="request && request.status === 0">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En espera </h5></a>
                                                </td>
                                                <td *ngIf="request && request.status === 3">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-warning badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Revisión </h5></a>
                                                </td>
                                                <td *ngIf="request && request.status === 1">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Rechazado </h5></a>
                                                </td>
                                                <td *ngIf="request && request.status === 2">
                                                    <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Aceptado </h5></a>
                                                </td>
                                                
                                                <td>
                                                    {{request.subject}}
                                                </td>
                                                <td style="max-width: 400px; white-space: pre-wrap;">
                                                    <span *ngIf="request.details">{{request.details}}</span>
                                                    <span *ngIf="request.details == null || request.details == ''">Pendiente</span>
                                                </td>
                                                <td>
                                                    
                                                    <button class="btn  text-white custom_add1" (click)="OpenAdicionalDocModal(showDocaditionalrequest, 'aditionalRelation', request.id_aditional_request)"  > Ver documento </button>
                                                    <button [hidden]="request && request.status === 2" class="btn text-white custom_add1" (click)="openModalAdicionalDoc(this.docadicionales,2, request.id_aditional_request,request.subject)" ><i
                                                    class="fas fa-check text-white" ></i> Completar Documentos.</button>
                                                    <button [hidden]="request && request.status === 2" class="btn text-white btn-danger" (click)="openModalAdicionalDoc(this.docadicionales,1,request.id_aditional_request,request.subject)"><i class="fas fa-file-excel text-white "></i> Rechazar Documentos.</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div> -->
<div class="row">
    <div class="col-md-12">
        <div class="card m-b-0 bg-white" style="object-fit: cover;min-height: 180px;">
            <div class="card mb-0" [hidden]="true">
                <div class="card-body p-r-0 p-l-0" style="background: #edf4f8;">
                    <ngb-tabset type="pills" [justify]="currentJustify">
                        <ngb-tab>
                            <ng-template ngbTabTitle><b>REPRESENTANTES</b></ng-template>
                            <ng-template ngbTabContent>
                                <div class="card">
                                    <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                                        <div class="row ml-0 mr-0 m-b-20 " style="background: white;padding: 40px 15px;">
                                            <div class="col-sm-12 col-lg-5" style="display: inline-flex;">
                                                Buscar: <input class="form-control ml-2" placeholder="Buscar representante" type="text" [(ngModel)]="searchTerm" />
                                            </div>
                                            <div class="col-sm-12 col-lg-7 text-right">
                                                <button *ngIf="canAddRepresentative()" class="btn text-white custom_btn1" type="button" (click)="addnewPerson()"><i
                                                        class="fas fa-user-plus text-white m-r-10"></i> Agregar un nuevo
                                                    representante.</button>
                                            </div>
                                        </div>
                                        <div class="table-responsive table-bordered" style="background: #fff;">
                                            <table class="table table-striped mb-0 no-wrap v-middle">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Nombre Completo</th>
                                                        <th scope="col">Correo Electrónico</th>
                                                        <th scope="col">Dirección</th>
                                                        <th scope="col">Celular</th>
                                                        <th scope="col">Telefono de oficina</th>
                                                        <th scope="col">Telefono de casa</th>
                                                        <th scope="col">Acciones</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let client of dataPersons | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                                        <td>
                                                            <ngb-highlight [result]="client.first_name +' '+ client.last_name" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <ngb-highlight [result]="client.email" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <ngb-highlight [result]="client.address" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <ngb-highlight [result]="client.mobile_phone" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <ngb-highlight [hidden]="client.office_home === null" [result]="client.office_home" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <ngb-highlight [hidden]="client.home_phone === null" [result]="client.home_phone" [term]="searchTerm">
                                                            </ngb-highlight>
                                                        </td>
                                                        <td>
                                                            <button class="btn mb-2 text-white custom_btn1" (click)="viewPerson(client.person_id)">Ver</button>
                                                            <button class="btn mb-2 text-white custom_btn1" (click)="editPerson(client.person_id)">Editar</button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="d-flex justify-content-center p-2">
                                                <ngb-pagination *ngIf="dataPersons" [maxSize]="5" [collectionSize]="dataPersons.length" [(page)]="page" [pageSize]="pageSize">
                                                </ngb-pagination>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </ngb-tab>
                    </ngb-tabset>
                </div>
            </div>
            <!--  -->
            <div class="card mb-0" *ngIf="initialRelation && initialRelation.status === 4">
                <div class="card-body p-r-0 p-l-0" style="background: #edf4f8;">
                    <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                        <ngb-tab>
                            <ng-template ngbTabTitle><b>SOLICITUDES</b></ng-template>
                            <ng-template ngbTabContent>
                                <div *ngIf="usersolucredit" class="card-body" style="background-color: #fff !important;">
                                    <ng-container *ngIf="canCreateRequest()">
                                        <!-- <button class="btn text-white custom_btn1" (click)="openModal2(crearsolicitud)" type="button" style="float: right;width: auto;margin-bottom: 15px;margin-right: 0;" *ngIf="lastrequest && lastrequest.status === 14 || lastrequest === undefined"><span class="btn-label m-r-5"><i
                                                class="icon-notebook"></i></span>Crear Solicitud</button>-->

                                        <button class="btn text-white custom_btn1" (click)="openNewModal(crearsolicitudNueva)" type="button" style="float: right;width: auto;margin-bottom: 15px;margin-right: 0;" *ngIf="lastrequest && lastrequest.status === 14 || lastrequest === undefined"><span class="btn-label m-r-5"><i
                                            class="icon-notebook"></i></span>Crear Solicitud</button>

                                    </ng-container>
                                    <div class="table-responsive table-bordered" style="background-color: #fff !important;">
                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="text-align: center;">Código de solicitud</th>
                                                    <th scope="col" style="text-align: center;">Tipo de Garantía</th>
                                                    <th scope="col" style="text-align: center;">Tipo de Documento</th>
                                                    <th scope="col" style="text-align: center;">Etapa</th>
                                                    <th scope="col" style="text-align: center;">Tipo de solicitud</th>
                                                    <th scope="col" style="text-align: center;">Fecha de solicitud</th>
                                                    <th scope="col" style="text-align: center;">Fecha de actualización</th>
                                                    <!-- <th scope="col" style="text-align: center;">Días en proceso</th> -->
                                                    <!-- //<th scope="col">Estado</th> -->
                                                    <th scope="col" style="text-align: center;">Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let request of dataRequest | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                                    <td class="text-center">
                                                        <a>{{request.request_id}}</a>
                                                    </td>
                                                    <td class="text-center">

                                                        {{(request.warranty_type == 0?'Fiduciaria':request.warranty_type == 1?'Hipotecaria':request.warranty_type == 2?'Prendaria':'' )}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{(request.doc_type == 0 || request.doc_type == 3?'Pagaré':request.doc_type == 1?'Cupo revolvente':request.doc_type == 2?'Escritura':request.doc_type == 4?'Crédito/Contrato':request.doc_type == 5?'Pagaré':request.doc_type == 6?'Cupo revolvente':request.doc_type
                                                        == 7?'Escritura':request.doc_type == 8?'Pagaré':request.doc_type == 4?'Crédito/Contrato':'' )}}

                                                    </td>
                                                    <td class="text-center">
                                                        <!-- <span *ngIf="lastrequest && lastrequest.status == 1">Asistente Comercial</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 2">Asistente Comercial</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 3">Asistente Comercial</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 4">Prospecto (Enviado por email)</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 5">Asistente Comercial</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 6">Área Legal (Validación de papelería)</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 7">Gerencia Comercial</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 8">Oficial de Cumplimiento</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 9">Gerencia de Operaciones</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 10">Área de Negociaciones</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 11">Prospecto (Envío de papelería)</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 12">Área de negociaciones</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 13">Gerencia General</span>
                                                        <span *ngIf="lastrequest && lastrequest.status == 14">Gerencia General</span> -->
                                                        {{request.aux}}
                                                    </td>
                                                    <td class="text-center">
                                                        <div *ngIf="request.type == 1">
                                                            Factoraje Tradicional
                                                        </div>
                                                        <div *ngIf="request.type == 2">
                                                            Factoraje Especial
                                                        </div>
                                                        <div *ngIf="request.type == 3">
                                                            Especiales
                                                        </div>
                                                        <div *ngIf="request.type == 4">
                                                            Pronto Pago
                                                        </div>
                                                    </td>
                                                    <td class="text-center">
                                                        {{ request.create_date | date: 'dd/MM/yyyy HH:mm a'}}
                                                    </td>
                                                    <td class="text-center">
                                                        {{ request.last_date | date: 'dd/MM/yyyy HH:mm a'}}
                                                    </td>
                                                    <!-- <td class="text-center">
                                                        <span *ngIf="calculateDiff(request.create_date) <= 3" class="label label-success font-weight-100">{{calculateDiff(request.create_date)}}</span>
                                                        <span *ngIf="calculateDiff(request.create_date) > 3 && calculateDiff(request.create_date) <= 5" class="label label-warning font-weight-100">{{calculateDiff(request.create_date)}}</span>
                                                        <span *ngIf="calculateDiff(request.create_date) > 5" class="label label-danger font-weight-100">{{calculateDiff(request.create_date)}}</span>
                                                    </td> -->
                                                    <!-- <td class="text-center">
                                                        <div *ngIf="request.status == 0">
                                                            Pendientes
                                                        </div>
                                                        <div *ngIf="request.status == 1">
                                                            Precalificación
                                                        </div>
                                                        <div *ngIf="request.status == 2">
                                                            Comité de Crédito
                                                        </div>
                                                    </td> -->
                                                    <td>
                                                        <button class="btn btn-block text-white custom_add1 mb-2" (click)="selectRequest(request.request_id)"><i class="fas fa-eye"></i> Ver</button>
                                                        <button class="btn mb-2 text-white text-center btn-danger btn-block" (click)="openModalDeleteRequest(deleteRequest,request)"><i class="fas fa-trash-alt"></i> Eliminar</button>
                                                        <!--<div class="input-group">
                                                            <div class="input-group-prepend">
                                                                <div ngbDropdown>
                                                                    <button class="btn mr-0 btn-outline-secondary dropdown-toggle" type="button" ngbDropdownToggle>Opciones</button>
                                                                    <div class="dropdown-menu" ngbDropdownMenu>
                                                                         <button class="dropdown-item button-drop" (click)="openModalModificarAval(modAval,request)" ngbDropdownItem *ngIf="request.doc_type == 0 || request.doc_type == 1 || request.doc_type == 5 || request.doc_type == 6">Editar</button>
                                                                        <button class="dropdown-item button-drop" (click)="openModalDeleteRequest(deleteRequest,request)" ngbDropdownItem>Eliminar</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>-->
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="d-flex justify-content-center p-2">
                                            <ngb-pagination *ngIf="dataRequest" [maxSize]="5" [collectionSize]="dataRequest.length" [(page)]="page" [pageSize]="pageSize">
                                            </ngb-pagination>
                                        </div>
                                    </div>
                                </div>
                            </ng-template>
                        </ngb-tab>
                    </ngb-tabset>
                </div>
            </div>
            <div class="card mb-0" *ngIf="usersolucredit && requestSelected">
                <div class="card-body p-r-0 p-l-0" style="background: #edf4f8;">
                    <ngb-tabset type="pills" [justify]="currentJustify">
                        <ngb-tab>
                            <ng-template ngbTabTitle><b>CUMPLIMIENTOS</b></ng-template>
                            <ng-template ngbTabContent>
                                <div class="card">
                                    <div class="card-body p-r-0 p-l-0" style="background: #edf4f8;" *ngIf="requestSelected">
                                        <ngb-tabset type="pills" [justify]="currentJustify">
                                            <ngb-tab>
                                                <ng-template ngbTabTitle><b>FORMULARIOS</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <ng-template #tipContentBtnDisabled>
                                                        Debes seleccionar por lo menos un formulario
                                                    </ng-template>
                                                    <ng-template #tipContentBtnDisabled>
                                                        Debes seleccionar por lo menos un formulario
                                                    </ng-template>

                                                    <div class="div-button-mail-customer">
                                                        <span [disableTooltip]="formsCheckBoxes.length != 0" [ngbTooltip]="tipContentBtnDisabled">
                                                            <button [disabled]="formsCheckBoxes.length == 0" class="btn text-white custom_add1" (click)="openModal2(confirmationModal)"><i class="fas fa-user-plus text-white m-r-10"></i> Enviar documentos a {{dataCustomer.name}}</button>
                                                            </span>

                                                    </div>
                                                    <div class="row m-t-30" style="background: #fff;">
                                                        <div class="table-responsive table-bordered">
                                                            <table class="table table-striped mb-0 no-wrap v-middle">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="max-width: 20px;" class="text-center" scope="col">
                                                                            <input type="checkbox" [checked]="isAllChecked" [value]="0" (change)="onCheckAllForms($event)">
                                                                        </th>
                                                                        <th scope="col">Nombre Formulario</th>
                                                                        <th scope="col">Estado</th>
                                                                        <th scope="col">Subir Formulario</th>
                                                                        <th scope="col">Archivos</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[0].value" [value]="formsCheckBoxesData[0].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(0)">Solicitud</span> </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs1" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusSolicitud.check" type="checkbox" id="checkboxSolicitud" value="Solicitud" (change)="onCheckboxChange($event,'formularios','solicitud','cs1')">
                                                                                <label class="form-check-label" for="checkboxSolicitud">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusSolicitud.class" class="label  font-weight-100">{{StatusSolicitud.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s1" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','solicitud','s1')" accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.xls,.xlsx,.pdf,image/*">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'solicitud'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[1].value" [value]="formsCheckBoxesData[1].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(1)">Perfil</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs2" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" type="checkbox" id="checkboxVer">
                                                                                <label class="form-check-label" for="checkboxVer">Si</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusPerfil.class" class="label  font-weight-100">{{StatusPerfil.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s2" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','perfil','s2')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'perfil'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[2].value" [value]="formsCheckBoxesData[2].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(2)">FEIC</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs3" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusFeic.check" type="checkbox" id="checkboxCompleto" value="FEIC" (change)="onCheckboxChange($event,'formularios','feic','cs3')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusFeic.class" class="label  font-weight-100">{{StatusFeic.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s3" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','feic','s3')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'feic'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[3].value" [value]="formsCheckBoxesData[3].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(3)">IVE Productos</span> </td>


                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs4" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusIve.check" type="checkbox" id="checkboxIVE" value="IVEProductos" (change)="onCheckboxChange($event,'formularios','iveproductos','cs4')">
                                                                                <label class="form-check-label" for="checkboxIVE">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusIve.class" class="label  font-weight-100">{{StatusIve.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s4" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','iveproductos','s4')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'iveproductos'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[4].value" [value]="formsCheckBoxesData[4].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(4)">CPE</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs5" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusCpe.check" type="checkbox" id="checkboxCPE" value="CPE" (change)="onCheckboxChange($event,'formularios','cpe','cs5')">
                                                                                <label class="form-check-label" for="checkboxCPE">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusCpe.class" class="label  font-weight-100">{{StatusCpe.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s5" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','cpe','s5')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'cpe'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[5].value" [value]="formsCheckBoxesData[5].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(5)">PEP</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs6" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusHipotecaria.check" type="checkbox" id="checkboxPerfil" value="Hipotecaria" (change)="onCheckboxChange($event,'garantias','hipotecaria','cs15')">
                                                                                <label class="form-check-label" for="checkboxPerfil">Completar Garantia</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusHipotecaria.class" class="label  font-weight-100">{{StatusHipotecaria.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s6" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','pep','s6')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'pep'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[6].value" [value]="formsCheckBoxesData[6].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(6)">Autorización para Consultas</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs7" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusAuto.check" type="checkbox" id="checkboxAutCons" value="AutorizacionparaConsultas" (change)="onCheckboxChange($event,'formularios','autorizacionparaconsultas','cs7')">
                                                                                <label class="form-check-label" for="checkboxAutCons">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusAuto.class" class="label  font-weight-100">{{StatusAuto.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s7" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','autorizacionparaconsultas','s7')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'autorizacionparaconsultas'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[7].value" [value]="formsCheckBoxesData[7].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(7)">Carta para el Banco Internacional</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs8" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusCarta.check" type="checkbox" id="checkboxCartaBanco" value="CartaparaelBancoInternacional" (change)="onCheckboxChange($event,'formularios','cartaparaelbancointernacional','cs8')">
                                                                                <label class="form-check-label" for="checkboxCartaBanco">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusCarta.class" class="label  font-weight-100">{{StatusCarta.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s8" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','cartaparaelbancointernacional','s8')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'cartaparaelbancointernacional'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[8].value" [value]="formsCheckBoxesData[8].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(8)">Estado patrimonial</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs9" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusEstado.check" type="checkbox" id="checkboxEstadoPatrimonial" value="Estadopatrimonial" (change)="onCheckboxChange($event ,'formularios','estadopatrimonial','cs9')">
                                                                                <label class="form-check-label" for="checkboxEstadoPatrimonial">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusEstado.class" class="label  font-weight-100">{{StatusEstado.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s9" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','estadopatrimonial','s9')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'estadopatrimonial'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[9].value" [value]="formsCheckBoxesData[9].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(9)">Flujos de Fondos</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s10" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusFlujos.check" type="checkbox" id="checkboxFlujoFondos" value="FlujosdeFondos" (change)="onCheckboxChange($event,'formularios','flujosdefondos','cs10')">
                                                                                <label class="form-check-label" for="checkboxFlujoFondos">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusFlujos.class" class="label  font-weight-100">{{StatusFlujos.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s10" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','flujosdefondos','s10')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'flujosdefondos'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[10].value" [value]="formsCheckBoxesData[10].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(10)">Endeudamiento Bancario</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs11" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusEndeudamiento.check" type="checkbox" id="checkboxEndudamiento" value="EndeudamientoBancario" (change)="onCheckboxChange($event,'formularios','endeudamientobancario','cs11')">
                                                                                <label class="form-check-label" for="checkboxEndudamiento">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusEndeudamiento.class" class="label  font-weight-100">{{StatusEndeudamiento.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s11" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','endeudamientobancario','s11')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'endeudamientobancario'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[11].value" [value]="formsCheckBoxesData[11].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(11)">Formato para integraciones</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs12" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ...</p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusFormato.check" type="checkbox" id="checkboxIntegracion" value="Formatoparaintegraciones" (change)="onCheckboxChange($event,'formularios','formatoparaintegraciones','cs12')">
                                                                                <label class="form-check-label" for="checkboxIntegracion">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusFormato.class" class="label  font-weight-100">{{StatusFormato.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s12" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ...</p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','formatoparaintegraciones','s12')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'formatoparaintegraciones'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td style="max-width: 20px;" class="text-center">
                                                                            <input type="checkbox" [checked]="formsCheckBoxesData[12].value" [value]="formsCheckBoxesData[12].data.key" (change)="onCheckChange($event)">
                                                                        </td>
                                                                        <td><span style="cursor: pointer;color: #2962ff;font-weight: 500;" (click)="goToForm(12)">Registro de Deudores</span> </td>

                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs13" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusDeudores.check" type="checkbox" id="checkboxDeudores" value="RegistrodeDeudores" (change)="onCheckboxChange($event,'formularios','registrodedeudores','cs13')">
                                                                                <label class="form-check-label" for="checkboxDeudores">Completar Formulario</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusDeudores.class" class="label  font-weight-100">{{StatusDeudores.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s13" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'formularios','registrodedeudores','s13')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of documentCostumer">
                                                                                <tr *ngIf="item.name === 'registrodedeudores'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'formularios',item.document_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('formularios',item.document_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td></td>
                                                                        <td>Completar Formularios</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td>
                                                                            <button *ngIf="canCompleteForms()" [class]="statusbtnFormularios.class" class="btn text-white " (click)="ChangeStatusRequest('formulario',statusbtnFormularios.value)"><i
                                                                                    [class]="statusbtnFormularios.icon"></i> {{statusbtnFormularios.text}} </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab *ngIf="usersolucredit && requestSelected">
                                                <ng-template ngbTabTitle><b>GARANTIAS</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="row m-t-30" style="background: #fff;">
                                                        <div class="table-responsive table-bordered">
                                                            <table class="table table-striped mb-0 no-wrap v-middle">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col">Nombre de la Garantía</th>
                                                                        <th scope="col">Estado</th>
                                                                        <th scope="col">Subir Archivos</th>
                                                                        <th scope="col">Archivos</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Prendaría</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs14" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white">Cambiando Estatus ...</p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusPrendaria.check" type="checkbox" id="checkboxSolicitud" value="Prendaria" (change)="onCheckboxChange($event,'garantias','prendaria','cs14')">
                                                                                <label class="form-check-label" for="checkboxSolicitud">Completar Garantia</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusPrendaria.class" class="label  font-weight-100">{{StatusPrendaria.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s14" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white">Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'garantias','prendaria','s14')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of warrantiesCustomer">
                                                                                <tr *ngIf="item.name === 'prendaria'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'garantias',item.warranty_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('garantias',item.warranty_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Hipotecaria</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs15" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusHipotecaria.check" type="checkbox" id="checkboxPerfil" value="Hipotecaria" (change)="onCheckboxChange($event,'garantias','hipotecaria','cs15')">
                                                                                <label class="form-check-label" for="checkboxPerfil">Completar Garantia</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusHipotecaria.class" class="label  font-weight-100">{{StatusHipotecaria.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s15" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'garantias','hipotecaria','s15')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of warrantiesCustomer">
                                                                                <tr *ngIf="item.name === 'hipotecaria'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'garantias',item.warranty_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('garantias',item.warranty_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Fiduciaria</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs16" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusFiduciaria.check" type="checkbox" id="checkboxCompleto" value="Fiduciaria" (change)="onCheckboxChange($event,'garantias','fiduciaria','cs16')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Garantia</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusFiduciaria.class" class="label  font-weight-100">{{StatusFiduciaria.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s16" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'garantias','fiduciaria','s16')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of warrantiesCustomer">
                                                                                <tr *ngIf="item.name === 'fiduciaria'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'garantias',item.warranty_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('garantias',item.warranty_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Completar Garantias</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td>
                                                                            <button *ngIf="canCompleteWarranties()" [class]="statusbtnGarantias.class" class="btn text-white " (click)="ChangeStatusRequest('garantia',statusbtnGarantias.value)">
                                                                                <i [class]="statusbtnGarantias.icon"></i> {{statusbtnGarantias.text}} </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                            <ngb-tab *ngIf="usersolucredit && requestSelected">
                                                <ng-template ngbTabTitle><b>VERIFICACIONES</b></ng-template>
                                                <ng-template ngbTabContent>
                                                    <div class="row m-t-30" style="background: #fff;">
                                                        <div class="table-responsive table-bordered">
                                                            <table class="table table-striped mb-0 no-wrap v-middle">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col">Nombre de la Verificación</th>
                                                                        <th scope="col">Estado</th>
                                                                        <th scope="col">Subir Archivos</th>
                                                                        <th scope="col">Archivos</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Visita inicial</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs17" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusVisitasInicial.check" type="checkbox" id="checkboxSolicitud" value="VisitasInicial" (change)="onCheckboxChange($event,'verificaciones','visitasinicial','cs17')">
                                                                                <label class="form-check-label" for="checkboxSolicitud">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusVisitasInicial.class" class="label  font-weight-100">{{StatusVisitasInicial.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s17" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <button class="btn text-white custom_add1" (click)="OpenVisita(visitainicial)">Información de la visita</button>
                                                                        </td>
                                                                        <td>
                                                                            <!-- //Fachada 0 //Recepcion1 // Interior2-->
                                                                            <tr class="text-center">
                                                                                <th colspan="3">
                                                                                    <h6 class="mb-0">Fachada</h6>
                                                                                </th>
                                                                                <div *ngFor="let item of verificationsCustomer">
                                                                                    <tr *ngIf="item.name === 'visitasinicial' && item.type === 0">
                                                                                        <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                        <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                        <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                    </tr>
                                                                                </div>
                                                                            </tr>

                                                                            <tr class="text-center">
                                                                                <th colspan="3">
                                                                                    <h6 class="mb-0">Recepcion</h6>
                                                                                </th>
                                                                                <div *ngFor="let item of verificationsCustomer">
                                                                                    <tr *ngIf="item.name === 'visitasinicial' && item.type === 1">
                                                                                        <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                        <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                        <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                    </tr>
                                                                                </div>
                                                                            </tr>

                                                                            <tr class="text-center">
                                                                                <th colspan="3">
                                                                                    <h6 class="mb-0">Interior</h6>
                                                                                </th>
                                                                                <div *ngFor="let item of verificationsCustomer">
                                                                                    <tr *ngIf="item.name === 'visitasinicial' && item.type === 2">
                                                                                        <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                        <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                        <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                    </tr>
                                                                                </div>
                                                                            </tr>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Record Crediticio</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs18" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusRecordCrediticio.check" type="checkbox" id="checkboxPerfil" value="RecordCrediticio" (change)="onCheckboxChange($event,'verificaciones','recordcrediticio','cs18')">
                                                                                <label class="form-check-label" for="checkboxPerfil">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusRecordCrediticio.class" class="label  font-weight-100">{{StatusRecordCrediticio.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s18" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'verificaciones','recordcrediticio','s18')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of verificationsCustomer">
                                                                                <tr *ngIf="item.name === 'recordcrediticio'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Guatecompras <a target="blank_" href="http://www.guatecompras.gt/proveedores/busquedaProvee.aspx">(Visitar Sitio)</a></td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs19" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusGuatecompras.check" type="checkbox" id="checkboxCompleto" value="Guatecompras" (change)="onCheckboxChange($event,'verificaciones','guatecompras','cs19')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusGuatecompras.class" class="label  font-weight-100">{{StatusGuatecompras.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s19" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'verificaciones','guatecompras','s19')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of verificationsCustomer">
                                                                                <tr *ngIf="item.name === 'guatecompras'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>INFORNET <a target="blank_" href="https://left.infor.net/clientes/webbuspersonas.php">(Visitar Sitio)</a></td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs20" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusInfornet.check" type="checkbox" id="checkboxCompleto" value="Infornet" (change)="onCheckboxChange($event,'verificaciones','infornet','cs20')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusInfornet.class" class="label  font-weight-100">{{StatusInfornet.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s20" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'verificaciones','infornet','s20')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of verificationsCustomer">
                                                                                <tr *ngIf="item.name === 'infornet'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>SAT <a target="blank_" href="https://portal.sat.gob.gt/portal/consulta-registro-tributario-unificado/">(Visitar Sitio)</a></td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs21" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusSat.check" type="checkbox" id="checkboxCompleto" value="Sat" (change)="onCheckboxChange($event,'verificaciones','sat','cs21')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusSat.class" class="label  font-weight-100">{{StatusSat.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s21" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'verificaciones','sat','s21')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of verificationsCustomer">
                                                                                <tr *ngIf="item.name === 'sat'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>DECLARAGUATE <a target="blank_" href="https://declaraguate.sat.gob.gt/declaraguate-web/">(Visitar Sitio)</a></td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="cs22" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Cambiando Estatus ... </p>
                                                                            </ngx-spinner>
                                                                            <div class="form-check form-check-inline" [hidden]="!usersolucredit">
                                                                                <input class="form-check-input" [checked]="StatusDeclaraguate.check" type="checkbox" id="checkboxCompleto" value="Declaraguate" (change)="onCheckboxChange($event,'verificaciones','declaraguate','cs22')">
                                                                                <label class="form-check-label" for="checkboxCompleto">Completar Verificación</label>
                                                                            </div>
                                                                            <span [ngClass]="StatusDeclaraguate.class" class="label  font-weight-100">{{StatusDeclaraguate.status}}</span>
                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">
                                                                            <ngx-spinner name="s22" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                                                                                <p style="color: white"> Subiendo Documento ... </p>
                                                                            </ngx-spinner>
                                                                            <fieldset class="form-group">
                                                                                <input type="file" class="" id="exampleInputFile" (change)="showPreviewImage($event,'verificaciones','declaraguate','s22')">
                                                                            </fieldset>
                                                                        </td>
                                                                        <td>
                                                                            <div *ngFor="let item of verificationsCustomer">
                                                                                <tr *ngIf="item.name === 'declaraguate'">
                                                                                    <td [ngbTooltip]="item.document_name">{{item.document_name | slice:0:8}}...</td>
                                                                                    <td><i style="cursor: pointer;" class=" icon-eye" (click)="ViewDocu(viewdocuments,'verificaciones',item.verification_key)"></i></td>
                                                                                    <td><i style="cursor: pointer;color:red" (click)="DeleteDocu('verificaciones',item.verification_key)" class="icon-trash"></i></td>
                                                                                </tr>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Completar Verificaciones</td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td style="position: relative;padding-top: 20px;padding-bottom: 20px;">

                                                                        </td>
                                                                        <td>
                                                                            <button *ngIf="canCompleteChecks()" [class]="statusbtnVerificaciones.class" class="btn text-white" (click)="ChangeStatusRequest('verificaciones',statusbtnVerificaciones.value )">
                                                                                        <i [class]="statusbtnVerificaciones.icon"></i> {{statusbtnVerificaciones.text}} </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                            </ngb-tab>
                                        </ngb-tabset>
                                    </div>
                                </div>
                            </ng-template>
                        </ngb-tab>
                    </ngb-tabset>
                </div>
            </div>
        </div>
    </div>
</div>




<ng-template #crearsolicitudNueva let-modal>

    <div class="modal-header">
        <ngx-spinner name="spnrequest" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
            <p style="color: white">Subiendo Documento ... </p>
        </ngx-spinner>

        <h5 class="modal-title" id="editUserLabel">Crear una nueva solicitud</h5>

        <button type="button" class="close" (click)="closeRequestBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body">
        <ul class="wizard-navbar">
            <div class="liner"></div>

            <li class="active flex-fill">
                <a [ngClass]="(pageName==='step1')?'nav-link active':'nav-link'" uiSrefActive="active" uiSref="personal" data-toggle="tab" title="personal">
                    <span class="round-tabs one">
                    <i class="icon-settings"></i>
                    
                </span>
                </a>
            </li>
            <li class="flex-fill">
                <a [ngClass]="(pageName==='step2')?'nav-link active':'nav-link'" uiSrefActive="active" uiSref="work" data-toggle="tab" title="work">
                    <span class="round-tabs two">
                    <i class="icon-directions"></i>
                </span>
                </a>
            </li>

            <li class="flex-fill" *ngIf="FormInitSolicitud.value.warranty !=1 && FormInitSolicitud.value.warranty !=2 && dataCustomer && dataCustomer.type==1">
                <a [ngClass]="(pageName==='step3')?'nav-link active':'nav-link'" uiSrefActive="active" uiSref="work" data-toggle="tab" title="work">
                    <span class="round-tabs two">
                        <i class="icon-people"></i>
                </span>
                </a>
            </li>

            <li class="flex-fill" *ngIf="FormInitSolicitud.value.warranty !=1 && FormInitSolicitud.value.warranty !=2">
                <a [ngClass]="(pageName==='step4')?'nav-link active':'nav-link'" uiSrefActive="active" uiSref="work" data-toggle="tab" title="work">
                    <span class="round-tabs two">
                    <i class="icon-notebook"></i>
                </span>
                </a>
            </li>

        </ul>
        <div [ngSwitch]="pageName">
            <div *ngSwitchCase="'step1'">
                <form [formGroup]="FormInitSolicitud" (ngSubmit)="siguiente()">
                    <div class="card-block pl-4 pr-4">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>Configuracion inicial de la solicitud</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-12">


                                <div class="form-group row mt-4">
                                    <label for="type" class="col-sm-12">Tipo de solicitud</label>
                                    <div class="input-group col-md-12">
                                        <div class="input-group-prepend"><label for="inputGroupSelect01" class="input-group-text"><i
                                                    class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="custom-select col-sm-12" id="type" formControlName="type">
                                            <option value="" selected >Seleccionar</option>
                                            <option *ngFor="let order of optionsTypeRequest; let i = index" [value]="order.type_id">
                                                {{order.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!FormInitSolicitud.get('type').valid && (FormInitSolicitud.get('type').dirty || FormInitSolicitud.get('type').touched)">El
                                        El tipo de solicitud es requerido.</small>
                                </div>


                                <div class="form-group row mt-4">
                                    <label for="warranty" class="col-sm-12">Tipo de Garantía</label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="warranty" class="input-group-text"><i
                                                    class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="warranty">
                                            <option value="" selected >Seleccionar</option>
                                            <option *ngFor="let order of optionsWaranty; let i = index" [value]="order.warranty_type_id">
                                                {{order.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!FormInitSolicitud.get('warranty').valid && (FormInitSolicitud.get('warranty').dirty || FormInitSolicitud.get('warranty').touched)">El
                                        El tipo de solicitud es requerido.</small>
                                </div>
                                <div class="form-group row mt-4">
                                    <label for="location" class="col-sm-12">Cobertura</label>
                                    <div class="input-group col-sm-12">
                                        <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="localtion" class="input-group-text"><i
                                                    class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="custom-select col-sm-12" id="inputLocation" formControlName="location">
                                            <option value="" selected >Seleccionar</option>
                                            <option [value]="territorial.id_territorial_coverage"*ngFor="let territorial of this.territorialCoverage;" >{{this.territorial.territorial_coverage_name}}</option>
                                        
                                        </select>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!FormInitSolicitud.get('location').valid && (FormInitSolicitud.get('location').dirty || FormInitSolicitud.get('location').touched)">El
                                        El tipo de Cobertura esrequerido.</small>
                                </div>
                                <div class="form-group row mt-4">
                                    <label for="time_in_months" class="col-sm-12">Plazo en meses</label>
                                    <div class="input-group col-sm-12">
                                        <input type="number" class="form-control" formControlName="time_in_months" required>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!FormInitSolicitud.get('time_in_months').valid && (FormInitSolicitud.get('time_in_months').dirty || FormInitSolicitud.get('time_in_months').touched)">El
                                        El campo es requerido.</small>
                                </div>
                                <div class="form-group row mt-4">
                                    <label for="destination" class="col-sm-12">Destino:</label>
                                    <div class="input-group col-sm-12">
                                        <input type="text" class="form-control" formControlName="destination" required>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!FormInitSolicitud.get('destination').valid && (FormInitSolicitud.get('destination').dirty || FormInitSolicitud.get('destination').touched)">El
                                        El campo es requerido.</small>
                                </div>


                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <small class="form-text text-danger" *ngIf="!isEmailUnique && isEmailInputFocus">El correo ya esta registrado</small>
                            <div class="form-group m-b-0 text-right">
                                <button type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary" (click)="closeRequestBtnClick()">Cancelar</button>
                                <button type="submit" class="btn btn-raised mr-1 text-white btn-color-solucredit" [disabled]="!FormInitSolicitud.valid">Siguiente</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div *ngSwitchCase="'step2'">
                <form [formGroup]="FormInitSolicitudStep2" (ngSubmit)="siguiente()" *ngIf="FormInitSolicitud.value.warranty !=1 && FormInitSolicitud.value.warranty !=2">
                    <div class="card-block pl-4 pr-4">
                        <div class="row mb-4">
                            <div class="col-md-12">
                                <h3>Configuracion inicial de la solicitud</h3>
                            </div>
                        </div>
                        <div class="row" *ngIf="FormInitSolicitud.value.warranty == 0">
                            <div class="col-sm-12 col-lg-12">
                                <div class="row form-group ">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="siiva" name="doc_type" value="0" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==1">
                                            <input type="radio" id="siiva" name="doc_type" value="5" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==0">
                                            <label class="custom-control-label custom-label" for="siiva">Pagaré</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="noiva" name="doc_type" value="1" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==1">
                                            <input type="radio" id="noiva" name="doc_type" value="6" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==0">
                                            <label class="custom-control-label custom-label" for="noiva">Cupo revolvente</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group m-b-0 text-right">
                                    <button (click)="atras()" type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary">Atras</button>
                                    <button type="submit" class="btn btn-raised mr-1 text-white btn-color-solucredit" [disabled]="!FormInitSolicitudStep2.valid">Siguiente</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <form [formGroup]="FormInitSolicitudStep2" (ngSubmit)="createSolicitud()" *ngIf="FormInitSolicitud.value.warranty ==1 || FormInitSolicitud.value.warranty ==2">
                    <div class="card-block pl-4 pr-4">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>Configuracion inicial de la solicitud</h3>
                            </div>
                        </div>


                        <div class="row" *ngIf="FormInitSolicitud.value.warranty == 1">
                            <div class="col-sm-12 col-lg-12">
                                <div class="row form-group ">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="siiva" name="doc_type" value="2" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==1">
                                            <input type="radio" id="siiva" name="doc_type" value="7" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==0">
                                            <label class="custom-control-label custom-label" for="siiva">Escritura</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" *ngIf="FormInitSolicitud.value.warranty == 2">
                            <div class="col-sm-12 col-lg-12">
                                <div class="row form-group ">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="siiva" name="doc_type" value="3" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==1">
                                            <input type="radio" id="siiva" name="doc_type" value="8" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==0">
                                            <label class="custom-control-label custom-label" for="siiva">Pagaré</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" id="noiva" name="doc_type" value="4" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==1">
                                            <input type="radio" id="noiva" name="doc_type" value="9" class="custom-control-input" formControlName="doc_type" *ngIf="dataCustomer && dataCustomer.type==0">
                                            <label class="custom-control-label custom-label" for="noiva">Crédito / Contrato</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group m-b-0 text-right">
                                    <button (click)="atras()" type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary">Atras</button>
                                    <button type="submit" class="btn btn-raised mr-1 text-white btn-color-solucredit" [disabled]="!FormInitSolicitudStep2.valid">Crear Solicitud</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div *ngSwitchCase="'step3'">
                <div class="card-block pl-4 pr-4">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Socios y Representantes</h3>
                        </div>
                    </div>
                    <!-- <form [formGroup]="FormInitMembers" (ngSubmit)="addMember()">
                        <div class="row mt-4">
                            <div class="col-lg-4 col-md-4 col-sm-12">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-address-card"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" formControlName="name" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">NIT<code style="font-size: 16px;"><sup>*</sup></code></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-address-card"></i>
                                            </span>
                                        </div>
                                        <input type="text" class="form-control" formControlName="NIT" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-12">
                                <div class="form-group row">
                                    <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-address-card"></i>
                                            </span>
                                        </div>
                                        <input type="number" class="form-control" formControlName="phone" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <div class="form-group">
                                    <label for="addBtn" class="col-sm-12">&nbsp;</label>
                                    <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormInitMembers.valid"> <i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </form> -->

                    <div class="row mt-2">
                        <div class="col-sm-12 col-lg-12">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Tipo</th>
                                            <th scope="col">NIT</th>
                                            <th scope="col">Teléfono</th>
                                            <!-- <th scope="col">Acciones</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let member of InitMembers;let i = index">
                                            <td>
                                                {{member.name}} 
                                            </td>
                                            <td>
                                                Socio
                                            </td>
                                            <td>
                                                {{member.nit}}
                                            </td>
                                            <td>
                                                {{member.phone}}
                                            </td>
                                            <!-- <td>
                                                <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, 'step3', i)"><i class="fas fa-pencil-alt"></i></button>
                                                <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteMember(i,'step3' )"><i class="fas fa-trash-alt"></i></button>
                                            </td> -->
                                        </tr>
                                        <tr *ngFor="let member of InitRepresentative;let i = index">
                                            <td>
                                                {{member.name}}
                                            </td>
                                            <td>
                                                Representante
                                            </td>

                                            <td>
                                                {{member.nit}}
                                            </td>
                                            <td>
                                                {{member.phone}}
                                            </td>
                                            <!-- <td>
                                                <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, 'step3', i)"><i class="fas fa-pencil-alt"></i></button>
                                                <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteMember(i,'step3' )"><i class="fas fa-trash-alt"></i></button>
                                            </td> -->
                                        </tr>
                                        <tr *ngIf="InitMembers.length == 0 && InitRepresentative.length==0">
                                            <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group m-b-0 text-right">
                                <button (click)="atras()" type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary">Atras</button>
                                <!-- [disabled]="InitMembers.length <=0" -->
                                <button (click)="siguiente()" type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit"> Siguiente</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div *ngSwitchCase="'step4'">
                <div class="card-block pl-4 pr-4">
                    <form [formGroup]="FormAval" (ngSubmit)="openModalAval(createAval)">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>Avales</h3>
                            </div>
                        </div>

                        <!-- <div class="row mt-4">
                            <div class="col-lg-6 col-md-6 col-sm-12">
                                <div class="form-group row ">
                                    <label for="inputTipoSolicitud" class="col-sm-12">Tipo de Aval</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend"><label for="inputGroupSelect01" class="input-group-text"><i
                                                    class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="FormInitSolicitudStep2.value.doc_type ==0 && dataCustomer && dataCustomer.type==1">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval1_4; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="FormInitSolicitudStep2.value.doc_type ==5 && dataCustomer && dataCustomer.type==0">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval13_15; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="FormInitSolicitudStep2.value.doc_type ==1 && dataCustomer && dataCustomer.type==1">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval5_8; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="FormInitSolicitudStep2.value.doc_type ==6 && dataCustomer && dataCustomer.type==0">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval17_19; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createRequest.get('inputTipoSolicitud').valid && (createRequest.get('inputTipoSolicitud').dirty || createRequest.get('inputTipoSolicitud').touched)">El
                                        El tipo de solicitud es requerido.</small>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <div class="form-group">
                                    <label for="addBtn" class="col-sm-12">&nbsp;</label>
                                    <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormAval.valid"> <i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>

                        </div> -->
                    </form>

                    <div class="row mt-2 mb-2">
                        <div class="col-sm-12 col-lg-12">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                #
                                            </th>
                                            <th scope="col">Tipo de Aval</th>
                                            <th scope="col">Nombre</th>
                                            <!-- <th scope="col">Acciones</th> -->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let aval of Avals;let i = index">
                                            <td>
                                                {{i+1}}
                                            </td>
                                            <td>
                                                {{ (aval.type ==2 || aval.type ==6 || aval.type ==13 || aval.type ==17? 'Aval Jurídico' : aval.type == 3 ||aval.type == 7 ||aval.type == 14 ||aval.type == 18? 'Empresa Individual' : aval.type == 4 ||aval.type == 8 ||aval.type == 15 ||aval.type == 19?
                                                'Personal':'') | uppercase }}
                                            </td>
                                            <td>
                                                {{aval.subjects_aval.name}} 
                                            </td>
                                            <!-- <td>
                                                <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalAvalEdit(editarAval, aval, i)"><i class="fas fa-pencil-alt"></i></button>
                                                <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteInitAval(i,'step4' )"><i class="fas fa-trash-alt"></i></button>
                                            </td> -->
                                        </tr>
                                        <tr *ngIf="Avals.length == 0">
                                            <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                        </tr>



                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group m-b-0 text-right">
                                <button (click)="atras()" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary">Atras</button>
                                <button type="button" (click)="createSolicitud(spnrequest)" class="btn btn-raised mr-1 text-white  btn-color-solucredit">Crear solicitud</button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>
</ng-template>


<ng-template #createAval let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Crear un aval</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body pl-4 pr-4">



        <form [formGroup]="FormAvalSubject">
            <div class="row">
                <div class="col-md-12">
                    <h3 *ngIf="FormAval.value.aval_type == 2 || FormAval.value.aval_type == 6 || FormAval.value.aval_type == 13 || FormAval.value.aval_type == 17">Ingresar Aval Jurídico</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 3 || FormAval.value.aval_type == 7 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">Ingresar Aval Empresa Individual</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 4 || FormAval.value.aval_type == 8 || FormAval.value.aval_type == 15 || FormAval.value.aval_type == 19">Persona Individual</h3>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12" *ngIf="FormAval.value.aval_type == 4 || FormAval.value.aval_type == 8 || FormAval.value.aval_type == 15 || FormAval.value.aval_type == 19">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <label for="name" class="col-sm-12" *ngIf="FormAval.value.aval_type == 2 || FormAval.value.aval_type == 3 || FormAval.value.aval_type == 6|| FormAval.value.aval_type == 7 || FormAval.value.aval_type == 13 || FormAval.value.aval_type == 17 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">Nombre Comercial<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" formControlName="name" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="FormAvalSubject.get('NIT')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                    <!-- <div class="form-group row">
                        <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                        </div>
                    </div> -->
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="number" class="form-control" formControlName="phone" required>
                        </div>
                    </div>
                </div>
            </div>
        </form>


        <div class="mt-4" *ngIf="FormAval.value.aval_type == 3 || FormAval.value.aval_type == 7 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">
            <hr>
            <form [formGroup]="FormAvalPersonaIndividual">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Propietario de la empresa</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>


        <div class="mt-4" *ngIf="FormAval.value.aval_type != 3 && FormAval.value.aval_type != 7 && FormAval.value.aval_type != 8 && FormAval.value.aval_type != 4 && FormAval.value.aval_type != 14 && FormAval.value.aval_type != 15 && FormAval.value.aval_type != 18 && FormAval.value.aval_type != 19">
            <hr>
            <h3 class="text-left mb-2">Representantes legales del cliente jurídico</h3>

            <form [formGroup]="FormJuridicoRepresentatives" (ngSubmit)="addRepresentativeAval()">

                <div class="row mt-4">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoRepresentatives.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalRepresentatives;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>
                                    <td>
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalRepresentative(editarRepresentante, member, 'editar aval', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteRepresentatives(i,'aval' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>

                                <tr *ngIf="AvalRepresentatives.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>



        <div class="mt-4" *ngIf="FormAval.value.aval_type != 3 && FormAval.value.aval_type != 7 && FormAval.value.aval_type != 8 && FormAval.value.aval_type != 4 && FormAval.value.aval_type != 14 && FormAval.value.aval_type != 15 && FormAval.value.aval_type != 18 && FormAval.value.aval_type != 19">
            <hr>
            <h3 class="text-left"> Socios del aval jurídico </h3>
            <form [formGroup]="FormJuridicoMembers" (ngSubmit)="addMemberAval()">
                <div class="row mt-4">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">

                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoMembers.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>
            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalMembers;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>
                                    <td>
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, 'editar aval', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteMember(i,'aval' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalMembers.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group m-b-0 text-right">
                    <div class="form-group text-right">
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" id="crearAval" (click)="modal.dismiss('cerrar')">cancelar</button>
                        <button type="button" id="addBtn" class="btn custom_btn1 btn-raised mr-1 text-white" (click)="crearAval()">Crear aval</button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</ng-template>



<ng-template #editarAval let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Editar aval</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body pl-4 pr-4">


        <form [formGroup]="FormAvalSubject">
            <div class="row">
                <div class="col-md-12">
                    <h3 *ngIf="FormAval.value.aval_type == 2 || FormAval.value.aval_type == 6 || FormAval.value.aval_type == 13 || FormAval.value.aval_type == 17">Ingresar Aval Jurídico</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 3 || FormAval.value.aval_type == 7 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">Ingresar Aval Empresa Individual</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 4 || FormAval.value.aval_type == 8 || FormAval.value.aval_type == 15 || FormAval.value.aval_type == 19">Persona Individual</h3>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" formControlName="name" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="number" class="form-control" formControlName="phone" required>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="modeAfterUpdate == true">
                <div class="col-md-3">
                    <button type="button" id="addBtn" class="btn btn-raised mr-1 text-white" style="background: #2061c4; border-color: #2061c4;" (click)="updateSubjectAfter()">Actualizar aval</button>
                </div>
            </div>
        </form>


        <div class="mt-4" *ngIf="FormAvalActual.value.type == 3 || FormAvalActual.value.type == 7 || FormAvalActual.value.type == 14 || FormAvalActual.value.type == 18">
            <hr>
            <form [formGroup]="FormAvalPersonaIndividual">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Propietario de la empresa</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="modeAfterUpdate == true">
                    <div class="col-md-3">
                        <button type="button" id="addBtn" class="btn btn-raised mr-1 text-white" style="background: #2061c4; border-color: #2061c4;" (click)="updateSubjecSingletAfter()">Actualizar aval</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="mt-4" *ngIf="FormAvalActual.value.type != 3 && FormAvalActual.value.type != 7  && FormAvalActual.value.type != 8 && FormAvalActual.value.type != 4 && FormAvalActual.value.type != 14 && FormAvalActual.value.type != 15 && FormAvalActual.value.type != 18 && FormAvalActual.value.type != 19">
            <hr>
            <form [formGroup]="FormJuridicoRepresentatives" (ngSubmit)="addRepresentativeActualAval()">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Representante Legal del cliente jurídico</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoRepresentatives.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalActualRepresentatives;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>

                                    <td *ngIf="modeAfterUpdate == true">
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteSubject(member.rsdet_id)"><i class="fas fa-trash-alt"></i></button>
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalRepresentative(editarRepresentante, member, '', i)"><i class="fas fa-pencil-alt"></i></button>
                                    </td>
                                    <td *ngIf="modeAfterUpdate == false">
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalRepresentative(editarRepresentante, member, 'editar aval - after', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteRepresentatives(i,'aval-edit' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalActualRepresentatives.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-4" *ngIf="FormAvalActual.value.type != 3 && FormAvalActual.value.type != 7  && FormAvalActual.value.type != 8 && FormAvalActual.value.type != 4 && FormAvalActual.value.type != 14 && FormAvalActual.value.type != 15 && FormAvalActual.value.type != 18 && FormAvalActual.value.type != 19">
            <hr>
            <form [formGroup]="FormJuridicoMembers" (ngSubmit)="addMemberActualAval()">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Socios del aval jurídico</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoMembers.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalActualMembers;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>
                                    <td *ngIf="modeAfterUpdate == true">
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, '', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteSubject(member.rsdet_id)"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                    <td *ngIf="modeAfterUpdate == false">
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, 'editar aval - after', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteMember(i,'aval-edit' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalActualMembers.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>


        <hr>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group m-b-0 text-right">
                    <div class="form-group text-right">
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="modal.dismiss('cerrar')" id="updateAvalClose">Cerrar</button>
                        <button type="button" id="addBtn" class="btn btn-raised mr-1 text-white" style="background: #2061c4; border-color: #2061c4;" (click)="updateAval()" *ngIf="modeAfterUpdate==false">Actualizar aval</button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</ng-template>



<ng-template #createNewAval let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Crear un aval</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body pl-4 pr-4 ">


        <form [formGroup]="FormAvalSubject">
            <div class="row">
                <div class="col-md-12">
                    <h3 *ngIf="FormAval.value.aval_type == 2 || FormAval.value.aval_type == 6 || FormAval.value.aval_type == 13 || FormAval.value.aval_type == 17">Ingresar Aval Jurídico</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 3 || FormAval.value.aval_type == 7 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">Ingresar Aval Empresa Individual</h3>
                    <h3 *ngIf="FormAval.value.aval_type == 4 || FormAval.value.aval_type == 8 || FormAval.value.aval_type == 15 || FormAval.value.aval_type == 19">Persona Individual</h3>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12" *ngIf="FormAval.value.aval_type == 4 || FormAval.value.aval_type == 8 || FormAval.value.aval_type == 15 || FormAval.value.aval_type == 19">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <label for="name" class="col-sm-12" *ngIf="FormAval.value.aval_type == 2 || FormAval.value.aval_type == 3 || FormAval.value.aval_type == 6|| FormAval.value.aval_type == 7 || FormAval.value.aval_type == 13 || FormAval.value.aval_type == 17 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">Nombre Comercial<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" class="form-control" formControlName="name" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                        <i class="fas fa-address-card"></i>
                                    </span>
                            </div>
                            <input type="number" class="form-control" formControlName="phone" required>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        <div *ngIf="FormAval.value.aval_type == 3 || FormAval.value.aval_type == 7 || FormAval.value.aval_type == 14 || FormAval.value.aval_type == 18">
            <hr>
            <form [formGroup]="FormAvalPersonaIndividual">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Propietario de la empresa</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div *ngIf="FormAval.value.aval_type != 3 && FormAval.value.aval_type != 7 && FormAval.value.aval_type != 8 && FormAval.value.aval_type != 4 && FormAval.value.aval_type != 14 && FormAval.value.aval_type != 15 && FormAval.value.aval_type != 18 && FormAval.value.aval_type != 19">
            <hr>
            <form [formGroup]="FormJuridicoRepresentatives" (ngSubmit)="addRepresentativeAval()">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Representantes legales del cliente jurídico</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoRepresentatives.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalRepresentatives;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>
                                    <td>
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalRepresentative(editarRepresentante, member, 'editar aval', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteRepresentatives(i,'aval' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalRepresentatives.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="FormAval.value.aval_type != 3 && FormAval.value.aval_type != 7 && FormAval.value.aval_type != 8 && FormAval.value.aval_type != 4 && FormAval.value.aval_type != 14 && FormAval.value.aval_type != 15 && FormAval.value.aval_type != 18 && FormAval.value.aval_type != 19">
            <hr>

            <form [formGroup]="FormJuridicoMembers" (ngSubmit)="addMemberAval()">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Socios del aval jurídico</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormJuridicoMembers.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of AvalMembers;let i = index">
                                    <td>
                                        {{member.name}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>
                                    <td>
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalSocio(editarSocio, member, 'editar aval', i)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteMember(i,'aval' )"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalMembers.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>

        <hr>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group m-b-0 text-right">
                    <div class="form-group text-right">
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" id="closeButtonNewAval" (click)="modal.dismiss('cerrar')">cancelar</button>
                        <button type="button" id="addBtn" class="btn custom_btn1 btn-raised mr-1 text-white" (click)="addNewAval()">Crear aval</button>
                    </div>

                </div>
            </div>
        </div>

    </div>
</ng-template>



<ng-template #editarRepresentante let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Editar socio</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ActualRepresentative" (ngSubmit)="updateRepresentatives()">
            <div class="row mt-4">
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" formControlName="name" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="number" class="form-control" formControlName="phone" required>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group text-right">
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" id="updateRepresentativeClose" (click)="modal.dismiss('cerrar')">Regresar</button>
                        <button type="submit" id="addBtn" class="btn custom_btn1 btn-raised mr-1 text-white " [disabled]="!ActualRepresentative.valid">Guardar</button>
                    </div>
                </div>
            </div>
        </form>

    </div>
</ng-template>

<ng-template #editarSocio let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Editar socio</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form [formGroup]="ActualMember" (ngSubmit)="updateMember()">
            <div class="row mt-4">
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="text" class="form-control" formControlName="name" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                    <div class="form-group row">
                        <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                        <div class="input-group col-sm-12">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon1">
                                    <i class="fas fa-address-card"></i>
                                </span>
                            </div>
                            <input type="number" class="form-control" formControlName="phone" required>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group text-right">
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" id="updateMemberClose" (click)="modal.dismiss('cerrar')">Regresar</button>
                        <button type="submit" id="addBtn" class="btn custom_btn1 btn-raised mr-1 text-white " [disabled]="!ActualMember.valid">Guardar</button>
                    </div>
                </div>
            </div>
        </form>

    </div>
</ng-template>







<ng-template #confirmationModal let-modal>
    <div class="modal-header">

        <h5 class="modal-title" id="editUserLabel">Confirmacion</h5>

        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>

    </div>
    <div class="modal-body">
        <div class="div-confirmation">
            <h5>¿Esta seguro que desea enviar el correo?</h5>
        </div>

        <div class="card-body div-con-flex-col div-confirmation">
            <form [formGroup]="cambiarEstadoRelacion" class="form-horizontal" (ngSubmit)="sendCustomerEmail()">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="description" class="col-sm-12">Descripción</label>
                                <div class="input-group col-sm-12">
                                    <textarea class="form-control" style="width: 100%;" id="description" formControlName="description"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!cambiarEstadoRelacion.get('description').valid && (cambiarEstadoRelacion.get('description').dirty || cambiarEstadoRelacion.get('description').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!cambiarEstadoRelacion.valid">Enviar formulario(s)</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
            <!-- <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit" (click)="sendCustomerEmail()">Enviar</button>
            <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button> -->
        </div>
    </div>
</ng-template>

<app-documentmodal
    [imgsrcbase64]="imgsrcbase64"
    [pdfsrcbase64]="pdfsrcbase64"
></app-documentmodal>


<ng-template #visitainicial let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Visita Inicial</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <!-- <div class="container-logo text-center">
            <img src="../../../assets/images/logo-textsol.png" alt="logo">
        </div> -->
        <form class="form-horizontal" [formGroup]="Formvisitainicial" (ngSubmit)="SaveVisitData()">
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-12 col-lg-6">
                        <div class="form-group row">
                            <label for="date_of_visit" class="col-sm-12">Fecha de Visita</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-calendar-alt"></i>
                                    </span>
                                </div>
                                <input type="date" class="form-control" id="date_of_visit" formControlName="date_of_visit" required placeholder="dd/mm/yyy" [(ngModel)]="visitDetails.date_of_visit">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!Formvisitainicial.get('date_of_visit').valid && (Formvisitainicial.get('date_of_visit').dirty || Formvisitainicial.get('date_of_visit').touched)">La
                                fecha es requerida.</small>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-6">
                        <div class="form-group row">
                            <label for="business_address" class="col-sm-12">Dirección de la empresa visitada</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-address-card"></i>
                                    </span>
                                </div>
                                <input type="text" class="form-control" id="business_address" formControlName="business_address" required placeholder="ej: 8va calle 32 -76 ...." [(ngModel)]="visitDetails.business_address">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!Formvisitainicial.get('business_address').valid && (Formvisitainicial.get('business_address').dirty || Formvisitainicial.get('business_address').touched)">La
                                                    dirección es requerida.</small>
                        </div>
                    </div>
                    <ng-container formArrayName="participants">
                        <div *ngFor="let _ of participants.controls; index as i">
                            <ng-container [formGroupName]="i">
                                <div class="row form-group">
                                    <div class="col-sm-12 col-lg-6">
                                        <div class="form-group row">
                                            <label for="name" class="col-sm-12">Nombre del participante</label>
                                            <div class="input-group col-sm-12">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                        <i class="far fa-id-card"></i>
                                                    </span>
                                                </div>
                                                <input type="text" class="form-control" formControlName="name" required placeholder="ej. Juan Rodriguez">
                                            </div>
                                            <!-- <small class="form-text text-danger col-sm-12"
                                                *ngIf="!Formvisitainicial.controls[0].get('position').valid && (Formvisitainicial.controls[0].get('position').dirty || Formvisitainicial.controls[0].get('position').touched)">La
                                                dirección es requerida.</small> -->
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-lg-6">
                                        <div class="form-group row">
                                            <label for="position" class="col-sm-12">Nombre del puesto</label>
                                            <div class="input-group col-sm-12">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text" id="basic-addon1">
                                                        <i class="far fa-id-card"></i>
                                                    </span>
                                                </div>
                                                <input type="text" class="form-control" formControlName="position" required placeholder="ej: Gerente">
                                            </div>
                                            <!-- <small class="form-text text-danger col-sm-12"
                                                *ngIf="!Formvisitainicial.controls[1].get('position').valid && (Formvisitainicial.controls[1].get('position').dirty || Formvisitainicial.controls[1].get('position').touched)">La
                                                dirección es requerida.</small> -->
                                        </div>
                                    </div>
                                    <div class="col-lg-1 align-self-end" *ngIf="i!=0">
                                        <button (click)="DeleteParticipant(i)" class="btn btn-danger btn-raised mr-1"> <i
                                                class="far fa-window-close"></i> </button>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                    <div class="row" style="width: 100%;">
                        <div class="col-sm-12 col-lg-12 text-right">
                            <button type="button" (click)="AddParticipant()" class="btn btn-success btn-raised mr-1">Agregar otra participante</button>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-12" style="margin-bottom: 75px;">
                        <div class="form-group row">
                            <label for="background" class="col-sm-12">Antecedentes</label>
                            <div class="input-group col-sm-12">
                                <quill-editor [style]="{height: '200px'}" style="width: 100%;" id="background" formControlName="background" [(ngModel)]="visitDetails.background"></quill-editor>
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!Formvisitainicial.get('background').valid && (Formvisitainicial.get('background').dirty || Formvisitainicial.get('background').touched)">La
                                                                        información es requerida.</small>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-6">
                        <label for="typeubicacion" class="col-sm-12">Seleccionar tipo de ubicacion</label>
                        <div class="form-group row">
                            <div class="input-group col-sm-12">
                                <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="inputGroupSelect01" class="input-group-text"><i class="far fa-building"></i></label></div>
                                <select formControlName="typeubicacion" name="typeubicacion" [(ngModel)]="seleccionType" class="custom-select col-sm-12" id="typeubicacion">
                                    <option value="" selected disabled>Selecionar...</option>
                                    <option value="0">Fachada</option>
                                    <option value="1">Recepcion</option>
                                    <option value="2">Interior</option>
                                </select>
                            </div>
                            <!-- <small class="form-text text-danger col-sm-12"
                                *ngIf="!Formvisitainicial.get('type').valid && (Formvisitainicial.get('type').dirty || Formvisitainicial.get('type').touched)">Seleccione
                                un tipo de negocio valido.</small> -->
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-6" style="position: relative;">
                        <ngx-spinner name="csfilrvisitas" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#759ee0" type="ball-atom" [fullScreen]="false">
                            <p style="color: white">Subiendo Documento ... </p>
                        </ngx-spinner>
                        <div class="form-group row">
                            <label for="fileVisita" class="col-sm-12">Seleccionar Archivo</label>
                            <div class="input-group col-sm-12">
                                <input [disabled]="!seleccionType" type="file" class="" id="fileVisita" (change)="showPreviewImage($event,'verificaciones','visitasinicial','csfilrvisitas')">
                            </div>
                            <!-- <small class="form-text text-danger col-sm-12"
                                *ngIf="!Formvisitainicial.get('business_address').valid && (Formvisitainicial.get('business_address').dirty || Formvisitainicial.get('business_address').touched)">La
                                dirección es requerida.</small> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="card-body div-con-flex-col div-confirmation">
                    <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!Formvisitainicial.valid">Guardar información</button>
                    <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>



<ng-template #crearsolicitud let-modal>
    <div class="modal-header">

        <h5 class="modal-title" id="editUserLabel">Crear una nueva solicitud</h5>

        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="createRequest" class="form-horizontal" (ngSubmit)="CreateRequest()">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="inputTipoSolicitud" class="col-sm-12">Tipo de solicitud</label>
                                <div class="input-group col-sm-12">
                                    <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="inputGroupSelect01" class="input-group-text"><i
                                                class="far fa-id-card"></i></label>
                                    </div>
                                    <select class="custom-select col-sm-12" id="inputTipoSolicitud" formControlName="inputTipoSolicitud">
                                        <option value="" selected disabled>Seleccionar...</option>
                                        <option *ngFor="let order of optionsTypeRequest; let i = index" [value]="order.type_id">
                                            {{order.name}}
                                        </option>
                                    </select>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!createRequest.get('inputTipoSolicitud').valid && (createRequest.get('inputTipoSolicitud').dirty || createRequest.get('inputTipoSolicitud').touched)">El
                                    El tipo de solicitud es requerido.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!createRequest.valid">Crear Solicitud</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>




<ng-template #iniciarrelacionrenvio let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Inicio de Relación</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" [formGroup]="formrelacion" (ngSubmit)="SaveInitialRelationResend(1)">
            <div class="card-body pt-0 pb-0">
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                            <label for="date_of_visit" class="col-sm-12">Fecha</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-calendar-alt"></i>
                                    </span>
                                </div>
                                <input type="date" class="form-control" id="date_of_visit" formControlName="date_of_visit" required placeholder="dd/mm/yyy">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('date_of_visit').valid && (formrelacion.get('date_of_visit').dirty || formrelacion.get('date_of_visit').touched)">La
                                dirección es requerida.</small>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                            <label for="email" class="col-sm-12">Correo Electrónico</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-address-card"></i>
                                    </span>
                                </div>
                                <input type="email" class="form-control" id="email" formControlName="email" required placeholder="ej: uno@email.com">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('email').valid && (formrelacion.get('email').dirty || formrelacion.get('email').touched)">El correo electrónico es requerido.</small>
                        </div>
                    </div>
                </div>
                <div *ngIf="dataCustomer && dataCustomer.type === 1">
                    <div class="row" *ngIf="dataPersons && dataPersons.length > 0">
                        <div class="col-sm-12 col-lg-12">
                            <h4>Representantes legales</h4>
                        </div>
                    </div>
                    <div class="row" *ngFor="let personinitalr of dataPersons">
                        <div class="col-sm-12 col-lg-6">
                            <div class="form-group row">
                                <label for="first_name" class="col-sm-12">Nombre</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input disabled type="text" class="form-control" aria-label="Username" [value]="personinitalr.first_name">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <div class="form-group row">
                                <label for="last_name" class="col-sm-12">Correo Electrónico</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input disabled type="email" class="form-control" aria-label="Username" [value]="personinitalr.email">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="description">Descripción</label>
                                <div class="input-group">
                                    <textarea class="form-control" style="width: 100%;" id="description" formControlName="description"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('description').valid && (formrelacion.get('description').dirty || formrelacion.get('description').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-12" style="margin-bottom: 75px;">
                        <div class="form-group row">
                            <label for="message" class="col-sm-12">Mensaje</label>
                            <div class="input-group col-sm-12">
                                <quill-editor [style]="{height: '200px'}" style="width: 100%;" id="message" formControlName="message"></quill-editor>
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('message').valid && (formrelacion.get('message').dirty || formrelacion.get('message').touched)">El mensaje es requerido.</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="card-body div-con-flex-col div-confirmation">
                    <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!formrelacion.valid">Enviar</button>
                    <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Regresar</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>

<ng-template #iniciarrelacion let-modal>
    <div class="modal-header">
        <h3 class="modal-title" id="editUserLabel">Inicio de Relación</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
        <form class="form-horizontal" [formGroup]="formrelacion" (ngSubmit)="SaveInitialRelation(1)">
            <div class="card-body pt-0 pb-0">
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                            <label for="date_of_visit" class="col-sm-12">Fecha</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-calendar-alt"></i>
                                    </span>
                                </div>
                                <input type="date" class="form-control" id="date_of_visit" formControlName="date_of_visit" required placeholder="dd/mm/yyy">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('date_of_visit').valid && (formrelacion.get('date_of_visit').dirty || formrelacion.get('date_of_visit').touched)">La
                                dirección es requerida.</small>
                        </div>
                    </div>
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                            <label for="email" class="col-sm-12">Correo Electrónico</label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <i class=" far fa-address-card"></i>
                                    </span>
                                </div>
                                <input type="email" class="form-control" id="email" formControlName="email" required placeholder="ej: uno@email.com">
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('email').valid && (formrelacion.get('email').dirty || formrelacion.get('email').touched)">El correo electrónico es requerido.</small>
                        </div>
                    </div>
                </div>
                <div *ngIf="dataCustomer && dataCustomer.type === 1">
                    <div class="row" *ngIf="dataPersons && dataPersons.length > 0">
                        <div class="col-sm-12 col-lg-12">
                            <h4>Representantes Legales</h4>
                        </div>
                    </div>
                    <div class="row" *ngFor="let personinitalr of dataPersons">
                        <div class="col-sm-12 col-lg-6">
                            <div class="form-group row">
                                <label for="first_name" class="col-sm-12">Nombre</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input disabled type="text" class="form-control" aria-label="Username" [value]="personinitalr.first_name">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            <div class="form-group row">
                                <label for="last_name" class="col-sm-12">Correo Electrónico</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input disabled type="email" class="form-control" aria-label="Username" [value]="personinitalr.email">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-lg-12" style="margin-bottom: 75px;">
                        <div class="form-group row">
                            <label for="message" class="col-sm-12">Mensaje</label>
                            <div class="input-group col-sm-12">
                                <quill-editor [style]="{height: '200px'}" style="width: 100%;" id="message" formControlName="message"></quill-editor>
                            </div>
                            <small class="form-text text-danger col-sm-12" *ngIf="!formrelacion.get('message').valid && (formrelacion.get('message').dirty || formrelacion.get('message').touched)">El mensaje es requerido.</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="card-body div-con-flex-col div-confirmation">
                    <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!formrelacion.valid">Enviar</button>
                    <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Regresar</button>
                </div>
            </div>
        </form>
    </div>
</ng-template>


<ng-template #iniciarrelacionsinrepresentates let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Inicio de relación</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
        <h3 class="text-center">No tiene representantes registrados, es necesario registrar por lo menos un representante para poder iniciar la relación.</h3>
        <div class="card-body">
            <div class="card-body div-con-flex-col div-confirmation">
                <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" (click)="addnewPerson()">Registrar un representante</button>
                <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Regresar</button>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #estadorelacion let-modal>
    <div class="modal-header">
        <h3 class="modal-title" id="editUserLabel">Bitácora de flujo de trabajo</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="table-responsive" style="background-color: #fff !important;">
            <table class="table table-hover mb-0 no-wrap v-middle customtp" cellspacing="0" cellpadding="0">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Estado</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Área responsable</th>
                        <th scope="col">Fecha de transición</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-hover" *ngFor="let singlerelation of loginitialRelation">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Completo </h5></a>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.message">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.description">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.employee_email">
                            </ngb-highlight>
                        </td>
                        <td>
                            {{singlerelation.date | date: 'dd/MM/yyyy HH:mm a'}}
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 0">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Creación de prospecto </td>
                        <td></td>
                        <td>supervizor.solucredit@gmail.com</td>
                        <td></td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 1">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Inicio de relación</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 2">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validación datos prospecto</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 3">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validación de datos rechazada</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 4">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validación de datos aceptada</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <!-- <tr class="table-hover table-info" [hidden]="initialRelation && initialRelation.status >= 5">
                        <td>Verificación datos prospecto</td>
                        <td>pendiente</td>
                        <td>sin asignar</td>
                    </tr> -->
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer mt-2">
        <button class="btn btn-outline-secondary" (click)="closeBtnClick()">cerrar</button>
    </div>
</ng-template>

<ng-template #estadosolicitud let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Proceso de la solicitud</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="table-responsive" style="background-color: #fff !important;">
            <table class="table table-hover mb-0 no-wrap v-middle customtp">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Estado</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Área responsable</th>
                        <th scope="col">Fecha de transición</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-hover" *ngFor="let logrequest of logdataRequest">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-success badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-check"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Completo </h5></a>
                        </td>
                        <td>
                            <ngb-highlight [result]="logrequest.message">
                            </ngb-highlight>
                        </td>
                        <td style="max-width: 220px; white-space: pre-wrap;">
                            {{logrequest.description}}
                        </td>
                        <td>
                            <ngb-highlight [result]="logrequest.employee_email">
                            </ngb-highlight>
                        </td>
                        <td>
                            {{logrequest.date | date: 'dd/MM/yyyy HH:mm a'}}
                        </td>
                    </tr>
                    <tr class="table-hover table-info" [hidden]="lastrequest && lastrequest.status >= 0">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Solicitud Creada</td>
                        <td></td>
                        <td>supervizor.solucredit@gmail.com</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 1">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validar verificaciones </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 1">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Validar verificaciones </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 2">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validar garantías</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 2">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Validar garantías</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 3">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Envío de formularios </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr *ngIf="lastrequest && lastrequest.status == 3">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Envío de formularios </td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 4">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Ingreso Datos Formularios</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 4">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Ingreso Datos Formularios</td>
                        <td></td>
                        <td>Prospecto (Enviado por email)</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 5">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Validar formularios</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 5">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Validar formularios</td>
                        <td></td>
                        <td>Asistente Comercial</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 6">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Análisis Legal</td>
                        <td></td>
                        <td>Área Legal (Validación de papelería)</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 6">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Análisis Legal</td>
                        <td></td>
                        <td>Área Legal (Validación de papelería)</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 7">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Visitas de negocio</td>
                        <td></td>
                        <td>Gerencia Comercial</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 7">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Visitas de negocio</td>
                        <td></td>
                        <td>Gerencia Comercial</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 8">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Análisis de cumplimiento</td>
                        <td></td>
                        <td>Oficial de Cumplimiento</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 8">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Análisis de cumplimiento</td>
                        <td></td>
                        <td>Oficial de Cumplimiento</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 9">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Revisión de Expediente</td>
                        <td></td>
                        <td>Gerencia de Operaciones</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 9">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Revisión de Expediente</td>
                        <td></td>
                        <td>Gerencia de Operaciones</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 10">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Aprobación Comité Créditos</td>
                        <td></td>
                        <td>Área de Negociaciones</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 10">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Aprobación Comité Créditos</td>
                        <td></td>
                        <td>Área de Negociaciones</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 11">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Envío de informe de negociación</td>
                        <td></td>
                        <td>Prospecto (Envío de papelería)</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 11">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Envío de informe de negociación</td>
                        <td></td>
                        <td>Prospecto (Envío de papelería)</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 12">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Confirmación de negociación</td>
                        <td></td>
                        <td>Área de negociaciones</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 12">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Confirmación de negociación</td>
                        <td></td>
                        <td>Área de negociaciones</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 13">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Aprobación Gerencial</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                    </tr>
                    <tr class="black" *ngIf="lastrequest && lastrequest.status == 13">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                        <td>Aprobación Gerencial</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                    </tr>
                    <tr [hidden]="lastrequest && lastrequest.status >= 14">
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-danger badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> Pendiente </h5></a>
                        </td>
                        <td>Activación de cliente</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                    </tr>
                    <!-- <tr *ngIf="lastrequest && lastrequest.status == 14">
                        <td>Activación de cliente</td>
                        <td></td>
                        <td>Gerencia General</td>
                        <td></td>
                        <td>
                            <a class="d-flex align-items-center p-2 rounded-pill bg-light mt-3 mt-md-0"><span _ngcontent-taf-c215="" class="badge badge-info badge-pill px-3 font-weight-bold font-14"><i class="mdi mdi-alert-circle-outline"></i></span><h5 _ngcontent-taf-c215="" class="mb-0 ml-1 text-dark"> En Proceso </h5></a>
                        </td>
                    </tr> -->
                    <!-- <tr *ngFor="let singlerelation of loginitialRelation">
                        <td>
                            <ngb-highlight [result]="singlerelation.message">
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.description" >
                            </ngb-highlight>
                        </td>
                        <td>
                            <ngb-highlight [result]="singlerelation.employee_email">
                            </ngb-highlight>
                        </td>
                    </tr> -->
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal-footer mt-2">
        <button class="btn btn-outline-secondary" (click)="closeBtnClick()">cerrar</button>
    </div>
</ng-template>

<ng-template #cambiaedr let-modal>
    <div class="modal-header">
        <h3 class="modal-title" id="editUserLabel">Cambiar estado de relación</h3>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="cambiarEstadoRelacion" class="form-horizontal" (ngSubmit)="ChangeStatusRelation()">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="description" class="col-sm-12">Descripción</label>
                                <div class="input-group col-sm-12">
                                    <textarea class="form-control" style="width: 100%;" rows="12" id="description" formControlName="description"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!cambiarEstadoRelacion.get('description').valid && (cambiarEstadoRelacion.get('description').dirty || cambiarEstadoRelacion.get('description').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!cambiarEstadoRelacion.valid">Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<!--Madal para eliminar un aval-->
<ng-template #deletecustomermember let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="deleteUserLabel">Eliminar Documentos</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
        <form  class="form-horizontal" (ngSubmit)="DeleteMember()">
            <div clas="card-body">        
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                                <div class="alert alert-danger col-md-12" role="alert">
                                    ¿Está seguro que desea eliminar este registro? <br>
                                    Los cambios no se pueden revertir.
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" >Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>
<ng-template #deletecustomer let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="deleteUserLabel">Eliminar Documentos</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
        <form  class="form-horizontal" (ngSubmit)="DeleteDocRelation()">
            <div clas="card-body">        
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <div class="form-group row">
                                <div class="alert alert-danger col-md-12" role="alert">
                                    ¿Está seguro que desea eliminar este registro? <br>
                                    Los cambios no se pueden revertir.
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" >Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<ng-template #docjuridico let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="editUserLabel">Aceptar/Rechazar Documentos</h4>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="cambiarEstadoRelacion" class="form-horizontal" (ngSubmit)="ChangeDocStatusRelation()">
                
                <div class="card-body">
                    <div class="row" *ngIf="declineChecks.length>0">
                        <label class="col-sm-12 col-lg-12">
                            <strong>
                                Seleccione el documento
                            </strong>
                        </label>
                        <div class="col-sm-12 col-lg-12" *ngFor="let check of declineChecks;let i=index;">
                            <label>
                                <input type="checkbox" [checked]="check.value"
                                    [value]="check.id"
                                    [disabled]="check.disabled"
                                    (change)="onCheckChangeDeclineDocuments($event,i)">
                                    {{check.name}}
                            </label>
                        </div>
                        <br>
                        <br>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="description" class="col-sm-12">Descripción</label>
                                <div class="input-group col-sm-12">
                                    <textarea class="form-control" style="width: 100%;" rows="12" id="description" formControlName="description"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!cambiarEstadoRelacion.get('description').valid && (cambiarEstadoRelacion.get('description').dirty || cambiarEstadoRelacion.get('description').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!cambiarEstadoRelacion.valid||(oneCheckedDelcineChecks())"><i class="fas fa-check mr-1"></i>Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()"><i class="fas fa-times mr-1"></i>Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<ng-template #docadicionales let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Documentos adicionales</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="cambiarEstadoRelacion" class="form-horizontal" (ngSubmit)="ChangeStatusAdicionalRequest()">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="description" class="col-sm-12">Descripción</label>
                                <div class="input-group col-sm-12">
                                    <textarea class="form-control" style="width: 100%;" id="description" formControlName="description"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!cambiarEstadoRelacion.get('description').valid && (cambiarEstadoRelacion.get('description').dirty || cambiarEstadoRelacion.get('description').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!cambiarEstadoRelacion.valid">Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>

<ng-template #verrepresentantes let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="editUserLabel">Ver representantes</h4>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card mb-0">
            <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>REPRESENTANTES</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card">
                                <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                                    <div class="row ml-0 mr-0 m-b-20 " style="background: white;padding: 40px 15px;">
                                        <div class="col-sm-12 col-lg-5" style="display: inline-flex;">
                                            Buscar: <input class="form-control ml-2" placeholder="Buscar representante" type="text" [(ngModel)]="searchTerm" />
                                        </div>
                                        <div class="col-sm-12 col-lg-7 text-right">
                                            <button *ngIf="canAddRepresentative()" class="btn text-white custom_add1" (click)="addnewPerson()"><i
                                                    class="fas fa-user-plus text-white m-r-10"></i> Agregar un nuevo
                                                representante.</button>
                                        </div>
                                    </div>
                                    <div class="table-responsive table-bordered" style="background: #fff;">
                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="text-align: center;">Nombre Completo</th>
                                                    <!--<th scope="col">Correo Electrónico</th>
                                                    <th scope="col">Dirección</th>
                                                    <th scope="col">Celular</th>
                                                    <th scope="col">Telefono de oficina</th>
                                                    <th scope="col">Telefono de casa</th>-->
                                                    <th scope="col" style="text-align: center;">Acciones</th>

                                                </tr>
                                            </thead>
                                            <tbody  style="text-align: center;">
                                                <tr *ngFor="let client of dataPersons | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                                    <td>
                                                        <ngb-highlight [result]="client.name" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <!--<td>
                                                        <ngb-highlight [result]="client.email" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.address" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.mobile_phone" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.office_home === null" [result]="client.office_home" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.home_phone === null" [result]="client.home_phone" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>-->
                                                    <td>
                                                        <button class="btn mb-2 text-white custom_btn1" (click)="viewPerson(client.person_id)">Ver</button>
                                                        <button class="btn mb-2 text-white custom_btn1" (click)="editPerson(client.person_id)">Editar</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="d-flex justify-content-center p-2">
                                            <ngb-pagination *ngIf="dataPersons" [maxSize]="5" [collectionSize]="dataPersons.length" [(page)]="page" [pageSize]="pageSize">
                                            </ngb-pagination>
                                        </div>
                                        <div class="card-body div-con-flex-col div-confirmation">
                                            <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="modal.dismiss('cerrar')">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #solicitardocadicionales let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Solicitud de archivos adicionales</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="solicituddocadicionalesf" class="form-horizontal" (ngSubmit)="RequestadditonalDocuments()">
                <div class="card-body">
                    <div class="row mb-4" [hidden]="dataCustomer && dataCustomer.type === 0">
                        <label for="type" class="col-sm-12">Seleccione a quien desea solicitar documentos adicionales</label>
                        <div class="col-12">
                            <div class="row form-group ">
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadioselec1" name="typeselecadicional" value="0" class="custom-control-input" formControlName="typeselecadicional" (change)="chageType()">
                                        <label class="custom-control-label custom-label" for="customRadioselec1">Cliente</label>
                                    </div>
                                </div>

                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadioselec2" name="typeselecadicional" value="1" class="custom-control-input" formControlName="typeselecadicional" (change)="chageType()">
                                        <label class="custom-control-label custom-label" for="customRadioselec2">Representantes</label>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadioselec3" name="typeselecadicional" value="2" class="custom-control-input" formControlName="typeselecadicional" (change)="chageType()">
                                        <label class="custom-control-label custom-label" for="customRadioselec3">Avales</label>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-lg-12"  *ngIf="dataPersons && dataPersons.length > 0 && solicituddocadicionalesf.value.typeselecadicional == 1">
                            <div class="form-group row">
                                <label for="representative_id" class="col-sm-12">Seleccionar representante</label>
                                <div class="input-group col-sm-12">
                                    <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="inputGroupSelect01" class="input-group-text"><i
                                                class="far fa-id-card"></i></label>
                                    </div>
                                    <select class="custom-select col-sm-12" id="representative_id" formControlName="representative_id">
                                        <option value="" selected>Seleccionar...</option>
                                        <option *ngFor="let person of dataPersons; let i = index" [value]="person.person_id">
                                            {{person.name}}
                                        </option>
                                    </select>
                                    
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!solicituddocadicionalesf.get('representative_id').valid && (solicituddocadicionalesf.get('representative_id').dirty || solicituddocadicionalesf.get('representative_id').touched)">El representante es requerido.</small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-12"  *ngIf="getSizeAvals() > 0 && solicituddocadicionalesf.value.typeselecadicional == 2">
                            <div class="form-group row">
                                <label for="customer_fiduciary_id" class="col-sm-12">Seleccionar un aval</label>
                                <div class="input-group col-sm-12">
                                    <div _ngcontent-bpb-c164="" class="input-group-prepend"><label _ngcontent-bpb-c164="" for="inputGroupSelect01" class="input-group-text"><i
                                                class="far fa-id-card"></i></label>
                                    </div>
                                    <select class="custom-select col-sm-12" id="customer_fiduciary_id" formControlName="customer_fiduciary_id">
                                        <option value="" selected>Seleccionar...</option>
                                        <option *ngFor="let person of getAvals(); let i = index" [value]="person.id_fiduciary">
                                            {{person.name}}
                                        </option>
                                    </select>
                                    
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!solicituddocadicionalesf.get('customer_fiduciary_id').valid && (solicituddocadicionalesf.get('customer_fiduciary_id').dirty || solicituddocadicionalesf.get('customer_fiduciary_id').touched)">El aval es requerido.</small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="subject" class="col-sm-12">Motivo</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-align-justify"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" id="subject" formControlName="subject" required>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!solicituddocadicionalesf.get('subject').valid && (solicituddocadicionalesf.get('subject').dirty || solicituddocadicionalesf.get('subject').touched)">La
                                    motivo es requerido.</small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-12">
                            <div class="form-group row">
                                <label for="details" class="col-sm-12">Descripción</label>
                                <div class="input-group col-sm-12">
                                    <textarea class="form-control" style="width: 100%;" id="details" formControlName="details"></textarea>
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!solicituddocadicionalesf.get('details').valid && (solicituddocadicionalesf.get('details').dirty || solicituddocadicionalesf.get('details').touched)">La
                                                                            información es requerida.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button type="submit" class="btn btn-raised mr-1 text-white" style="background-color: #3473da;" [disabled]="!solicituddocadicionalesf.valid">Confirmar</button>
                        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>


<ng-template #showDocaditionalrequest let-modal>
    <div class="modal-header">

        <h5 class="modal-title" id="editUserLabel">Documentos adicionales</h5>
        <button type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>

    </div>
    <div class="modal-body">
        <div class="table-responsive table-bordered" style="background-color: #fff !important;">
            <table class="table table-striped mb-0 no-wrap v-middle">
                <thead>
                    <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Ver documento</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let doc of Docs.controls, index as i">
                        <ng-container [formGroup]="doc">
                            <td>
                                {{i+1}}
                            </td>
                            <td>
                                <button *ngIf="doc.controls.id.value != ''" class="btn mb-2 text-white custom_add1" (click)="ViewDocuAditional(showDoc, 'aditionalRelation', doc.controls.id.value)"> <i class="fas fa-eye"></i>Ver documento </button>
                            </td>
                        </ng-container>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</ng-template>

<ng-template #deleteRequest let-modal>

    <div class="modal-header border-bottom-0">
        <button type="button" class="close" aria-label="Close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <ng-container [ngSwitch]="RequestDelete">
            <ng-container *ngSwitchCase="null">
                <h6>Cargando</h6>
            </ng-container>
            <ng-container *ngSwitchDefault>
                <div class="row mb-2">
                    <ngb-alert [dismissible]="true" type="danger">
                        <strong>Advertencia!</strong> Los cambios no podrán revertirse. En caso de ser empresa se eliminarán las dependencias.
                    </ngb-alert>
                    <div class="col-12">
                        <h4 class="ml-4">¿Esta seguro de eliminar la solicitud {{RequestDelete.request_id}}?</h4>
                    </div>
                </div>
            </ng-container>
        </ng-container>
    </div>

    <div class="modal-footer border-top-0">
        <button type="button" (click)="eliminarSolicitud()" class="btn btn-danger mr-1 text-white">Confirmar</button>
        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cancelar</button>
    </div>
</ng-template>


<ng-template #modAval let-modal>

    <div class="modal-header border-bottom-0">
        <button type="button" class="close" aria-label="Close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <ng-container [ngSwitch]="RequestMetaData">
            <ng-container *ngSwitchCase="null">
                <h6>Cargando</h6>
            </ng-container>
            <ng-container *ngSwitchDefault>
                <div *ngIf="AvalClienteMetaData.sys_w_element_id < 47">
                    <form [formGroup]="FormAval" (ngSubmit)="openModalAval(createNewAval)">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>Solicitar Avales</h3>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-lg-6 col-md-6 col-sm-12">
                                <div class="form-group row ">
                                    <label for="inputTipoSolicitud" class="col-sm-12">Tipo de Aval</label>
                                    <div class="input-group col-sm-12">
                                        <div class="input-group-prepend"><label for="inputGroupSelect01" class="input-group-text"><i
                                                    class="far fa-id-card"></i></label>
                                        </div>
                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf=" AvalClienteMetaData.sys_w_element_id == 1 && dataCustomer && dataCustomer.type==1">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval1_4; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="AvalClienteMetaData.sys_w_element_id == 12 && dataCustomer && dataCustomer.type==0">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval13_15; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf=" AvalClienteMetaData.sys_w_element_id == 5 && dataCustomer && dataCustomer.type==1">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval5_8; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>

                                        <select class="custom-select col-sm-12" id="inputTipoGarantia" formControlName="aval_type" *ngIf="AvalClienteMetaData.sys_w_element_id == 16 && dataCustomer && dataCustomer.type==0">
                                            <option value="" selected disabled>Seleccionar</option>
                                            <option *ngFor="let order of optionsAval17_19; let i = index" [value]="order.id" >
                                                {{order.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <small class="form-text text-danger col-sm-12" *ngIf="!createRequest.get('inputTipoSolicitud').valid && (createRequest.get('inputTipoSolicitud').dirty || createRequest.get('inputTipoSolicitud').touched)">El
                                        El tipo de solicitud es requerido.</small>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <div class="form-group">
                                    <label for="addBtn" class="col-sm-12">&nbsp;</label>
                                    <button type="submit" class="btn text-white btn-color-solucredit" [disabled]="!FormAval.valid"> <i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>

                        </div>
                    </form>

                    <div class="row mt-2 mb-2">
                        <div class="col-sm-12 col-lg-12">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">
                                                #
                                            </th>
                                            <th scope="col">Tipo de Aval</th>
                                            <th scope="col">Nombre</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let aval of RequestMetaData;let i = index">
                                            <td>
                                                {{i+1}}
                                            </td>
                                            <td>
                                                {{aval.name}}
                                            </td>
                                            <td>
                                                {{ nameAval(aval) }}
                                            </td>
                                            <td>
                                                <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalAvalEditAfter(editarAval, aval, i)"><i class="fas fa-pencil-alt"></i></button>
                                                <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteAval(aval.rwedet_id)"><i class="fas fa-trash-alt"></i></button>
                                            </td>
                                        </tr>


                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="AvalClienteMetaData.sys_w_element_id >= 47">
                    <h6>No se puede actualizar los parametros por el tipo de solicitud</h6>
                </div>
            </ng-container>
        </ng-container>
    </div>

    <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="closeBtnClick()">Cerrar</button>
    </div>
</ng-template>

<ng-template #createfiduciary let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="editUserLabel">Agregar un Nuevo Fiduciario</h4>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card-block">
            <form [formGroup]="formfiduciary" class="form-horizontal" (ngSubmit)="CreateCustomerFiducaryWaranty()">
                <div class="card-body">
                    <div class="row">
                        <label for="type" class="col-sm-12">Tipo de Cliente</label>
                        <div class="col-12">
                            <div class="row form-group">
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadiocliente1" name="type" value="0"
                                            class="custom-control-input" formControlName="type"
                                            (change)="chageTypeWarranties()" />
                                        <label class="custom-control-label custom-label"
                                            for="customRadiocliente1">Individual</label>
                                    </div>
                                </div>

                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" id="customRadiocliente2" name="type" value="1"
                                            class="custom-control-input" formControlName="type"
                                            (change)="chageTypeWarranties()" />
                                        <label class="custom-control-label custom-label"
                                            for="customRadiocliente2">Juridico</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row" *ngIf="formfiduciary.controls.type.value == 1">
                        <div class="col-sm-12 col-lg-4">
                            
                            <div class="form-group row">
                                <label for="name" class="col-sm-12">Razón Social y Nombre Comercial
                                    <app-asteriskrequired></app-asteriskrequired>
                                </label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-building"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="businessname" id="businessname"
                                        formControlName="businessname" required placeholder="Ej. Solucredit S.A." />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="
                    !formfiduciary.get('businessname').valid &&
                    (formfiduciary.get('businessname').dirty ||
                      formfiduciary.get('businessname').touched)
                  ">La razón social y nombre comercial son requeridos.</small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="formfiduciary.get('businessnit')"
                                    id="businessnit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                            <!-- <div class="form-group row">
                                <label for="businessnit" class="col-sm-12">Nit de la Empresa<app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input size="8" maxlength="13" minlength="8" type="text" class="form-control" aria-label="Username"
                                        id="businessnit" formControlName="businessnit" placeholder="Ej. 12345678" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="
                    !formfiduciary.get('businessnit').valid &&
                    (formfiduciary.get('businessnit').dirty ||
                      formfiduciary.get('businessnit').touched)
                  ">Este campo es requerido.</small>
                            </div> -->
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <div class="form-group row">
                                <label for="businessnumber" class="col-sm-12">Número de la Empresa <app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input size="8" maxlength="8" type="text" class="form-control" aria-label="Username"
                                        id="businessnumber" formControlName="businessnumber"
                                        placeholder="Ej. 12345678" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="
                    !formfiduciary.get('businessnumber').valid &&
                    (formfiduciary.get('businessnumber').dirty ||
                      formfiduciary.get('businessnumber').touched)
                  ">Este campo es requerido.</small>
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-4">
                        </div>
                    </div>
                    <button *ngIf="formfiduciary.controls.type.value == 1 && !( this.dataResponseSaveFiduciary &&  this.dataResponseSaveFiduciary.success == true)" type="submit"
                        class="btn btn-raised mr-1 text-white" style="background-color: #3473da"
                        [disabled]="!formfiduciary.valid">
                        Guardar
                    </button>

                    <div class="mt-4" *ngIf="formfiduciary.controls.type.value == 1 && this.dataResponseSaveFiduciary &&  this.dataResponseSaveFiduciary.success == true">
                        <hr>
                        <form [formGroup]="FormJuridicoRepresentatives" (ngSubmit)="addRepresentativeActualAval()">
                            <div class="row">
                                <div class="col-md-12">
                                    <h3>Representante Legal del Aval jurídico</h3>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="Primer nombre"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoRepresentatives.get('name1')"
                                    id="name1"
                                    [placeholder]="placeHolders.firstname"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.firstnameErrorMessages"
                                ></app-custominput>
                                    <!-- <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Primer nombre<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name1" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Segundo nombre</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name2" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Tercer nombre</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name3" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="Primer apellido"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoRepresentatives.get('lastname1')"
                                    id="lastname1"
                                    [placeholder]="placeHolders.lastname1"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.lastnameErrorMessages"
                                ></app-custominput>
                                    <!-- <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Primer apellido<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname1" required >
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Segundo apellido</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname2" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Apellido de casada</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname3" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoRepresentatives.get('NIT')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">NIT<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="8" maxlength="13" minlength="8" class="form-control"
                                                formControlName="NIT" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                label="Teléfono"
                [isrequired]="true"
                [formcontrol]="FormJuridicoRepresentatives.get('phone')"
                id="phone"
                [placeholder]="placeHolders.phone"
                iconclass="far fa-address-card"
                mode="top"
                type="tel"
                [errorMessages]="errorMessages.phoneErrorMessages"
                [maxLength]="8"></app-custominput>
                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">Teléfono<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="8" maxlength="8" class="form-control"
                                                formControlName="phone" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="DPI"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoRepresentatives.get('DPI')"
                                    id="dpi"
                                    [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">DPI <app-asteriskrequired></app-asteriskrequired></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="13" maxlength="13" class="form-control"
                                                formControlName="DPI" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-md-1">
                                    <div class="form-group">
                                        <label for="addBtn" class="col-sm-12">&nbsp;</label>
                                        <button type="submit" class="btn text-white" style="background-color: #3473da"
                                            [disabled]="!FormJuridicoRepresentatives.valid"> <i
                                                class="fas fa-user-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <div class="row mt-2">
                            <div class="col-sm-12 col-lg-12">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col" style="text-align: center;">Nombre</th>
                                                <th scope="col" style="text-align: center;">Nit</th>
                                                <th scope="col" style="text-align: center;">Teléfono</th>
                                                <th scope="col" style="text-align: center;">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let member of dataResponseAddRepresentative;let i = index">
                                                <td>
                                                    {{member.name}}
                                                </td>
                                                <td>
                                                    {{member.nit}}
                                                </td>
                                                <td>
                                                    {{member.phone}}
                                                </td>

                                                <td>
                                                    <button class="btn btn-info waves-effect btn-rounded waves-light"
                                                        type="button"
                                                        (click)="openModalUpdateRepresentative(updatefiduciaryrepresentative, member)"><i
                                                            class="fas fa-pencil-alt"></i></button>
                                                    <button class="btn btn-danger waves-effect btn-rounded waves-light"
                                                        type="button" (click)="deleteFiduciary(member.id_fiduciary)"><i
                                                            class="fas fa-trash-alt"></i></button>
                                                </td>
                                            </tr>
                                            <tr *ngIf="AvalActualRepresentatives.length == 0">
                                                <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">
                                                    Lista vacía</td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4" *ngIf="formfiduciary.controls.type.value == 1 &&  this.dataResponseSaveFiduciary && this.dataResponseSaveFiduciary.success == true">
                        <hr>
                        <form [formGroup]="FormJuridicoMembers" (ngSubmit)="addMemberActualAval()">
                            <div class="row">
                                <div class="col-md-12">
                                    <h3>Socios del Aval Jurídico</h3>
                                </div>
                            </div>
                            <div class="row mt-2">
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="Primer nombre"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoMembers.get('name1')"
                                    id="name1"
                                    [placeholder]="placeHolders.firstname"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.firstnameErrorMessages"
                                ></app-custominput>
                                    <!-- <div class="form-group row">
                                       
                                        <label for="name1" class="col-sm-12">Primer nombre<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name1" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Segundo nombre</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name2" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Tercer nombre</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="name3" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="Primer apellido"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoMembers.get('lastname1')"
                                    id="lastname1"
                                    [placeholder]="placeHolders.lastname1"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.lastnameErrorMessages"
                                ></app-custominput>
                                    <!-- <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Primer apellido<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname1" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Segundo apellido</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname2" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <div class="form-group row">
                                        <label for="name1" class="col-sm-12">Apellido de casada</label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" class="form-control" formControlName="lastname3" >
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-3 col-sm-12">
                                    <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoMembers.get('NIT')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">NIT<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="8" maxlength="13" minlength="8" class="form-control"
                                                formControlName="NIT" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <app-custominput
                                    label="Teléfono"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoMembers.get('phone')"
                                    id="phone"
                                    [placeholder]="placeHolders.phone"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.phoneErrorMessages"
                                    [maxLength]="8"
                                ></app-custominput> 
                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">Teléfono<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="8" maxlength="8" class="form-control"
                                                formControlName="phone" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12">
                                    <app-custominput
                                    label="DPI"
                                    [isrequired]="true"
                                    [formcontrol]="FormJuridicoMembers.get('DPI')"
                                    id="dpi"
                                    [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 

                                    <!-- <div class="form-group row">
                                        <label for="name" class="col-sm-12">DPI<code
                                                style="font-size: 16px;"><sup>*</sup></code></label>
                                        <div class="input-group col-sm-12">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="basic-addon1">
                                                    <i class="fas fa-address-card"></i>
                                                </span>
                                            </div>
                                            <input type="text" size="13" maxlength="13" class="form-control"
                                                formControlName="DPI" required>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-md-1">
                                    <div class="form-group">
                                        <label for="addBtn" class="col-sm-12">&nbsp;</label>
                                        <button type="submit" class="btn text-white" style="background-color: #3473da"
                                            [disabled]="!FormJuridicoMembers.valid"> <i
                                                class="fas fa-user-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <div class="row mt-2">
                            <div class="col-sm-12 col-lg-12">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col" style="text-align: center;">Nombre</th>
                                                <th scope="col" style="text-align: center;">Nit</th>
                                                <th scope="col" style="text-align: center;">Teléfono</th>
                                                <th scope="col" style="text-align: center;">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let member of AvalActualMembers;let i = index">
                                                <td>
                                                    {{member.name}}
                                                </td>
                                                <td>
                                                    {{member.nit}}
                                                </td>
                                                <td>
                                                    {{member.phone}}
                                                </td>
                                                <td>
                                                    <button class="btn btn-info waves-effect btn-rounded waves-light"
                                                        type="button"
                                                        (click)="openModalUpdateMember(updatefiduciaryMember, member)"><i
                                                            class="fas fa-pencil-alt"></i></button>
                                                    <button class="btn btn-danger waves-effect btn-rounded waves-light"
                                                        type="button" (click)="deleteFiduciary(member.id_fiduciary)"><i
                                                            class="fas fa-trash-alt"></i></button>
                                                </td>
                                            </tr>
                                            <tr *ngIf="AvalActualMembers.length == 0">
                                                <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">
                                                    Lista vacía</td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4" *ngIf="formfiduciary.controls.type.value == 0">


                        <div class="col-sm-12 col-lg-4">
                            <app-custominput
                                    label="Primer nombre"
                                    [isrequired]="true"
                                    [formcontrol]="formfiduciary.get('name1')"
                                    id="name1"
                                    [placeholder]="placeHolders.firstname"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.firstnameErrorMessages"
                                ></app-custominput>
                            <!-- <div class="form-group row">
                                
                                <label for="name" class="col-sm-12">Primer nombre<app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="name"
                                        formControlName="name1" required placeholder="Ej. Roberto" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!formfiduciary.get('name1').valid && (formfiduciary.get('name1').dirty || formfiduciary.get('name1').touched)">El primer nombre es requerido.</small>
                            </div> -->
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <div class="form-group row">
                                <label for="name" class="col-sm-12">Segundo nombre</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="name2"
                                        formControlName="name2"  placeholder="Ej. Roberto" />
                                </div>
                               
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <div class="form-group row">
                                <label for="name" class="col-sm-12">Tercer nombre</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="name3"
                                        formControlName="name3"  placeholder="Ej. Roberto" />
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <app-custominput
                                    label="Primer apellido"
                                    [isrequired]="true"
                                    [formcontrol]="formfiduciary.get('lastname1')"
                                    id="lastname1"
                                    [placeholder]="placeHolders.lastname1"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.lastnameErrorMessages"
                                ></app-custominput>
                            <!-- <div class="form-group row">
                                <label for="name" class="col-sm-12">Primer apellido<app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="lastname1"
                                        formControlName="lastname1" required placeholder="Ej. Ramirez" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="!formfiduciary.get('lastname1').valid && (formfiduciary.get('lastname1').dirty || formfiduciary.get('lastname1').touched)">El primer apellido es requerido.</small>
                            </div> -->
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <div class="form-group row">
                                <label for="name" class="col-sm-12">Segundo apellido</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="lastname2"
                                        formControlName="lastname2"  placeholder="Ej. Sanchez" />
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <div class="form-group row">
                                <label for="name" class="col-sm-12">Apellido de casada</label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input type="text" class="form-control" aria-label="Username" id="lastname3"
                                        formControlName="lastname3"  placeholder="Ej. Sanchez" />
                                </div>
                                
                            </div>
                        </div>
                        <!--

            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Nombre<app-asteriskrequired></app-asteriskrequired></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="name2"
                    formControlName="name2"
                    placeholder="Ej. Elias"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('name2').valid &&
                    (formfiduciary.get('name2').dirty ||
                      formfiduciary.get('name2').touched)
                  "
                  >El primer apellido es requerido.</small
                >
              </div>
            </div>


            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Primer Apellido<code style="font-size: 16px"
                    ><sup>*</sup></code
                  ></label
                >
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Last Name"
                    id="lastname1"
                    formControlName="lastname1"
                    required
                    placeholder="Ej.Perez "
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('lastname1').valid &&
                    (formfiduciary.get('lastname1').dirty ||
                      formfiduciary.get('lastname1').touched)
                  "
                  >El primer apellido es requerido.</small
                >
              </div>
            </div>


            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Segundo Apellido<code style="font-size: 16px"
                    ><sup>*</sup></code
                  ></label
                >
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="second Last name"
                    id="lastname2"
                    formControlName="lastname2"
                    required
                    placeholder="Ej. Ramirez"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('lastname2').valid &&
                    (formfiduciary.get('lastname2').dirty ||
                      formfiduciary.get('lastname2').touched)
                  "
                  >El segundo apellido es requerido.</small
                >
              </div>
            </div>
            -->


                        <div class="col-sm-12 col-lg-4">
                            <app-custominput
                                    label="DPI"
                                    [isrequired]="true"
                                    [formcontrol]="formfiduciary.get('DPI')"
                                    id="dpi"
                                    [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                            <!-- <div class="form-group row">
                                <label for="DPI" class="col-sm-12">DPI<app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input size="13" maxlength="13" type="text" class="form-control" aria-label="DPI"
                                        id="DPI" formControlName="DPI" placeholder="Ej. 1234567891234" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="
                    !formfiduciary.get('DPI').valid &&
                    (formfiduciary.get('DPI').dirty ||
                      formfiduciary.get('DPI').touched)
                  ">El campo es requerido.</small>
                            </div> -->
                        </div>
                        <div class="col-sm-12 col-lg-4">
                            <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="formfiduciary.get('nit')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
                            <!-- <div class="form-group row">
                                <label for="nit" class="col-sm-12">Nit<app-asteriskrequired></app-asteriskrequired></label>
                                <div class="input-group col-sm-12">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">
                                            <i class="far fa-user"></i>
                                        </span>
                                    </div>
                                    <input size="8" maxlength="13" minlength="8" type="text" class="form-control" aria-label="nit"
                                        id="nit" formControlName="nit" placeholder="Ej. 1234567891234" />
                                </div>
                                <small class="form-text text-danger col-sm-12" *ngIf="
                    !formfiduciary.get('nit').valid &&
                    (formfiduciary.get('nit').dirty ||
                      formfiduciary.get('nit').touched)
                  ">El campo es requerido.</small>
                            </div> -->
                        </div>
                    </div>

                </div>
                <hr />
                <div class="card-body">
                    <div class="form-group m-b-0 text-left">
                        <button *ngIf="formfiduciary.controls.type.value == 0" type="submit"
                            class="btn btn-raised mr-1 text-white" style="background-color: #3473da"
                            [disabled]="!formfiduciary.valid">
                            Confirmar
                        </button>
                        <button type="button" class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary"
                            (click)="closeBtnClick()">
                            Cancelar
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</ng-template>


<ng-template #versocios let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="editUserLabel">Ver socios</h5>
        <button type="button" class="close" (click)="closeBtnClick()" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="card mb-0">
            <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                <ngb-tabset type="pills" [justify]="currentJustify" class="my-tabs">
                    <ngb-tab>
                        <ng-template ngbTabTitle><b>Socios</b></ng-template>
                        <ng-template ngbTabContent>
                            <div class="card">
                                <div class="card-body p-r-0 p-l-0 p-t-0" style="background: #edf4f8;">
                                    <div class="row ml-0 mr-0 m-b-20 " style="background: white;padding: 40px 15px;">
                                        <div class="col-sm-12 col-lg-5" style="display: inline-flex;">
                                            Buscar: <input class="form-control ml-2" placeholder="Buscar representante" type="text" [(ngModel)]="searchTermMember" />
                                        </div>
                                        <div class="col-sm-12 col-lg-7 text-right">
                                            <button class="btn text-white custom_add1" (click)="addnewMember()"
                                                *ngIf="canAddnewMember()"
                                            ><i
                                                    class="fas fa-user-plus text-white m-r-10"></i> Agregar un nuevo
                                                socio</button>
                                        </div>
                                    </div>
                                    <div class="table-responsive table-bordered" style="background: #fff;">
                                        <table class="table table-striped mb-0 no-wrap v-middle">
                                            <thead>
                                                <tr>
                                                    <th scope="col" style="text-align: center;">Nombre Completo</th>
                                                    <!--<th scope="col">Correo Electrónico</th>
                                                    <th scope="col">Dirección</th>
                                                    <th scope="col">Celular</th>
                                                    <th scope="col">Telefono de oficina</th>
                                                    <th scope="col">Telefono de casa</th>-->
                                                    <th scope="col" style="text-align: center;">Acciones</th>

                                                </tr>
                                            </thead>
                                            <tbody style="text-align: center;">
                                                <tr *ngFor="let client of dataMembers | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">

                                                    <td>
                                                        <ngb-highlight [result]="client.name" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <!--<td>
                                                        <ngb-highlight [result]="client.email" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.address" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [result]="client.mobile_phone" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.office_home === null" [result]="client.office_home" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>
                                                    <td>
                                                        <ngb-highlight [hidden]="client.home_phone === null" [result]="client.home_phone" [term]="searchTerm">
                                                        </ngb-highlight>
                                                    </td>-->
                                                    <td>
                                                        <button class="btn mb-2 text-white custom_btn1" (click)="viewPerson(client.person_id)">Ver</button>
                                                        <button class="btn mb-2 text-white custom_btn1" (click)="editPerson(client.person_id)">Editar</button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <div class="d-flex justify-content-center p-2">
                                            <ngb-pagination *ngIf="dataMembers" [maxSize]="5" [collectionSize]="dataMembers.length" [(page)]="page" [pageSize]="pageSize">
                                            </ngb-pagination>
                                        </div>
                                        <div class="card-body div-con-flex-col div-confirmation">
                                            <button type="button" class="btn btn-raised mr-1 text-white  btn-color-solucredit-secondary" (click)="modal.dismiss('cerrar')">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </ngb-tab>
                </ngb-tabset>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #UpdatefiduciaryLegal let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="editUserLabel">Información de aval juridico</h5>
    <button
      type="button"
      class="close"
      (click)="closeBtnClick()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card-block">
      <form
        [formGroup]="formfiduciary"
        class="form-horizontal"
        (ngSubmit)="CreateCustomerFiducaryWaranty()"
      >
        <div class="card-body">
          
          <div class="row">
            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Razón social y nombre comercial
                  <app-asteriskrequired></app-asteriskrequired>
                </label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-building"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="businessname"
                    id="businessname"
                    formControlName="businessname"
                    required
                    placeholder="Ej. Solucredit S.A."
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('businessname').valid &&
                    (formfiduciary.get('businessname').dirty ||
                      formfiduciary.get('businessname').touched)
                  "
                  >La razón social y nombre comercial son requeridos.</small
                >
              </div>
            </div>
            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="businessnit" class="col-sm-12">Nit de la empresa<app-asteriskrequired></app-asteriskrequired></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="businessnit"
                    formControlName="businessnit"
                    placeholder="Ej. 12345678"
                    maxlength="13" minlength="6"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('businessnit').valid &&
                    (formfiduciary.get('businessnit').dirty ||
                      formfiduciary.get('businessnit').touched)
                  "
                  >Este campo es requerido.</small
                >
              </div>
            </div>
            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="businessnumber" class="col-sm-12">Numero de la empresa de la empresa<app-asteriskrequired></app-asteriskrequired></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="businessnumber"
                    formControlName="businessnumber"
                    placeholder="Ej. 12345678"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('businessnumber').valid &&
                    (formfiduciary.get('businessnumber').dirty ||
                      formfiduciary.get('businessnumber').touched)
                  "
                  >Este campo es requerido.</small
                >
              </div>
            </div>
            <div class="col-sm-12 col-lg-4">
              <button
              *ngIf="formfiduciary.controls.type.value == 1"
                type="submit"
                class="btn btn-raised mr-1 text-white"
                style="background-color: #3473da"
                [disabled]="!formfiduciary.valid">
                Guardar
              </button>
            </div>
          </div>

          <div class="mt-4" >
            <hr>
            <form [formGroup]="FormJuridicoRepresentatives" (ngSubmit)="addRepresentativeActualAval()">
                <div class="row">
                    <div class="col-md-12">
                        <h3>Representante Legal del cliente jurídico</h3>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name1" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" class="form-control" formControlName="name1" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="phone" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">DPI<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="DPI" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-1">
                        <div class="form-group">
                            <label for="addBtn" class="col-sm-12">&nbsp;</label>
                            <button type="submit" class="btn text-white"  style="background-color: #3473da" [disabled]="!FormJuridicoRepresentatives.valid"> <i class="fas fa-user-plus"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <div class="row mt-2">
                <div class="col-sm-12 col-lg-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Nit</th>
                                    <th scope="col">Teléfono</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let member of dataResponseAddRepresentative;let i = index">
                                    <td>
                                        {{member.name1}}
                                    </td>
                                    <td>
                                        {{member.nit}}
                                    </td>
                                    <td>
                                        {{member.phone}}
                                    </td>

                                    <td >
                                        <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalUpdateRepresentative(updatefiduciaryrepresentative, member)"><i class="fas fa-pencil-alt"></i></button>
                                        <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteFiduciary(member.id_fiduciary)"><i class="fas fa-trash-alt"></i></button>
                                    </td>
                                </tr>
                                <tr *ngIf="AvalActualRepresentatives.length == 0">
                                    <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                </tr>


                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
          </div>

          <div class="mt-4">
              <hr>
              <form [formGroup]="FormJuridicoMembers" (ngSubmit)="addMemberActualAval()">
                  <div class="row">
                      <div class="col-md-12">
                          <h3>Socios del aval jurídico</h3>
                      </div>
                  </div>
                  <div class="row mt-2">
                      <div class="col-lg-4 col-md-4 col-sm-12">
                          <div class="form-group row">
                              <label for="name1" class="col-sm-12">Nombre Completo<code style="font-size: 16px;"><sup>*</sup></code></label>
                              <div class="input-group col-sm-12">
                                  <div class="input-group-prepend">
                                      <span class="input-group-text" id="basic-addon1">
                                              <i class="fas fa-address-card"></i>
                                          </span>
                                  </div>
                                  <input type="text" class="form-control" formControlName="name" required>
                              </div>
                          </div>
                      </div>
                      <div class="col-lg-3 col-md-3 col-sm-12">
                          <div class="form-group row">
                              <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                              <div class="input-group col-sm-12">
                                  <div class="input-group-prepend">
                                      <span class="input-group-text" id="basic-addon1">
                                              <i class="fas fa-address-card"></i>
                                          </span>
                                  </div>
                                  <input type="text" maxlength="13" minlength="8" class="form-control" formControlName="NIT" required>
                              </div>
                          </div>
                      </div>
                      <div class="col-lg-4 col-md-4 col-sm-12">
                          <div class="form-group row">
                              <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                              <div class="input-group col-sm-12">
                                  <div class="input-group-prepend">
                                      <span class="input-group-text" id="basic-addon1">
                                              <i class="fas fa-address-card"></i>
                                          </span>
                                  </div>
                                  <input type="number" class="form-control" formControlName="phone" required>
                              </div>
                          </div>
                      </div>
                      <div class="col-lg-4 col-md-4 col-sm-12">
                        <div class="form-group row">
                            <label for="name" class="col-sm-12">DPI<code style="font-size: 16px;"><sup>*</sup></code></label>
                            <div class="input-group col-sm-12">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                            <i class="fas fa-address-card"></i>
                                        </span>
                                </div>
                                <input type="number" class="form-control" formControlName="DPI" required>
                            </div>
                        </div>
                    </div>
                      <div class="col-md-1">
                          <div class="form-group">
                              <label for="addBtn" class="col-sm-12">&nbsp;</label>
                              <button type="submit" class="btn text-white"  style="background-color: #3473da" [disabled]="!FormJuridicoMembers.valid"> <i class="fas fa-user-plus"></i></button>
                          </div>
                      </div>
                  </div>
              </form>

              <div class="row mt-2">
                  <div class="col-sm-12 col-lg-12">
                      <div class="table-responsive">
                          <table class="table">
                              <thead>
                                  <tr>
                                      <th scope="col">Nombre</th>
                                      <th scope="col">Nit</th>
                                      <th scope="col">Teléfono</th>
                                      <th scope="col">Acciones</th>
                                  </tr>
                              </thead>
                              <tbody>
                                  <tr *ngFor="let member of AvalActualMembers;let i = index">
                                      <td>
                                          {{member.name1}}
                                      </td>
                                      <td>
                                          {{member.nit}}
                                      </td>
                                      <td>
                                          {{member.phone}}
                                      </td>
                                      <td>
                                          <button class="btn btn-info waves-effect btn-rounded waves-light" type="button" (click)="openModalUpdateMember(updatefiduciaryMember, member)"><i class="fas fa-pencil-alt"></i></button>
                                          <button class="btn btn-danger waves-effect btn-rounded waves-light" type="button" (click)="deleteFiduciary(member.id_fiduciary)"><i class="fas fa-trash-alt"></i></button>
                                      </td>
                                  </tr>
                                  <tr *ngIf="AvalActualMembers.length == 0">
                                      <td colspan="4" style="background-color: #f2f7f8;;" class="text-center">Lista vacía</td>
                                  </tr>


                              </tbody>
                          </table>
                      </div>
                  </div>
              </div>
          </div>

        </div>
        <hr />
        <div class="card-body">
          <div class="form-group m-b-0 text-left">
            <button
            *ngIf="formfiduciary.controls.type.value == 0"
              type="submit"
              class="btn btn-raised mr-1 text-white"
              style="background-color: #3473da"
              [disabled]="!formfiduciary.valid">
              Confirmar
            </button>
            <button
              type="button"
              class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary"
              (click)="closeBtnClick()"
            >
              Cancelar
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</ng-template>

<ng-template #updatefiduciary let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="editUserLabel">Agregar un nuevo Fiduciarios</h5>
    <button
      type="button"
      class="close"
      (click)="closeBtnClick()"
      aria-label="Close"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="card-block">
      <form
        [formGroup]="formfiduciary"
        class="form-horizontal"
        (ngSubmit)="UpdateFiducaryWaranty()"
      >
        <div class="card-body">
          <div class="row">
            <label for="type" class="col-sm-12">Tipo de cliente</label>
            <div class="col-12">
              <div class="row form-group">
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="custom-control custom-radio">
                    <input
                      type="radio"
                      id="customRadiocliente1"
                      name="type"
                      value="0"
                      class="custom-control-input"
                      formControlName="type"
                      (change)="chageTypeWarranties()"
                    />
                    <label
                      class="custom-control-label custom-label"
                      for="customRadiocliente1"
                      >Individual</label
                    >
                  </div>
                </div>

                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="custom-control custom-radio">
                    <input
                      type="radio"
                      id="customRadiocliente2"
                      name="type"
                      value="1"
                      class="custom-control-input"
                      formControlName="type"
                      (change)="chageTypeWarranties()"
                    />
                    <label
                      class="custom-control-label custom-label"
                      for="customRadiocliente2"
                      >Juridico</label
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="formfiduciary.controls.type.value == 1">
            <div class="col-sm-12 col-lg-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Razón social y nombre comercial
                  <app-asteriskrequired></app-asteriskrequired>
                </label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-building"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="businessname"
                    id="businessname"
                    formControlName="businessname"
                    required
                    placeholder="Ej. Solucredit S.A."
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('businessname').valid &&
                    (formfiduciary.get('businessname').dirty ||
                      formfiduciary.get('businessname').touched)
                  "
                  >La razón social y nombre comercial son requeridos.</small
                >
              </div>
            </div>
          </div>
          <div class="row ">
            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Nombre completo<code style="font-size: 16px"
                    ><sup>*</sup></code
                  ></label
                >
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="name1"
                    formControlName="name1"
                    required
                    placeholder="Ej. Roberto"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('name').valid &&
                    (formfiduciary.get('name').dirty ||
                      formfiduciary.get('name').touched)
                  "
                  >El primer apellido es requerido.</small
                >
              </div>
            </div>


            <!--

            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="name2"
                    formControlName="name2"
                    placeholder="Ej. Elias"
                  />
                </div>
              </div>
            </div>


            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Otro nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Username"
                    id="name3"
                    formControlName="name3"
                    placeholder="Ej. Roberto Elias"
                  />
                </div>
              </div>
            </div>

        -->

          </div>

          <div class="row mb-4">

            <!--

            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Primer Apellido<code style="font-size: 16px"
                    ><sup>*</sup></code
                  ></label
                >
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Last Name"
                    id="lastname1"
                    formControlName="lastname1"
                    required
                    placeholder="Ej.Perez "
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('lastname1').valid &&
                    (formfiduciary.get('lastname1').dirty ||
                      formfiduciary.get('lastname1').touched)
                  "
                  >El primer apellido es requerido.</small
                >
              </div>
            </div>



            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12"
                  >Segundo Apellido<code style="font-size: 16px"
                    ><sup>*</sup></code
                  ></label
                >
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="second Last name"
                    id="lastname2"
                    formControlName="lastname2"
                    required
                    placeholder="Ej. Ramirez"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('lastname2').valid &&
                    (formfiduciary.get('lastname2').dirty ||
                      formfiduciary.get('lastname2').touched)
                  "
                  >El segundo apellido es requerido.</small
                >
              </div>
            </div>



            <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Apellido de casada</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    aria-label="Last name"
                    id="lastname3"
                    formControlName="lastname3"
                    placeholder="Ej. Ramirez"
                  />
                </div>
              </div>
            </div>

            -->

          </div>
          
          <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="DPI" class="col-sm-12">DPI</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="number"
                    class="form-control"
                    aria-label="DPI"
                    id="DPI"
                    formControlName="DPI"
                    placeholder="Ej. 1234567891234"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('DPI').valid &&
                    (formfiduciary.get('DPI').dirty ||
                      formfiduciary.get('DPI').touched)
                  "
                  >El campo es requerido.</small
                >
              </div>
          </div>
          <div class="col-sm-12 col-lg-4">
              <div class="form-group row">
                <label for="nit" class="col-sm-12">Nit</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input
                    type="number"
                    class="form-control"
                    aria-label="nit"
                    id="nit"
                    formControlName="nit"
                    placeholder="Ej. 1234567891234"
                    maxlength="13" minlength="8"
                  />
                </div>
                <small
                  class="form-text text-danger col-sm-12"
                  *ngIf="
                    !formfiduciary.get('nit').valid &&
                    (formfiduciary.get('nit').dirty ||
                      formfiduciary.get('nit').touched)
                  "
                  >El campo es requerido.</small
                >
              </div>
          </div>
        </div>
        <hr />
        <div class="card-body">
          <div class="form-group m-b-0 text-left">
            <button
              type="submit"
              class="btn btn-raised mr-1 text-white"
              style="background-color: #3473da"
              [disabled]="!formfiduciary.valid"
            >
              Guardar
            </button>
            <button
              type="button"
              class="btn btn-raised mr-1 text-white btn-color-solucredit-secondary"
              (click)="closeBtnClick()"
            >
              Cancelar
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</ng-template>

<ng-template #updatefiduciaryrepresentative let-modal>
    <div class="modal-header">
      <h5 class="modal-title" id="editUserLabel">Actualizar información de Representante</h5>
      <button id="updateMemberClose" type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="card-block">
        <form [formGroup]="FormUpdateJuridicoRepresentatives" (ngSubmit)="UpdateRepresentativeActualAval()">
          <div class="row">
            <div class="col-md-12">
              <h3>Representante Legal del Aval Jurídico</h3>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg-3 col-md-3 col-sm-12">
                <app-custominput
                                    label="Primer nombre"
                                    [isrequired]="true"
                                    [formcontrol]="FormUpdateJuridicoRepresentatives.get('name1')"
                                    id="name1"
                                    [placeholder]="placeHolders.firstname"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.firstnameErrorMessages"
                                ></app-custominput>
              <!-- <div class="form-group row">
                <label for="name" class="col-sm-12">Primer Nombre<app-asteriskrequired></app-asteriskrequired></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name1" formControlName="name1"
                    required placeholder="Ej. Roberto" />
                </div>
                <small class="form-text text-danger col-sm-12" *ngIf="
                    !FormUpdateJuridicoRepresentatives.get('name1').valid &&
                    (FormUpdateJuridicoRepresentatives.get('name1').dirty ||
                    FormUpdateJuridicoRepresentatives.get('name1').touched)
                  ">El primer apellido es requerido.</small>
              </div> -->
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name2" formControlName="name2"
                    placeholder="Ej. Elias" />
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Otro nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name3" formControlName="name3"
                    placeholder="Ej. Roberto Elias" />
                </div>
              </div>
            </div>
  
  
  
            <div class="col-lg-3 col-md-3 col-sm-12">
                <app-custominput
                                    label="Primer apellido"
                                    [isrequired]="true"
                                    [formcontrol]="FormUpdateJuridicoRepresentatives.get('lastname1')"
                                    id="lastname1"
                                    [placeholder]="placeHolders.lastname1"
                                    iconclass="far fa-user"
                                    mode="top"
                                    type="text"
                                    [errorMessages]="errorMessages.lastnameErrorMessages"
                                ></app-custominput>
              <!-- <div class="form-group row">
                  
                <label for="name" class="col-sm-12">Primer Apellido<code
                    style="font-size: 16px"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Last Name" id="lastname1"
                    formControlName="lastname1" required placeholder="Ej.Perez " />
                </div>
                <small class="form-text text-danger col-sm-12" *ngIf="
                    !FormUpdateJuridicoRepresentatives.get('lastname1').valid &&
                    (FormUpdateJuridicoRepresentatives.get('lastname1').dirty ||
                    FormUpdateJuridicoRepresentatives.get('lastname1').touched)
                  ">El primer apellido es requerido.</small>
              </div> -->
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Apellido<code
                    style="font-size: 16px"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="second Last name" id="lastname2"
                    formControlName="lastname2"  placeholder="Ej. Ramirez" />
                </div>
            
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Apellido de casada</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Last name" id="lastname3"
                    formControlName="lastname3" placeholder="Ej. Ramirez" />
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
                <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="FormUpdateJuridicoRepresentatives.get('nit')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
              <!-- <div class="form-group row">
                <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" formControlName="NIT" required>
                </div>
              </div> -->
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12">
                <app-custominput
                label="Teléfono"
                [isrequired]="true"
                [formcontrol]="FormUpdateJuridicoRepresentatives.get('phone')"
                id="phone"
                [placeholder]="placeHolders.phone"
                iconclass="far fa-address-card"
                mode="top"
                type="tel"
                [errorMessages]="errorMessages.phoneErrorMessages"
                [maxLength]="8"></app-custominput>
              <!-- <div class="form-group row">
                
                <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="number" class="form-control" formControlName="phone" required>
                </div>
              </div> -->
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12">
                <app-custominput
                                    label="DPI"
                                    [isrequired]="true"
                                    [formcontrol]="FormUpdateJuridicoRepresentatives.get('DPI')"
                                    id="dpi"
                                    [placeholder]="placeHolders.dpi"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.dpiErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
              <!-- <div class="form-group row">
                <label for="name" class="col-sm-12">DPI<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="number" class="form-control" formControlName="DPI" required>
                </div>
              </div> -->
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <label for="addBtn" class="col-sm-12">&nbsp;</label>
                <button type="submit" class="btn text-white" style="background-color: #3473da"
                  [disabled]="!FormUpdateJuridicoRepresentatives.valid"> Guardar</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-template>

<ng-template #updatefiduciaryMember let-modal>
    <div class="modal-header">
      <h5 class="modal-title" id="editUserLabel">Actualizar Información de Socio</h5>
      <button id="updateMemberClose" type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="card-block">
        <form [formGroup]="FormUpdateJuridicoMembers" (ngSubmit)="UpdateMemberActualAval()">
          <div class="row">
            <div class="col-md-12">
              <h3>Socios del Aval Jurídico</h3>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Primer Nombre<app-asteriskrequired></app-asteriskrequired></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name1" formControlName="name1"
                    required placeholder="Ej. Roberto" />
                </div>
                <small class="form-text text-danger col-sm-12" *ngIf="
                    !FormUpdateJuridicoMembers.get('name1').valid &&
                    (FormUpdateJuridicoMembers.get('name1').dirty ||
                    FormUpdateJuridicoMembers.get('name1').touched)
                  ">El primer apellido es requerido.</small>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name2" formControlName="name2"
                    placeholder="Ej. Elias" />
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Otro nombre</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Username" id="name3" formControlName="name3"
                    placeholder="Ej. Roberto Elias" />
                </div>
              </div>
            </div>
  
  
  
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Primer Apellido<code
                    style="font-size: 16px"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Last Name" id="lastname1"
                    formControlName="lastname1" required placeholder="Ej.Perez " />
                </div>
                <small class="form-text text-danger col-sm-12" *ngIf="
                    !FormUpdateJuridicoMembers.get('lastname1').valid &&
                    (FormUpdateJuridicoMembers.get('lastname1').dirty ||
                    FormUpdateJuridicoMembers.get('lastname1').touched)
                  ">El primer apellido es requerido.</small>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Segundo Apellido<code
                    style="font-size: 16px"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="second Last name" id="lastname2"
                    formControlName="lastname2"  placeholder="Ej. Ramirez" />
                </div>
            
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Apellido de casada</label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="far fa-user"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" aria-label="Last name" id="lastname3"
                    formControlName="lastname3" placeholder="Ej. Ramirez" />
                </div>
              </div>
            </div>
            <div class="col-lg-3 col-md-3 col-sm-12">
                <app-custominput
                                    label="NIT"
                                    [isrequired]="true"
                                    [formcontrol]="FormUpdateJuridicoMembers.get('nit')"
                                    id="nit"
                                    [placeholder]="placeHolders.nit"
                                    iconclass="far fa-address-card"
                                    mode="top"
                                    type="tel"
                                    [errorMessages]="errorMessages.nitErrorMessages"
                                    [maxLength]="13"
                                ></app-custominput> 
              <!-- <div class="form-group row">
                <label for="name" class="col-sm-12">Nit<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" formControlName="NIT" required>
                </div>
              </div> -->
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">Teléfono<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="number" class="form-control" formControlName="phone" required>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12">
              <div class="form-group row">
                <label for="name" class="col-sm-12">DPI<code style="font-size: 16px;"><sup>*</sup></code></label>
                <div class="input-group col-sm-12">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                      <i class="fas fa-address-card"></i>
                    </span>
                  </div>
                  <input type="number" class="form-control" formControlName="DPI" required>
                </div>
              </div>
            </div>
            <div class="col-md-1">
              <div class="form-group">
                <label for="addBtn" class="col-sm-12">&nbsp;</label>
                <button type="submit" class="btn text-white" style="background-color: #3473da"
                  [disabled]="!FormUpdateJuridicoMembers.valid"> Guardar</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-template>

<ng-template #infornetDocs let-modal>
    <div class="modal-header text-center">
        <h3 class="modal-title" id="editUserLabel">Documentos de Infornet</h3>
        <button id="updateMemberClose" type="button" class="close" (click)="modal.dismiss('cerrar')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">

        <div style="display: flex; flex-direction: column;">
            <div style="display: flex;flex-wrap: wrap;">
                <div *ngIf="infornetFiles == null || infornetFiles.length == 0">
                    <h4 class="card-title">No hay documentos</h4>
                </div>
                <table class="table table-responsive-xl table-striped mb-0  v-middle max-content">
                    <thead>
                        <tr>
                            <th scope="col" class="cell">Comentario</th>
                            <th scope="col">Archivo</th>
                            <th scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let doc of infornetFiles">
                            <td class="cell">{{doc.coment}}</td>
                            <td>
                        <tr>
                            <td style="width: max-content" [ngbTooltip]="doc.name_s3">{{doc.name_s3|namefile}}</td>
                        </tr>
                        </td>
                        <td>
                            <tr>
                                <td *ngIf="doc.is_visible == 1"><i style="cursor: pointer;" class="icon-eye"
                                        (click)="ViewReqDocInfornet(viewdocuments, doc)"></i></td>
                                <td><i style="cursor: pointer;" class="icon-cloud-download"
                                        (click)="DownloadInfornetFile(doc)"></i></td>
                                <td><i style="cursor: pointer;color:red" (click)="DeleteInfornetFile(doc)"
                                        class="icon-trash"></i></td>
                            </tr>
                        </td>
                        </tr>
                    </tbody>
                </table>


            </div>
            <div class="card-block">
                <form [formGroup]="FormInfornetFile" class="form-horizontal">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="form-group row">
                                    <label for="prod_serv_other_signers" class="col-sm-12">Comentario:</label>
                                    <div class="input-group col-sm-12">
                                        <textarea type="text" class="form-control" aria-label="mesage" id="mesage"
                                            formControlName="mesage" style="width: 50%" rows="10">
                                        </textarea>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>



                </form>
            </div>
            <div style="display: flex; justify-content: center; align-items: center;">

                <input type="file" [id]="'exampleInputFile'+i" style="display: none;"
                    [disabled]="!FormInfornetFile.valid" (change)="uploadInfornetImage($event,doc,'s'+i)"
                    accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.xls,.xlsx,.pdf,image/*" />
                <button class="btn mb-2 text-white custom_add1 btn-sm" [disabled]="!FormInfornetFile.valid"
                    style="display: block;">
                    <label [for]="'exampleInputFile'+i"> <i class=" far fa-edit mr-3"></i>Subir archivo</label>
                </button>
            </div>

        </div>


    </div>
</ng-template>

<div class="absolute-alert-div">
    <ngb-alert *ngIf="FiduciaryinOnu && FiduciaryinOnu.length > 0" [dismissible]="true" type="danger" class="absolute-alert">
        <div class="row mb-2">
            <div class="col-1">
                <h2><i class="icon-shield color-danger"></i></h2>
            </div>
            <div class="col-11">
                <h4>El cliente tienen avales con coincidencia en la lista onu:</h4>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <ul style="list-style: none;">
                    <li *ngFor="let fiduciary of FiduciaryinOnu">
                        Nombre: {{fiduciary.name}}{{fiduciary.business ? ", de la empresa " + fiduciary.business : ""}}
                    </li>
                </ul>
            </div>
        </div>
    </ngb-alert>
</div>
