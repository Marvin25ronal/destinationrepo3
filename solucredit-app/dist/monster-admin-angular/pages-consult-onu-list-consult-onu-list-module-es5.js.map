{"version":3,"sources":["webpack:///src/app/pages/consult-onu-list/consult-onu-list.component.html","webpack:///src/app/pages/consult-onu-list/consult-onu-list.component.ts","webpack:///src/app/pages/consult-onu-list/consult-onu-list.module.ts"],"names":["ConsultOnuListComponent","mysqlService","toastr","router","spinner","page","pageSize","binnaclelist","tempdata","formfilter","inital_date","required","final_date","di","df","filter","x","creation_date","filterdate","value","show","GetONUList","toPromise","then","res","data","hide","err","console","log","error","_searchTerm","val","FilterdataDate","selector","templateUrl","styleUrls","routes","path","title","urls","url","component","DashboardModule","forChild","forRoot","imports","declarations","schemas"],"mappings":"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","file":"pages-consult-onu-list-consult-onu-list-module-es5.js","sourcesContent":["<div class=\"col-12\">\r\n    <div class=\"card card-body\">\r\n        <ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-scale-multiple\">\r\n            <p style=\"font-size: 20px; color:#fff\">Cargando Información...</p>\r\n        </ngx-spinner>\r\n        <div class=\"d-flex mb-3 mt-3\">\r\n            <form class=\"m-t-20\" [formGroup]=\"formfilter\" (ngSubmit)=\"FilterdataDate()\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12 col-lg-5\">\r\n                        <div class=\"form-group row\">\r\n                            <label for=\"inital_date\" class=\"col-sm-12\">Fecha inicial</label>\r\n                            <div class=\"input-group col-sm-12\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                        <i class=\"far fa-calendar-alt\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <input type=\"date\" class=\"form-control\" id=\"inital_date\" formControlName=\"inital_date\"\r\n                                    required >\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-12 col-lg-5\">\r\n                        <div class=\"form-group row\">\r\n                            <label for=\"final_date\" class=\"col-sm-12\">Fecha final</label>\r\n                            <div class=\"input-group col-sm-12\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                        <i class=\"far fa-calendar-alt\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <input type=\"date\" class=\"form-control\" id=\"final_date\" formControlName=\"final_date\"\r\n                                    required>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-sm-12 col-lg-2\">\r\n                        <div class=\"form-group row\">\r\n                            <button type=\"submit\" class=\"btn btn-raised mr-1 text-white m-t-30\" style=\"background-color: #3473da;\" [disabled]=\"!formfilter.valid\">Filtrar</button>\r\n                        </div>\r\n                    </div>\r\n                </div>                    \r\n            </form>\r\n        </div>\r\n        <div class=\"table-responsive table-bordered\">\r\n            <table class=\"table table-striped mb-0 no-wrap v-middle\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Fecha</th>\r\n                        <th scope=\"col\">Descripción</th>\r\n                        <th scope=\"col\">Conteo de personas</th>\r\n                        <th scope=\"col\">Conteo de coincidencias</th>\r\n                        <th scope=\"col\">Usuario</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        <tr *ngFor=\"let request of binnaclelist | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize\">\r\n        \r\n                            <td class=\"text-center\">\r\n                                {{request.creation_date | date: 'dd/MM/yyyy'}}\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                                <ngb-highlight [result]=\"request.description\" [term]=\"searchTerm\"></ngb-highlight>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                                <ngb-highlight [result]=\"request.number_of_records\"></ngb-highlight>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                                <ngb-highlight [result]=\"request.match_count\"></ngb-highlight>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                                <ngb-highlight [result]=\"request.username\" [term]=\"searchTerm\"></ngb-highlight>\r\n                            </td>\r\n                        </tr>\r\n                </tbody>\r\n                </table>\r\n                <div class=\"d-flex justify-content-center p-2\">\r\n                    <ngb-pagination *ngIf=\"binnaclelist\" [maxSize]=\"5\" [collectionSize]=\"binnaclelist.length\" [(page)]=\"page\"\r\n                        [pageSize]=\"pageSize\">\r\n                    </ngb-pagination>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { MysqlService } from \"../../services/mysql/mysql.service\";\r\n\r\n@Component({\r\n  selector: \"app-consult-onu-list\",\r\n  templateUrl: \"./consult-onu-list.component.html\",\r\n  styleUrls: [\"./consult-onu-list.component.css\"],\r\n})\r\nexport class ConsultOnuListComponent implements OnInit {\r\n  dataAllCustomer;\r\n  dataCountRequest;\r\n  page = 1;\r\n  pageSize = 10;\r\n  binnaclelist = [];\r\n  tempdata = [];\r\n\r\n  constructor(\r\n    private mysqlService: MysqlService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService\r\n  ) {}\r\n\r\n  formfilter = new FormGroup({\r\n    inital_date: new FormControl(\"\", [Validators.required]),\r\n    final_date: new FormControl(\"\", [Validators.required]),\r\n  });\r\n\r\n  _searchTerm: string;\r\n  get searchTerm(): string {\r\n    return this._searchTerm;\r\n  }\r\n  set searchTerm(val: string) {\r\n    this._searchTerm = val;\r\n  }\r\n\r\n  filterdate(di: string, df: string) {\r\n    if (di !== \"\" && df !== \"\") {\r\n      return this.binnaclelist.filter(\r\n        (x) => x.creation_date >= di && x.creation_date <= df\r\n      );\r\n    }\r\n  }\r\n\r\n  async FilterdataDate() {\r\n    this.binnaclelist = this.tempdata;\r\n    this.binnaclelist = this.filterdate(\r\n      this.formfilter.value.inital_date,\r\n      this.formfilter.value.final_date\r\n    );\r\n  }\r\n\r\n  async GetONUList() {\r\n    this.spinner.show();\r\n    await this.mysqlService\r\n      .GetONUList()\r\n      .toPromise()\r\n      .then((res) => {\r\n        this.binnaclelist = res.data;\r\n        this.tempdata = res.data;\r\n        this.spinner.hide();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"error\", err);\r\n        this.toastr.error(\"Problemas con el servidor.\", \"Oops!\");\r\n        this.spinner.hide();\r\n      });\r\n  }\r\n\r\n  async ngOnInit() {\r\n    await this.GetONUList();\r\n  }\r\n}\r\n","import { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { ConsultOnuListComponent } from \"./consult-onu-list.component\";\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from \"@angular/core\";\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { QuillModule } from \"ngx-quill\";\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    data: {\r\n      title: \"Consulta de listados de la ONU\",\r\n      urls: [\r\n        { title: \"Tablero\", url: \"/dashboard\" },\r\n        { title: \"Consulta listas ONU\" },\r\n      ],\r\n    },\r\n    component: ConsultOnuListComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes),\r\n    NgbModule,\r\n    NgxSpinnerModule,\r\n    QuillModule.forRoot(),\r\n  ],\r\n  declarations: [ConsultOnuListComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n})\r\nexport class DashboardModule {}\r\n"]}