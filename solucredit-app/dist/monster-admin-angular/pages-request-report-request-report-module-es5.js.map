{"version":3,"sources":["webpack:///src/app/pages/request-report/request-report.component.html","webpack:///src/app/pages/request-report/request-report.component.ts","webpack:///src/app/pages/request-report/request-report.module.ts","webpack:///src/app/pages/request-report/servicio/request-report.service.ts"],"names":["RequestReportComponent","_service","spinner","notifier","mysqlService","datepipe","valores1","value","text","valores2","vals","config","label","tipo","range","labelsAux","options","restart","header","selectedRequestType","selectedCustomerFilter","selectCustomerSearch","dataList","metadata","data","pageSize","page","totalData","show","getRequests","pipe","count","hide","err","notify","console","log","subscribe","deviceValue","e","searchField","searchItem","push","fecini","year","month","day","fecend","date","Date","datestring","transform","DownloadXlsx","search","xlsxDownload","onfilterChange1","onfilterChange2","pageChange","selector","templateUrl","styleUrls","routes","path","title","urls","url","component","RequestReporteModule","forChild","imports","declarations","providers","httpOptions","headers","responseType","observe","RequestService","http","limit","offset","uri","urlRequest","length","i","get","response","body","providedIn"],"mappings":"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","file":"pages-request-report-request-report-module-es5.js","sourcesContent":["<div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n        <ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-scale-multiple\">\r\n            <p style=\"font-size: 20px; color:#fff\">Cargando Información...</p>\r\n        </ngx-spinner>\r\n        <!--- pagination Table -->\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n\r\n\r\n                <app-reportfilters (onFilter)=\"search($event)\" (onCreateExcel)=\"xlsxDownload($event)\" [config]=\"config\" [(vals)]=\"vals\" [dataset1]='valores1' [dataset3]='valores2' (onChange1)=\"onfilterChange1($event)\" (onChange3)=\"onfilterChange2($event)\"></app-reportfilters>\r\n\r\n                <table class=\"table table-striped border mt-4\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th *ngFor=\"let header of dataList.metadata\">\r\n                                <div class=\"text-center\">\r\n                                    {{header}}\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let req of dataList.data\">\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.customer_id}}\r\n                                </div>\r\n                            </td>\r\n                            <td>{{req.name}}</td>\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.nit}}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.request_id}}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.documents | reqreportdocs}}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">    \r\n                                    {{req.warranties |reqreportdocs}}\r\n                                </div>        \r\n                            </td>\r\n                            <td>\r\n                                    <div class=\"text-center\">\r\n                                    {{req.status| reqreportstatus }}\r\n                                    </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.type | reqreporttype}}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">\r\n                                    {{req.create_date | date: 'dd/MM/yyyy'}}\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"text-center\">        \r\n                                    {{req.verifications |reqreportdocs}}\r\n                                </div>\r\n                            </td>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n\r\n                <div class=\"d-flex justify-content-center p-2\">\r\n                    <ngb-pagination [collectionSize]=\"this.totalData\" [pageSize]=\"pageSize\" [(page)]=\"page\" aria-label=\"Default pagination\" (pageChange)=\"pageChange($event)\" [boundaryLinks]=\"true\" [maxSize]=\"7\"></ngb-pagination>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--- End pagination Table -->\r\n\r\n    </div>\r\n</div>\r\n<notifier-container></notifier-container>","import { Component, OnInit } from '@angular/core';\r\nimport { PaginationTableData } from '../../interfaces/ui/pagination-table.interface';\r\nimport { NgbDateStruct, NgbCalendar, NgbDateAdapter, NgbDateNativeAdapter, NgbDate } from '@ng-bootstrap/ng-bootstrap';\r\nimport { RequestService } from './servicio/request-report.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { map, catchError } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\nimport { NotifierService } from 'angular-notifier';\r\nimport { MysqlService } from '../../services/mysql/mysql.service';\r\nimport { DatePipe } from '@angular/common'\r\n@Component({\r\n  selector: 'app-request-report',\r\n  templateUrl: './request-report.component.html',\r\n  styleUrls: ['./request-report.component.scss']\r\n})\r\nexport class RequestReportComponent implements OnInit {\r\n\r\n  constructor(private _service: RequestService, private spinner: NgxSpinnerService, private notifier: NotifierService, private mysqlService: MysqlService,public datepipe: DatePipe) { }\r\n\r\n  //-------FILTER-COMPONENT STUFFFF------\r\n  valores1: any[] = [\r\n    { value: 0, text: \"Factoraje Tradicional\" },\r\n    { value: 1, text: \"Factoraje Especial\" },\r\n    { value: 3, text: \"Especiales\" },\r\n    { value: 4, text: \"Pronto Pago\" },\r\n    \r\n  ];\r\n  valores2: any[] = [\r\n    { value: 'NIT', text: \"nit\" },\r\n    { value: 'NAME', text: \"nombre\" },\r\n    \r\n  ];\r\n  \r\n  \r\n  vals: any[] = ['','','','...',null,null,];\r\n\r\n  config = [\r\n    {\r\n      label: ' Filtrar por tipo de solicitud',\r\n      tipo: 'DROPDOWN',\r\n      range: false,\r\n      labelsAux:['Tipo:']\r\n      \r\n    },\r\n    {\r\n      label: 'Filtrar por usuario ',\r\n      tipo: 'DROP_TEXT',\r\n      range: true,\r\n      labelsAux: ['Filtro:','Palabra']\r\n\r\n    },\r\n    {\r\n      label: 'Rango de fechas',\r\n      tipo: 'DATE',\r\n      range: true,\r\n      labelsAux: ['Fecha inicio:', 'Fecha fin:']\r\n\r\n    },\r\n    {\r\n      \r\n      tipo: 'OPTIONS',\r\n      options: {\r\n        restart: true,\r\n        header:true\r\n        \r\n      }\r\n\r\n    }\r\n  ]\r\n  //-------------\r\n\r\n\r\n\r\n\r\n  //model: NgbDateStruct;\r\n  //model2: NgbDateStruct;\r\n  date: { year: number; month: number };\r\n\r\n  selectedRequestType: any = \"\";\r\n  selectedCustomerFilter: any = \"\";\r\n  selectCustomerSearch: any = \"\";\r\n\r\n  dataList: PaginationTableData = {\r\n    metadata: [\r\n      \"ID Cliente\",\r\n      \"Nombre\",\r\n      \"Nit\",\r\n      \"ID solicitud\",\r\n      \"Documentos\",\r\n      \"Garantias\",\r\n      \"Estado\",\r\n      \"Tipo\",\r\n      \"Fecha de creacion\",\r\n      \"Verificaciones\"\r\n\r\n\r\n    ],\r\n    data: []\r\n  };\r\n  pageSize = 10;\r\n  page = 1;\r\n  totalData = 0;\r\n\r\n  ngOnInit(): void {\r\n    this.spinner.show();\r\n    this._service.getRequests(this.pageSize, 0, [], []).pipe(\r\n      map((data) => {\r\n        this.dataList.data = data.data;\r\n        this.totalData = data.count;\r\n        this.spinner.hide();\r\n\r\n\r\n\r\n      }),\r\n      catchError((err) => {\r\n        this.notifier.notify('error', 'Ocurrio un problema con la conexion' + err);\r\n        console.log(err);\r\n        this.spinner.hide();\r\n        return of();\r\n      })\r\n\r\n    ).subscribe((data) => {\r\n\r\n\r\n\r\n    })\r\n  }\r\n  onChangeCategory1(deviceValue) {\r\n\r\n    this.selectedRequestType = deviceValue;\r\n    /* if (this.selectUser != \"\") {\r\n      this.getLogs([this.selectUser]);\r\n    }\r\n    else {\r\n      this.getLogs(\"\");\r\n    } */\r\n\r\n  }\r\n  onChangeCategory2(deviceValue) {\r\n\r\n    this.selectedCustomerFilter = deviceValue;\r\n    /*  if (this.selectUser != \"\") {\r\n       this.getLogs([this.selectUser]);\r\n     }\r\n     else {\r\n       this.getLogs(\"\");\r\n     } */\r\n\r\n  }\r\n\r\n\r\n  async xlsxDownload(e){\r\n    /*let searchField = [];\r\n    let searchItem = [];\r\n    if (this.model && this.model2) {\r\n      searchField.push('FECINI');\r\n      let fecini = this.model.year + '-' + this.model.month + '-' + this.model.day + ' 00:00:00';\r\n      searchItem.push(fecini);\r\n      searchField.push('FECEND');\r\n      let fecend = this.model2.year + '-' + this.model2.month + '-' + this.model2.day + ' 23:59:59';\r\n      searchItem.push(fecend);\r\n    }\r\n\r\n\r\n    if (this.selectedRequestType != \"\") {\r\n      searchField.push('TYPE');\r\n      searchItem.push(this.selectedRequestType);\r\n    }\r\n    if (this.selectedCustomerFilter != \"\" && this.selectCustomerSearch != \"\") {\r\n      searchField.push(this.selectedCustomerFilter);\r\n      searchItem.push('%' + this.selectCustomerSearch + '%');\r\n    }*/\r\n    \r\n\r\n    let searchField = [];\r\n    let searchItem = [];\r\n    console.log('SEARCH:: ');\r\n    console.log(e);\r\n    if (this.vals[4] && this.vals[5]) {\r\n      searchField.push('FECINI');\r\n      let fecini = this.vals[4].year + '-' + this.vals[4].month + '-' + this.vals[4].day + ' 00:00:00';\r\n      searchItem.push(fecini);\r\n      searchField.push('FECEND');\r\n      let fecend = this.vals[5].year + '-' + this.vals[5].month + '-' + this.vals[5].day + ' 23:59:59';\r\n      searchItem.push(fecend);\r\n    }\r\n\r\n\r\n    if (this.vals[0] != \"\" ) {\r\n      searchField.push('TYPE');\r\n      searchItem.push(this.vals[0]);\r\n    }\r\n    if (this.vals[2] != \"\" && this.vals[3] != \"\") {\r\n      searchField.push(this.vals[2]);\r\n      searchItem.push('%' + this.vals[3] + '%');\r\n    }\r\n    \r\n    let date= new Date();\r\n    let datestring =this.datepipe.transform(date, 'yyyy-MM-dd HH:MM:ss');\r\n    await this.mysqlService\r\n      .DownloadXlsx('ReporteSolicitudes'+datestring, searchItem, searchField);\r\n\r\n  }\r\n\r\n  search(e) {\r\n    let searchField = [];\r\n    let searchItem = [];\r\n    console.log('SEARCH:: ');\r\n    console.log(e);\r\n    if (this.vals[4] && this.vals[5]) {\r\n      searchField.push('FECINI');\r\n      let fecini = this.vals[4].year + '-' + this.vals[4].month + '-' + this.vals[4].day + ' 00:00:00';\r\n      searchItem.push(fecini);\r\n      searchField.push('FECEND');\r\n      let fecend = this.vals[5].year + '-' + this.vals[5].month + '-' + this.vals[5].day + ' 23:59:59';\r\n      searchItem.push(fecend);\r\n    }\r\n\r\n\r\n    if (this.vals[0] != \"\" ) {\r\n      searchField.push('TYPE');\r\n      searchItem.push(this.vals[0]);\r\n    }\r\n    if (this.vals[2] != \"\" && this.vals[3] != \"\") {\r\n      searchField.push(this.vals[2]);\r\n      searchItem.push('%' + this.vals[3] + '%');\r\n    }\r\n\r\n    this._service.getRequests(this.pageSize, (this.page - 1) * this.pageSize, searchItem, searchField).pipe(\r\n      map((data) => {\r\n        this.dataList.data = data.data;\r\n        this.totalData = data.count;\r\n        this.spinner.hide();\r\n\r\n\r\n\r\n      }),\r\n      catchError((err) => {\r\n        this.notifier.notify('error', 'Ocurrio un problema con la conexion' + err);\r\n        console.log(err);\r\n        this.spinner.hide();\r\n        return of();\r\n      })\r\n\r\n    ).subscribe((data) => {\r\n\r\n\r\n\r\n    })\r\n\r\n  }\r\n  pageChange(e) {\r\n    //console.log(e);\r\n\r\n    this.search(e);\r\n  }\r\n\r\n  onfilterChange1(e) { \r\n    console.log('onfilterChange1:' + e);\r\n    console.log(this.vals);\r\n  }\r\n  onfilterChange2(e) {\r\n    console.log('onfilterChange2:' + e);\r\n    console.log(this.vals);\r\n  }\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RequestReportComponent } from './request-report.component';\r\n//import { ComponentsModule } from '../../component/component.module';\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n//import { UserModule } from '../user/user.module'\r\nimport { NotifierModule } from 'angular-notifier';\r\nimport { PipesModule } from '../../pipes/pipes.module'\r\nimport { RequestService } from './servicio/request-report.service'\r\nimport { SharedModule } from '../../shared/shared.module'\r\n\r\nconst routes: Routes = [\r\n\r\n    {\r\n        path: '',\r\n        data: {\r\n            title: 'Reporte de solicitudes',\r\n            urls: [\r\n                { title: 'Reporte solicitudes', url: '/solicitudes-reporte' },\r\n                { title: 'Reporte solicitudes' }\r\n            ]\r\n        },\r\n        component: RequestReportComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [FormsModule, CommonModule, NgbModule, NgxSpinnerModule, NotifierModule, PipesModule, SharedModule,RouterModule.forChild(routes)],\r\n    declarations: [RequestReportComponent],\r\n    providers: [RequestService]\r\n})\r\nexport class RequestReporteModule { }","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\r\nimport { Observable, throwError, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { GetRequestReportResponse, RequestReportResponse } from '../../../interfaces/request-report.interface';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n\r\nconst httpOptions = {\r\n    headers: new HttpHeaders(\r\n        {\r\n            'Content-Type': 'application/json',\r\n            /* 'Access-Control-Allow-Credentials': 'true' */\r\n        }),\r\n    responseType: 'json' as const,\r\n    //withCredentials: true as const,  \r\n    observe: 'response' as const\r\n};\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class RequestService {\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getRequests(limit: number, offset: number, searchItem: string[], searchField: string[]): Observable<RequestReportResponse> {\r\n\r\n        let uri = `${environment.urlRequest}?limit=${limit}&offset=${offset}`;\r\n        if (searchItem.length != 0) { for (let i = 0; i < searchItem.length; i++) { uri = uri + `&searchItem=${searchItem[i]}`; } }\r\n        if (searchField.length != 0) { for (let i = 0; i < searchField.length; i++) { uri = uri + `&searchField=${searchField[i]}`; } }\r\n        return this.http.get<GetRequestReportResponse>(uri, httpOptions).pipe(\r\n            map((response) => {\r\n\r\n                return response.body.data;\r\n\r\n            })\r\n        )\r\n\r\n    }\r\n}\r\n"]}