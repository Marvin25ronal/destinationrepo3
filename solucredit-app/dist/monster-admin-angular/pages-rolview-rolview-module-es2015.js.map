{"version":3,"sources":["./src/app/pages/rolview/rolview.component.ts","./src/app/pages/rolview/rolview.component.html","./src/app/pages/rolview/rolview.module.ts","./src/app/services/rolview.service.ts"],"names":[],"mappings":"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","file":"pages-rolview-rolview-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { async } from '@angular/core/testing';\r\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { RolviewService } from 'src/app/services/rolview.service';\r\nimport { RolService } from '../rol/services/rol.service';\r\n\r\n@Component({\r\n  selector: 'app-rolview',\r\n  templateUrl: './rolview.component.html',\r\n  styleUrls: ['./rolview.component.scss']\r\n})\r\nexport class RolviewComponent implements OnInit {\r\n  spinnerMessage = 'Cargando Información...';\r\n  placeholder = 'Buscar rol';\r\n  search = new FormGroup({\r\n    q: new FormControl(''),\r\n  })\r\n  pageSize = 10;\r\n  page = 1;\r\n  dataActivities = []\r\n  countActivities = 0\r\n  actualActivity;\r\n  isEditing = false;\r\n  showViews = []\r\n  public isCalculatinPermissions: boolean;\r\n  public isLoadingInEdition: boolean;\r\n  allViews: any[] = []\r\n  RolForm = this.fb.group({\r\n    RolName: ['', [Validators.required]],\r\n    Permissions: new FormArray([])\r\n  });\r\n  allCheckForm: any[] = []\r\n  constructor(\r\n    private _rolViewService: RolviewService,\r\n    private spinner: NgxSpinnerService,\r\n    private modalService: NgbModal,\r\n    public fb: FormBuilder,\r\n    private _rolservice: RolService\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    this.spinner.show()\r\n    await this.getInfo()\r\n    this.spinner.hide()\r\n    this.isLoadingInEdition = false;\r\n    console.log(this.dataActivities)\r\n    await this.getAllViews()\r\n  }\r\n  async getInfo() {\r\n    this.spinner.show()\r\n    await this.getActivities()\r\n    await this.getCountRoles()\r\n    await this.getViews()\r\n    await this.getAllViews()\r\n    this.spinner.hide()\r\n    debugger\r\n    return\r\n  }\r\n  async getAllViews() {\r\n    await this._rolViewService.getAllViews().toPromise()\r\n      .then((response) => {\r\n        this.allViews = response\r\n      })\r\n    return\r\n  }\r\n  async getCountRoles() {\r\n    for (let i = 0; i < this.dataActivities.length; i++) {\r\n      //tenemos que ver cuantos roles tiene\r\n      await this._rolViewService.getCountRols(this.dataActivities[i].wf_activity_id).toPromise()\r\n        .then((response) => {\r\n          this.dataActivities[i].rols = response\r\n        })\r\n    }\r\n    return\r\n  }\r\n  async getViews() {\r\n    for (let i = 0; i < this.dataActivities.length; i++) {\r\n      //tenemos que ver cuantos roles tiene\r\n      await this._rolViewService.getCountViews(this.dataActivities[i].wf_activity_id).toPromise()\r\n        .then((response) => {\r\n\r\n          this.dataActivities[i].views = response.count\r\n          this.dataActivities[i].dataviews = response.views\r\n        })\r\n    }\r\n    return\r\n  }\r\n  async getActivities() {\r\n    let searchItem = [];\r\n\r\n    if (this.search.controls['q'].value != \"\") {\r\n      searchItem.push('%' + this.search.controls['q'].value + '%');\r\n    }\r\n    const res = await this._rolViewService.getRols(this.pageSize, (this.page - 1) * this.pageSize, searchItem).toPromise().then(\r\n      (response) => {\r\n        console.log(response)\r\n        this.dataActivities = response.rolviews\r\n        this.countActivities = response.count\r\n      }\r\n    )\r\n    return res\r\n  }\r\n  filter() {\r\n    this.getInfo()\r\n  }\r\n  canCreate(): boolean {\r\n    return true\r\n  }\r\n  canList(): boolean {\r\n    return true\r\n  }\r\n  canDelete(): boolean {\r\n    return true\r\n  }\r\n  canView(): boolean {\r\n    return true\r\n  }\r\n  canEdit(): boolean {\r\n    return true\r\n  }\r\n  pageChange(e) {\r\n    //console.log(e);\r\n    this.getInfo();\r\n  }\r\n  openModal(targetModal) {\r\n    this.modalService.open(targetModal, {\r\n      centered: true,\r\n      backdrop: 'static',\r\n      keyboard: false,\r\n      windowClass: 'my-modal',\r\n      size: \"xl\",\r\n      /* size: 'sm' */\r\n      // size: \"lg\",\r\n      // windowClass: 'my-modal'\r\n    });\r\n  }\r\n  closeBtnClick() {\r\n    this.modalService.dismissAll();\r\n    // this.newRolForm.reset();\r\n    // this.RolForm.reset();\r\n    // this.IdRoltoDelete = '';\r\n    this.ngOnInit();\r\n    // this.isEditing = false;\r\n  }\r\n  editar(rol, modal) {\r\n    debugger\r\n    this.isLoadingInEdition = true;\r\n    this.isEditing = false;\r\n    this.actualActivity = rol\r\n    this.RolForm.controls.RolName.setValue(rol.name)\r\n    this.RolForm.controls.RolName.disable();\r\n    //obtenemos las vistas\r\n    this._rolViewService.getShowViews(rol.wf_activity_id).toPromise().then((response) => {\r\n      debugger\r\n      console.log('SHOW VIEWS')\r\n      console.log(response)\r\n      this.showViews = response\r\n      for (let i = 0; i < response.length; i++) {\r\n        this._rolViewService.getRolForViews(rol.wf_activity_id, response[i].wf_view_id).toPromise().then((response2) => {\r\n          debugger\r\n          this.showViews[i].rol = response2\r\n        })\r\n      }\r\n    })\r\n    console.log(this.showViews)\r\n    this.isLoadingInEdition = false;\r\n    this.openModal(modal)\r\n  }\r\n  getDefault(activity) {\r\n    let find = activity.dataviews?.find((item) => item.is_default == 1)\r\n    if (find) {\r\n      let find2 = this.allViews.find((item) => item.wf_view_id == find.wf_view_id)\r\n      if (find2)\r\n        return find2.name\r\n      return 'Cargando'\r\n    } else {\r\n      return 'No asignada'\r\n    }\r\n  }\r\n  getNameView(find) {\r\n    let find2 = this.allViews.find((item) => item.wf_view_id == find.wf_view_id)\r\n    return find2.name\r\n  }\r\n  changeDefault(activity, value) {\r\n    console.log(activity)\r\n    this._rolViewService.changeDefault(activity.wf_activity_id, activity.wf_view_id, value).toPromise().then((response) => {\r\n      console.log(response)\r\n      this.closeBtnClick()\r\n    }).catch((e) => {\r\n      console.log('error')\r\n    })\r\n  }\r\n  async startMod() {\r\n    this.isEditing = true\r\n    this.isLoadingInEdition = true;\r\n    this.isCalculatinPermissions = true;\r\n    let allrols = []\r\n    await this._rolservice.getRols(10000, 0, [], []).toPromise().then((response) => {\r\n      allrols = response.data\r\n      allrols.push({\r\n        name: null,\r\n        rol_id: -1\r\n      })\r\n    })\r\n    //tenemos que replicar por todos las vistas\r\n    let allviews: any = this.allViews\r\n\r\n    for (let i = 0; i < allviews.length; i++) {\r\n      //Tenemos que buscar las vistas y por cada vista ver los roles que hacen match para ponerle check\r\n\r\n      let checks = []\r\n      //buscamos primero si la vista esta en los roles\r\n      let findview = this.showViews.find((item) => item.name == allviews[i].name)\r\n      let auxrols = findview ? findview.rol : []\r\n      for (let j = 0; j < allrols.length; j++) {\r\n        let rol = allrols[j]\r\n        //hacer match \r\n        let find = auxrols.find((item) => item.rol?.name == rol.name)\r\n        let check = {\r\n          name: rol.name,\r\n          id: rol.rol_id,\r\n          value: find ? true : false\r\n        }\r\n        checks.push(check)\r\n      }\r\n      allviews[i].checks = checks\r\n    }\r\n    this.allCheckForm = allviews\r\n    this.isCalculatinPermissions = false;\r\n    this.isLoadingInEdition = false;\r\n    console.log(this.allCheckForm)\r\n    return\r\n  }\r\n  onCheckChange(event, view, rol) {\r\n    console.log(view)\r\n    console.log(rol)\r\n    //cambiamos de valor\r\n    console.log(this.allCheckForm)\r\n\r\n    let findview = this.allCheckForm.findIndex((item: any) => item.wf_view_id == view.wf_view_id)\r\n    let check = this.allCheckForm[findview].checks.findIndex((item) => item.id == rol.id)\r\n\r\n    this.allCheckForm[findview].checks[check].value = event.target.checked\r\n  }\r\n  saveChanges() {\r\n    this.spinner.show();\r\n    this.spinnerMessage = 'Modificando rol...';\r\n    console.log(this.allCheckForm)\r\n    this._rolViewService.saveRols(this.allCheckForm, this.actualActivity.wf_activity_id).toPromise().then((response) => {\r\n      console.log(response)\r\n      this.spinnerMessage = 'Cargando Información...';\r\n      this.spinner.hide()\r\n      this.modalService.dismissAll()\r\n      this.getInfo()\r\n    })\r\n  }\r\n}\r\n","<div class=\"col-12\">\r\n    <div class=\"card card-body\">\r\n        <ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-scale-multiple\">\r\n            <p style=\"font-size: 20px; color:#fff\">{{spinnerMessage}}</p>\r\n        </ngx-spinner>\r\n\r\n        <div class=\"d-flex mb-3 mt-3 col-lg-12\">\r\n            <!-- <input type=\"text\" class=\"form-control w-25\" placeholder=\"Busca a un empleado\" [(ngModel)]='searchTerm'> -->\r\n            <div class=\"col-lg-3\">\r\n                <form [formGroup]=\"search\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12 col-lg-12\">\r\n                            <div class=\"form-group row\">\r\n                                <div class=\"input-group col-sm-12\">\r\n                                    <div class=\"input-group-prepend\">\r\n                                        <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                            <i class=\"ti-search\"></i>\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <input class=\"form-control\" formControlName=\"q\" (change)=\"filter()\"\r\n                                        [placeholder]=\"placeholder\" type=\"text\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"canList()\" class=\"table-responsive table-hover\">\r\n            <table class=\"table table-responsive-lg  v-middle white-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-center\" scope=\"col\">#</th>\r\n                        <th scope=\"col\" class=\"text-center\">Actividades</th>\r\n                        <th scope=\"col\" class=\"text-center\">Proceso</th>\r\n                        <th scope=\"col\" class=\"text-center\">Roles asignados</th>\r\n                        <th scope=\"col\" class=\"text-center\">Vistas asignadas</th>\r\n                        <th scope=\"col\" class=\"text-center\">Vista predeterminada</th>\r\n                        <th scope=\"col\" class=\"text-center\">Acciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let activity of dataActivities;let i=index;\">\r\n\r\n                        <!--  <td *ngIf=\"marcarvarios\" class=\"text-center\">\r\n                            {{rol.rol_id}}\r\n                        </td> -->\r\n                        <td class=\"text-center\">\r\n                            {{i+1}}\r\n                        </td>\r\n                        <td class=\"text-left\">\r\n                            {{activity.name}}\r\n                        </td>\r\n                        <td>\r\n                            {{activity.wf_workflow_id==1?'Pagaré':'Cupo'}}\r\n                        </td>\r\n                        <td>\r\n                            {{activity.rols}}\r\n                        </td>\r\n                        <td>\r\n                            {{activity.views}}\r\n                        </td>\r\n                        <td>\r\n                            {{getDefault(activity)}}\r\n                        </td>\r\n                        <td>\r\n                            <div class=\"div-table-actions\">\r\n                                <button *ngIf=\"canEdit()\" (click)=\"editar(activity,createModal)\"\r\n                                    class=\"btn  btn-color-solucredit\" type=\"button\"><span class=\"btn-label m-r-5\"><i\r\n                                            class=\"mdi mdi-eye-outline\"></i></span>Editar</button>\r\n                                <button *ngIf=\"canEdit()\" (click)=\"editar(activity,editview)\"\r\n                                    class=\"btn  btn-color-solucredit\" type=\"button\"><span class=\"btn-label m-r-5\"><i\r\n                                            class=\"fas fa-edit\"></i></span>Predeterminada</button>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"d-flex justify-content-center p-2\">\r\n\r\n                <ngb-pagination [collectionSize]=\"this.countActivities\" [pageSize]=\"pageSize\" [(page)]=\"page\"\r\n                    aria-label=\"Default pagination\" (pageChange)=\"pageChange($event)\"></ngb-pagination>\r\n            </div>\r\n            <!-- <div class=\"d-flex justify-content-center mt-5\">\r\n                <ngb-pagination [(page)]=\"page\" [pageSize]=\"pageSize\" [collectionSize]=\"userList.length\"></ngb-pagination>\r\n            </div> -->\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n<ng-template #editview let-modal>\r\n    <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"editUserLabel\">Vista predeterminada</h5>\r\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeBtnClick()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <div *ngIf=\"canList()\" class=\"table-responsive table-hover\">\r\n            <table class=\"table table-responsive-lg  v-middle white-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-center\" scope=\"col\">#</th>\r\n                        <th scope=\"col\" class=\"text-center\">Vista</th>\r\n                        <th scope=\"col\" class=\"text-center\">Acciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let activity of actualActivity.dataviews;let i=index;\">\r\n\r\n                        <!--  <td *ngIf=\"marcarvarios\" class=\"text-center\">\r\n                            {{rol.rol_id}}\r\n                        </td> -->\r\n                        <td class=\"text-center\">\r\n                            {{i+1}}\r\n                        </td>\r\n                        <td class=\"text-left\">\r\n                            {{getNameView(activity)}}\r\n                        </td>\r\n                        <td>\r\n                            <div class=\"div-table-actions\">\r\n                                <button *ngIf=\"canEdit() && activity.is_default==0\" (click)=\"changeDefault(activity,1)\"\r\n                                    class=\"btn  btn-color-solucredit\" type=\"button\"><span class=\"btn-label m-r-5\"><i\r\n                                            class=\"fas fa-plus\"></i></span>Agregar</button>\r\n                                <button *ngIf=\"canEdit()&& activity.is_default==1\" (click)=\"changeDefault(activity,0)\"\r\n                                    class=\"btn btn-danger\" type=\"button\"><span class=\"btn-label m-r-5\"><i\r\n                                            class=\"fas fa-times\"></i></span>Remover</button>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n<ng-template #createModal let-modal>\r\n    <div class=\"modal-header\">\r\n\r\n        <h5 class=\"modal-title\" id=\"editUserLabel\">Edicion de actividad</h5>\r\n\r\n        <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"closeBtnClick()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n\r\n    </div>\r\n    <div class=\"modal-body\">\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <ngx-spinner [name]=\"'spnn'\" bdColor=\"rgba(0, 0, 0, 0.8) \" size=\"medium \" color=\"#759ee0 \"\r\n                    type=\"ball-atom \" [fullScreen]=\"false \">\r\n                    <p style=\"color: white \"> Cambiando Estatus ... </p>\r\n                </ngx-spinner>\r\n                <ng-container [ngSwitch]=\"actualActivity\">\r\n                    <ng-container *ngSwitchCase=\"null\">\r\n                        <h6>Cargando</h6>\r\n                    </ng-container>\r\n                    <ng-container *ngSwitchDefault>\r\n                        <form [formGroup]=\"RolForm\">\r\n                            <div class=\"form-group row\">\r\n                                <label for=\"fname\"\r\n                                    class=\"col-sm-3 text-right control-label col-form-label\">Nombre</label>\r\n                                <div class=\"col-sm-9\">\r\n                                    <div class=\"input-group col-sm-12\">\r\n                                        <div class=\"input-group-prepend \">\r\n                                            <span class=\"input-group-text \" id=\"basic-addon1\">\r\n                                                <i class=\" icon-note\"></i>\r\n                                            </span>\r\n                                        </div>\r\n\r\n                                        <input [value]=\"actualActivity.name\" formControlName=\"RolName\" type=\"text\"\r\n                                            class=\"form-control\" id=\"fname\" placeholder=\"nombre del nuevo rol\">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </form>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"card-body div-con-flex-col\">\r\n                                <app-spinner *ngIf=\"isLoadingInEdition\"></app-spinner>\r\n                                <div *ngIf=\"!isEditing &&!isLoadingInEdition\" class=\"col-sm-12\">\r\n                                    <h3>Permisos</h3>\r\n                                    <nz-tabset nzSize=\"large\">\r\n                                        <nz-tab [nzTitle]=\"dat.name\" *ngFor=\"let dat of showViews;let i = index \">\r\n                                            <div class=\"bitacora-layout\">\r\n\r\n                                                <div class=\"table-responsive table-hover\">\r\n                                                    <table class=\"table table-responsive-lg v-middle white-table\">\r\n                                                        <tbody>\r\n                                                            <tr *ngFor=\"let permission of dat.rol\">\r\n\r\n                                                                <td width=\"150\">\r\n                                                                    <div class=\"text-left\">\r\n                                                                        <label style=\"font-size:16px\">\r\n                                                                            {{permission.rol==null?'Usuario':permission.rol.name}}\r\n                                                                        </label>\r\n                                                                    </div>\r\n                                                                </td>\r\n\r\n\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        </nz-tab>\r\n                                    </nz-tabset>\r\n\r\n                                </div>\r\n                                <div *ngIf=\"isEditing &&!isCalculatinPermissions\" class=\"col-sm-12\">\r\n                                    <h3>Permisos</h3>\r\n                                    <nz-tabset nzSize=\"large\">\r\n                                        <nz-tab [nzTitle]=\"dat.name\" *ngFor=\"let dat of allCheckForm;let i = index \">\r\n                                            <div class=\"bitacora-layout\">\r\n\r\n                                                <div class=\"table-responsive table-hover\">\r\n                                                    <table\r\n                                                        class=\"table table-responsive-lg no-wrap v-middle white-table\">\r\n                                                        <tbody>\r\n                                                            <tr *ngFor=\"let data of dat.checks\">\r\n                                                                <td *ngIf=\"isEditing && !isCalculatinPermissions\"\r\n                                                                    width=\"50\" class=\"text-center\">\r\n                                                                    <label>\r\n                                                                        <input type=\"checkbox\" [checked]=\"data.value\"\r\n                                                                            [value]=\"data.id\"\r\n                                                                            (change)=\"onCheckChange($event,dat,data)\">\r\n                                                                    </label>\r\n\r\n                                                                </td>\r\n                                                                <td width=\"150\">\r\n                                                                    <div class=\"text-left\">\r\n                                                                        <label style=\"font-size:16px\">\r\n                                                                            {{data.name==null?'USUARIO':data.name}}\r\n                                                                        </label>\r\n                                                                    </div>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        </nz-tab>\r\n                                    </nz-tabset>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <div class=\"form-group m-b-0 text-right\">\r\n                                <button *ngIf=\"!isEditing\" type=\"submit\" class=\"btn btn-color-solucredit\"\r\n                                    (click)=\"startMod()\">Modificar</button>\r\n                                <button *ngIf=\"isEditing\" type=\"button\" class=\"btn btn-color-solucredit\"\r\n                                    (click)=\"saveChanges()\">Guardar cambios</button>\r\n                                <button *ngIf=\"isEditing\" type=\"button\"\r\n                                    class=\"btn btn-raised mr-1 text-white btn-color-solucredit-secondary\"\r\n                                    (click)=\"closeBtnClick()\">Cancelar</button>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </ng-container>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</ng-template>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RolviewComponent } from './rolview.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NotifierModule } from 'angular-notifier';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\nimport { NgxSpinnerModule } from 'ngx-spinner';\r\n\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { SpinnerComponent } from '../rol/spinner/spinner.component';\r\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\r\n\r\nconst routes: Routes = [\r\n\r\n  {\r\n    path: '',\r\n    data: {\r\n      title: 'Roles',\r\n      urls: [\r\n        { title: 'Roles', url: '/rolview' },\r\n        { title: 'Listado de Roles' }\r\n\r\n      ]\r\n    },\r\n    component: RolviewComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [RolviewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgbModule,\r\n    NotifierModule,\r\n    NgxSpinnerModule,\r\n    SharedModule,\r\n    ReactiveFormsModule,\r\n    PipesModule,\r\n    NgMultiSelectDropDownModule,\r\n    RouterModule.forChild(routes),\r\n    NzTabsModule,\r\n  ]\r\n})\r\nexport class RolviewModule { }\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\nimport { GetWF_DocumentResponse } from '../models/wf_document.model';\r\nconst httpOptions = {\r\n  headers: new HttpHeaders(\r\n    {\r\n      'Content-Type': 'application/json',\r\n      /* 'Access-Control-Allow-Credentials': 'true' */\r\n    }),\r\n  responseType: 'json' as const,\r\n  //withCredentials: true as const,  \r\n  observe: 'response' as const\r\n};\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RolviewService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n  getRols(limit: number, offset: number, searchItem: string[]) {\r\n    let uri = `${environment.urlRolView}?limit=${limit}&offset=${offset}`\r\n    if (searchItem.length != 0) { for (let i = 0; i < searchItem.length; i++) { uri = uri + `&searchItem=${searchItem[i]}`; } }\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  getCountRols(id: number) {\r\n    let uri = `${environment.urlRolView}/${id}`\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  getCountViews(id: number) {\r\n    let uri = `${environment.urlRolView}/view/${id}`\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  getAllViews() {\r\n    let uri = `${environment.urlRolView}/allviews`\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  getShowViews(activity_id: number) {\r\n    let uri = `${environment.urlRolView}/getShowViews/${activity_id}`\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  getRolForViews(activity_id: number, view_id: number) {\r\n    let uri = `${environment.urlRolView}/rolview/${activity_id}/${view_id}`\r\n    return this.http.get<any>(uri, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  saveRols(rols: any, activity_id: number) {\r\n    let uri = `${environment.urlRolView}/saverols`\r\n    let format = {\r\n      rols,\r\n      activity_id\r\n    }\r\n    return this.http.post<any>(uri, format, httpOptions).pipe(\r\n      map((response) => {\r\n        return response.body.data\r\n      })\r\n    )\r\n  }\r\n  changeDefault(activity_id,view_id, value: number) {\r\n    let uri = `${environment.urlRolView}/changedefault`\r\n    let format = {\r\n      activity_id,\r\n      view_id,\r\n      value\r\n    }\r\n    return this.http.put<any>(uri,format,httpOptions)\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}