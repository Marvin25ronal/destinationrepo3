{"version":3,"sources":["webpack:///src/app/pages/log-unlock-lock-customer-onu/log-unlock-lock-customer-onu.component.html","webpack:///src/app/pages/log-unlock-lock-customer-onu/log-unlock-lock-customer-onu.component.ts","webpack:///src/app/pages/log-unlock-lock-customer-onu/log-unlock-lock-customer-onu.module.ts"],"names":["LogUnlockLockCustomerOnuComponent","modalService","mysqlService","toastr","router","spinner","autorization","data","page","pageSize","GetVerificationList","v","filter","x","customer","name","toLowerCase","indexOf","onu","FIRST_NAME","SECOND_NAME","customer_id","DATAID","show","GetLogsUnlockLockCustomerOnu","toPromise","then","res","console","log","hide","err","error","_searchTerm","val","selector","templateUrl","styleUrls","routes","path","title","urls","url","component","LogUnlockLockCustomerOnu","forChild","forRoot","imports","schemas","declarations"],"mappings":"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","file":"pages-log-unlock-lock-customer-onu-log-unlock-lock-customer-onu-module-es5.js","sourcesContent":["<div class=\"col-12\">\r\n    <div class=\"card card-body\">\r\n        <ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-scale-multiple\">\r\n            <p style=\"font-size: 20px; color:#fff\">Cargando Información...</p>\r\n        </ngx-spinner>\r\n        <ngx-spinner name=\"busuario\" bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-atom\">\r\n            <p style=\"font-size: 20px;color: white\"> Bloqueando usuario ... </p>\r\n        </ngx-spinner>\r\n        <ngx-spinner name=\"dusuario\" bdColor=\"rgba(51,51,51,0.8)\" size=\"medium\" color=\"#759ee0\" type=\"ball-atom\">\r\n            <p style=\"font-size: 20px;color: white\"> Desbloqueando usuario ... </p>\r\n        </ngx-spinner>\r\n        <div class=\"d-flex mb-3 mt-3\">\r\n            <form class=\"m-t-20\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12 col-lg-12\">\r\n                        <div class=\"form-group row\">\r\n                            <div class=\"input-group col-sm-12\">\r\n                                <div class=\"input-group-prepend\">\r\n                                    <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                            <i class=\"ti-search\"></i>\r\n                                        </span>\r\n                                </div>\r\n                                <input [(ngModel)]=\"searchTerm\" class=\"form-control\" name=\"buscador\" placeholder=\"Buscar\" type=\"text\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        <div class=\"table-responsive table-bordered\">\r\n            <table class=\"table table-striped mb-0 no-wrap v-middle\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Código de cliente</th>\r\n                        <th scope=\"col\">Nombre Completo</th>\r\n                        <!-- <th scope=\"col\">DATAID</th>\r\n                        <th scope=\"col\">FIRST_NAME</th>\r\n                        <th scope=\"col\">SECOND_NAME</th> -->\r\n                        <th scope=\"col\">COMENTARIO</th>\r\n                        <th scope=\"col\">USUARIO</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let user of data | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize\">\r\n\r\n                        <td>\r\n                            <ngb-highlight [result]=\"user.customer.customer_id\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                            <ngb-highlight [result]=\"user.customer.name\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td>\r\n                        <!-- <td>\r\n                            <ngb-highlight [result]=\"user.onu.DATAID\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                            <ngb-highlight [result]=\"user.onu.FIRST_NAME\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td>\r\n                        <td>\r\n                            <ngb-highlight [result]=\"user.onu.SECOND_NAME\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td> -->\r\n                        <td style=\"width: 200px !important;white-space: normal !important;\">\r\n                            {{user.log.description}}\r\n                        </td>\r\n                        <td>\r\n                            <ngb-highlight [result]=\"user.log.employee_email\" [term]=\"searchTerm\"></ngb-highlight>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div class=\"d-flex justify-content-center p-2\">\r\n                <ngb-pagination *ngIf=\"data\" [maxSize]=\"5\" [collectionSize]=\"data.length\" [(page)]=\"page\" [pageSize]=\"pageSize\">\r\n                </ngb-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AuthorizationService } from '../../services/service.index';\r\nimport { MysqlService } from '../../services/mysql/mysql.service';\r\n\r\n@Component({\r\n  selector: \"app-log-unlock-lock-customer-onu\",\r\n  templateUrl: \"./log-unlock-lock-customer-onu.component.html\",\r\n  styleUrls: [\"./log-unlock-lock-customer-onu.component.css\"],\r\n})\r\nexport class LogUnlockLockCustomerOnuComponent implements OnInit {\r\n  data = [];\r\n  page = 1;\r\n  pageSize = 10;\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    private mysqlService: MysqlService,\r\n    private toastr: ToastrService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n    private autorization: AuthorizationService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.GetVerificationList();\r\n  }\r\n\r\n  _searchTerm: string;\r\n  get searchTerm(): string {\r\n    return this._searchTerm;\r\n  }\r\n  set searchTerm(val: string) {\r\n    this._searchTerm = val;\r\n    this.data = this.filter(val);\r\n  }\r\n\r\n  filter(v: string) {\r\n    //console.log(v);\r\n    if (v !== \"\") {\r\n      return this.data.filter(\r\n        (x) =>\r\n          x.customer.name.toLowerCase().indexOf(v.toLowerCase()) !== -1 ||\r\n          x.onu.FIRST_NAME.toLowerCase().indexOf(v.toLowerCase()) !== -1 ||\r\n          x.onu.SECOND_NAME.toLowerCase().indexOf(v.toLowerCase()) !== -1 ||\r\n          x.customer.customer_id == v ||\r\n          x.onu.DATAID == v\r\n        /*x.address2.toLowerCase().indexOf(v.toLowerCase()) !== -1*/\r\n      );\r\n    } else {\r\n      this.GetVerificationList();\r\n    }\r\n  }\r\n\r\n  async GetVerificationList() {\r\n    this.spinner.show();\r\n    await this.mysqlService\r\n      .GetLogsUnlockLockCustomerOnu()\r\n      .toPromise()\r\n      .then((res) => {\r\n        console.log('res',res);\r\n        //console.log(\"data\", res.data);\r\n        this.data = res.data;\r\n        this.spinner.hide();\r\n      })\r\n      .catch((err) => {\r\n        this.toastr.error(\"Problemas con el servidor.\", \"Oops!\");\r\n        this.spinner.hide();\r\n      });\r\n  }\r\n}\r\n","import { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { LogUnlockLockCustomerOnuComponent } from \"./log-unlock-lock-customer-onu.component\";\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from \"@angular/core\";\r\nimport { NgxSpinnerModule } from \"ngx-spinner\";\r\nimport { QuillModule } from \"ngx-quill\";\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    data: {\r\n      title: \"Bitácora de desbloqueo de clientes en lista\",\r\n      urls: [\r\n        { title: \"Tablero\", url: \"/dashboard\" },\r\n        { title: \"Desbloqueo de clientes en lista ONU\" },\r\n      ],\r\n    },\r\n    component: LogUnlockLockCustomerOnuComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes),\r\n    NgbModule,\r\n    NgxSpinnerModule,\r\n    QuillModule.forRoot(),\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  declarations: [LogUnlockLockCustomerOnuComponent],\r\n})\r\nexport class LogUnlockLockCustomerOnu{}\r\n"]}